/* ============================================
   GLOCEPS - Global Centre for Policy and Strategy
   Premium Frontend Prototype
   Inspired by: Chatham House, Brookings, Award-winning Think Tanks
   ============================================ */

/* ============================================
   CSS CUSTOM PROPERTIES
   ============================================ */
:root {
  /* Brand Colors */
  --color-primary: #3f93c1;
  --color-primary-dark: #2a7ba8;
  --color-primary-light: #64b5d8;
  --color-primary-muted: rgba(63, 147, 193, 0.15);

  /* Accent - Kenya-inspired earth tones */
  --color-accent: #c4a35a;
  --color-accent-dark: #a88b42;

  /* Secondary Accent - GLOCEPS Green */
  --color-green: #70b544;
  --color-green-dark: #5a9636;
  --color-green-light: #8bc964;

  /* Neutrals - Refined palette */
  --color-black: #0d0d0d;
  --color-gray-950: #141414;
  --color-gray-900: #1a1a1a;
  --color-gray-800: #262626;
  --color-gray-700: #404040;
  --color-gray-600: #525252;
  --color-gray-500: #737373;
  --color-gray-400: #a3a3a3;
  --color-gray-300: #d4d4d4;
  --color-gray-200: #e5e5e5;
  --color-gray-100: #f5f5f5;
  --color-gray-50: #fafafa;
  --color-white: #ffffff;

  /* Semantic */
  --color-success: #16a34a;
  --color-warning: #ca8a04;
  --color-error: #dc2626;

  /* Typography - Distinctive font pairing */
  --font-display: "Fraunces", "Georgia", serif;
  --font-primary: "DM Sans", -apple-system, BlinkMacSystemFont, sans-serif;
  --font-mono: "JetBrains Mono", "Fira Code", monospace;

  /* Font Sizes - Fluid typography */
  /* Base scale (Medium - default) */
  --text-xs-base: clamp(0.7rem, 0.8vw, 0.75rem);
  --text-sm-base: clamp(0.8rem, 0.9vw, 0.875rem);
  --text-base-base: clamp(1rem, 1.1vw, 1.125rem);
  --text-lg-base: clamp(1.125rem, 1.2vw, 1.25rem);
  --text-xl-base: clamp(1.1rem, 1.25vw, 1.25rem);
  --text-2xl-base: clamp(1.25rem, 1.5vw, 1.5rem);
  --text-3xl-base: clamp(1.5rem, 2vw, 1.875rem);
  --text-4xl-base: clamp(1.875rem, 2.5vw, 2.25rem);
  --text-5xl-base: clamp(2.25rem, 3.5vw, 3rem);
  --text-6xl-base: clamp(2.75rem, 5vw, 4rem);
  --text-7xl-base: clamp(3.5rem, 7vw, 5.5rem);
  
  /* Font size multiplier for accessibility */
  --font-size-multiplier: 1;
  
  /* Applied font sizes with multiplier */
  --text-xs: calc(var(--text-xs-base) * var(--font-size-multiplier));
  --text-sm: calc(var(--text-sm-base) * var(--font-size-multiplier));
  --text-base: calc(var(--text-base-base) * var(--font-size-multiplier));
  --text-lg: calc(var(--text-lg-base) * var(--font-size-multiplier));
  --text-xl: calc(var(--text-xl-base) * var(--font-size-multiplier));
  --text-2xl: calc(var(--text-2xl-base) * var(--font-size-multiplier));
  --text-3xl: calc(var(--text-3xl-base) * var(--font-size-multiplier));
  --text-4xl: calc(var(--text-4xl-base) * var(--font-size-multiplier));
  --text-5xl: calc(var(--text-5xl-base) * var(--font-size-multiplier));
  --text-6xl: calc(var(--text-6xl-base) * var(--font-size-multiplier));
  --text-7xl: calc(var(--text-7xl-base) * var(--font-size-multiplier));

  /* Line Heights */
  --leading-none: 1;
  --leading-tight: 1.15;
  --leading-snug: 1.3;
  --leading-normal: 1.5;
  --leading-relaxed: 1.7;

  /* Letter Spacing */
  --tracking-tight: -0.03em;
  --tracking-normal: 0;
  --tracking-wide: 0.05em;
  --tracking-wider: 0.1em;

  /* Spacing */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  --space-16: 4rem;
  --space-20: 5rem;
  --space-24: 6rem;
  --space-32: 8rem;
  --space-40: 10rem;

  /* Layout */
  --container-max: 1400px;
  --container-wide: 1600px;
  --container-narrow: 720px;
  --header-height: 72px;
  --header-height-scrolled: 64px;

  /* Borders & Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 20px;
  --radius-2xl: 32px;
  --radius-full: 9999px;

  /* Shadows - Layered for depth */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 12px 32px rgba(0, 0, 0, 0.12);
  --shadow-xl: 0 24px 48px rgba(0, 0, 0, 0.16);
  --shadow-glow: 0 0 60px rgba(63, 147, 193, 0.25);

  /* Transitions */
  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-out-quart: cubic-bezier(0.25, 1, 0.5, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --duration-fast: 150ms;
  --duration-base: 300ms;
  --duration-slow: 500ms;
  --duration-slower: 800ms;
}

/* ============================================
   RESET & BASE
   ============================================ */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body {
  font-family: var(--font-primary);
  font-size: var(--text-base);
  font-weight: 400;
  line-height: var(--leading-normal);
  color: var(--color-gray-800);
  background-color: var(--color-white);
  overflow-x: hidden;
}

/* Font size accessibility classes - set multiplier on :root */
html.font-size-small {
  --font-size-multiplier: 0.875;
}

html.font-size-medium {
  --font-size-multiplier: 1;
}

html.font-size-large {
  --font-size-multiplier: 1.25;
}

::selection {
  background-color: var(--color-primary);
  color: var(--color-white);
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

a {
  color: inherit;
  text-decoration: none;
}

button {
  font-family: inherit;
  cursor: pointer;
  border: none;
  background: none;
}

ul,
ol {
  list-style: none;
}

/* ============================================
   TYPOGRAPHY
   ============================================ */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-display);
  font-weight: 400;
  line-height: var(--leading-tight);
  color: var(--color-gray-900);
  letter-spacing: var(--tracking-tight);
}

h1 {
  font-size: var(--text-6xl);
  font-weight: 700;
}

h2 {
  font-size: var(--text-4xl);
  font-weight: 700;
}

h3 {
  font-size: var(--text-3xl);
}

h4 {
  font-size: var(--text-2xl);
}

h5 {
  font-size: var(--text-xl);
  font-family: var(--font-primary);
  font-weight: 600;
}

h6 {
  font-size: var(--text-lg);
  font-family: var(--font-primary);
  font-weight: 600;
}

p {
  margin-bottom: var(--space-4);
}

.display-text {
  font-size: var(--text-7xl);
  font-family: var(--font-display);
  font-weight: 300;
  line-height: var(--leading-none);
  letter-spacing: var(--tracking-tight);
}

.eyebrow {
  font-family: var(--font-primary);
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-primary);
}

.lead {
  font-size: var(--text-xl);
  line-height: var(--leading-relaxed);
  color: var(--color-gray-600);
}

.text-gradient {
  background: linear-gradient(
    135deg,
    var(--color-primary) 0%,
    var(--color-primary-light) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ============================================
   LAYOUT
   ============================================ */
.container {
  width: 100%;
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 var(--space-6);
}

.container--wide {
  max-width: var(--container-wide);
}

.container--narrow {
  max-width: var(--container-narrow);
}

.section {
  padding: var(--space-24) 0;
  position: relative;
}

.section--compact {
  padding: var(--space-12) 0;
}

.section--filters {
  padding-top: var(--space-8);
  padding-bottom: var(--space-3);
}

.section--filters + .section {
  padding-top: var(--space-12);
}

.section--compact {
  padding: var(--space-16) 0;
}

.section--gray {
  background: var(--color-gray-50);
  padding: var(--space-12) 0;
}

/* Section Background Style Variants */
.section--bg-default {
  background: var(--color-white);
}

.section--bg-gray {
  background: var(--color-gray-50);
}

.section--bg-light-blue {
  background: linear-gradient(135deg, rgba(63, 147, 193, 0.05) 0%, rgba(63, 147, 193, 0.02) 100%);
}

.section--hero {
  padding: 0;
  min-height: 100vh;
}

/* Grid System */
.grid {
  display: grid;
  gap: var(--space-6);
}

.grid--2 {
  grid-template-columns: repeat(2, 1fr);
}
.grid--3 {
  grid-template-columns: repeat(3, 1fr);
}
.grid--4 {
  grid-template-columns: repeat(4, 1fr);
}
.grid--12 {
  grid-template-columns: repeat(12, 1fr);
}

.col-span-4 {
  grid-column: span 4;
}
.col-span-5 {
  grid-column: span 5;
}
.col-span-6 {
  grid-column: span 6;
}
.col-span-7 {
  grid-column: span 7;
}
.col-span-8 {
  grid-column: span 8;
}

@media (max-width: 1024px) {
  .grid--4,
  .grid--3 {
    grid-template-columns: repeat(2, 1fr);
  }
  .grid--12 {
    grid-template-columns: 1fr;
  }
  .col-span-4,
  .col-span-5,
  .col-span-6,
  .col-span-7,
  .col-span-8 {
    grid-column: span 1;
  }
}

@media (max-width: 640px) {
  .grid--2,
  .grid--3,
  .grid--4 {
    grid-template-columns: 1fr;
  }
  .section {
    padding: var(--space-16) 0;
  }
}

/* ============================================
   HEADER - Premium Banded Navigation
   ============================================ */
.header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  padding: var(--space-4) 0;
  transition: all var(--duration-base) var(--ease-out-quart);
  background: transparent;
}

.header--transparent {
  background: transparent;
}

.header__bar {
  position: relative;
}

.header__inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-6);
  min-width: 0; /* Allow flex items to shrink below their content size */
}

/* Logo Section - sits on hero */
.header__logo {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex-shrink: 1; /* Allow logo to shrink */
  min-width: 0; /* Allow content to shrink */
  max-width: 400px; /* Prevent logo from taking too much space */
}

/* When text is hidden, allow logo to take more space */
.header__logo--no-text {
  max-width: 500px;
}

.header__logo img {
  height: 48px;
  width: auto;
  max-width: 100%;
  object-fit: contain;
  filter: brightness(0) invert(1);
  transition: all var(--duration-base) var(--ease-out-quart);
}

.header.scrolled .header__logo img,
.header--dark .header__logo img {
  filter: none;
}

/* Logo Size Variations - Responsive with proper aspect ratio */
.header__logo-img--size-1 {
  height: 32px !important;
  max-width: none; /* Allow wider logos to display properly */
  width: auto;
}

.header__logo-img--size-2 {
  height: 48px !important;
  max-width: none; /* Allow wider logos to display properly */
  width: auto;
}

.header__logo-img--size-3 {
  height: 72px !important; /* Balanced size - larger than default but not overwhelming */
  max-width: none; /* Allow wider logos to display properly */
  width: auto;
}

/* When text is hidden, allow logo to be larger */
.header__logo--no-text .header__logo-img--size-1 {
  height: 40px !important;
}

.header__logo--no-text .header__logo-img--size-2 {
  height: 60px !important;
}

.header__logo--no-text .header__logo-img--size-3 {
  height: 88px !important; /* Slightly larger when text is hidden, but still reasonable */
}

.header__logo-text {
  display: flex;
  flex-direction: column;
  min-width: 0; /* Allow text to shrink */
  max-width: 100%; /* Constrain to parent */
}

.header__logo-text strong {
  font-family: var(--font-site-title, Tahoma, Verdana, sans-serif); /* Default to Tahoma as specified by client */
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-white);
  letter-spacing: var(--tracking-tight);
  transition: color var(--duration-base);
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  max-width: 100%;
  line-height: 1.3; /* Tighter line height for wrapping */
}

.header.scrolled .header__logo-text strong,
.header--dark .header__logo-text strong {
  color: var(--color-gray-900);
}

.header__logo-text span {
  font-size: 11px;
  color: rgba(255, 255, 255, 0.7);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  transition: color var(--duration-base);
  word-wrap: break-word;
  overflow-wrap: break-word;
  line-height: 1.3;
  max-width: 100%;
}

.header.scrolled .header__logo-text span,
.header--dark .header__logo-text span {
  color: var(--color-gray-500);
}

/* ============================================
   NAV BAND - The distinctive design element
   ============================================ */
.nav__band {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 100px;
  padding: var(--space-2);
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.5);
  flex-shrink: 1; /* Allow nav band to shrink */
  min-width: 0; /* Allow content to shrink */
  max-width: calc(100% - 450px); /* Reserve space for logo and actions */
  overflow: visible; /* Ensure dropdowns are not clipped */
}

.header.scrolled .nav__band {
  background: var(--color-white);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.04);
}

/* Navigation inside band */
.nav {
  display: flex;
  align-items: center;
  flex-shrink: 1;
  min-width: 0;
}

.nav__list {
  display: flex;
  align-items: center;
  gap: 0;
  flex-wrap: nowrap; /* Prevent wrapping - use More menu instead */
  min-width: 0;
  flex-shrink: 1;
  overflow: visible; /* Ensure dropdowns are not clipped */
}

.nav__item {
  position: relative;
  overflow: visible; /* Ensure dropdowns are not clipped */
}

/* Hide items that are in More menu (but keep in DOM for dropdowns) */
.nav__item--hidden {
  display: none !important;
}

.nav__link {
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-3) var(--space-4);
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--color-gray-600);
  border-radius: 100px;
  transition: all var(--duration-fast) var(--ease-out-quart);
  white-space: nowrap;
  flex-shrink: 0; /* Prevent nav links from shrinking */
}

.nav__link:hover {
  color: var(--color-gray-900);
  background: var(--color-gray-100);
}

.nav__link--active {
  color: var(--color-white);
  background: var(--color-gray-900);
  font-weight: 500;
}

.nav__link--active:hover {
  color: var(--color-white);
  background: var(--color-gray-800);
}

/* Header Actions */
.header__actions {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding-left: var(--space-2);
  border-left: 1px solid var(--color-gray-200);
  margin-left: var(--space-2);
  flex-shrink: 0; /* Never shrink - always keep actions visible */
  min-width: fit-content; /* Ensure buttons don't get cut off */
}

.header__search {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 100px;
  color: var(--color-gray-500);
  transition: all var(--duration-fast);
}

.header__search:hover {
  color: var(--color-gray-900);
  background: var(--color-gray-100);
}

/* Nav Buttons */
.btn--nav {
  padding: var(--space-3) var(--space-5);
  font-size: 0.875rem;
  font-weight: 600;
  border-radius: 100px;
  white-space: nowrap;
}

.btn--primary.btn--nav {
  background: var(--color-primary);
  color: var(--color-white);
  box-shadow: 0 2px 8px rgba(63, 147, 193, 0.35);
}

.btn--primary.btn--nav:hover {
  background: var(--color-primary-dark);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(63, 147, 193, 0.45);
}

.btn--outline-light.btn--nav {
  background: transparent;
  color: var(--color-gray-700);
  border: 1.5px solid var(--color-gray-300);
}

.btn--outline-light.btn--nav:hover {
  background: var(--color-gray-900);
  color: var(--color-white);
  border-color: var(--color-gray-900);
}

/* Header scrolled state */
.header.scrolled {
  padding: var(--space-3) 0;
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05);
}

.header.scrolled .nav__band {
  background: var(--color-gray-50);
  border-color: var(--color-gray-200);
}

/* Dropdown Menu */
.nav__dropdown {
  position: absolute;
  top: calc(100% - 4px); /* Reduced gap - dropdown starts closer to menu item */
  left: 50%;
  transform: translateX(-50%) translateY(10px);
  min-width: 220px;
  padding: var(--space-2);
  padding-top: calc(var(--space-2) + 8px); /* Extra padding at top to create hover bridge */
  background: var(--color-white);
  border-radius: var(--radius-xl);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: all var(--duration-fast) var(--ease-out-quart);
  z-index: 10000;
}

.nav__dropdown::before {
  content: "";
  position: absolute;
  top: 2px; /* Moved down to align with reduced gap */
  left: 50%;
  transform: translateX(-50%) rotate(45deg);
  width: 12px;
  height: 12px;
  background: var(--color-white);
  border-radius: 2px;
  box-shadow: -2px -2px 4px rgba(0, 0, 0, 0.03);
  z-index: 1;
}

.nav__item:hover .nav__dropdown,
.nav__item.nav__item--dropdown-open .nav__dropdown {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transform: translateX(-50%) translateY(0);
}

.nav__dropdown-link {
  display: block;
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-600);
  border-radius: var(--radius-lg);
  transition: all var(--duration-fast);
}

.nav__dropdown-link:hover {
  color: var(--color-gray-900);
}

/* More Menu (for overflow items) */
.nav__more {
  position: relative;
  flex-shrink: 0;
}

.nav__more-toggle {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-3) var(--space-4);
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--color-gray-600);
  background: transparent;
  border: none;
  border-radius: 100px;
  cursor: pointer;
  transition: all var(--duration-fast) var(--ease-out-quart);
  white-space: nowrap;
  font-family: inherit;
}

.nav__more-toggle:hover {
  color: var(--color-gray-900);
  background: var(--color-gray-100);
}

.nav__more--open .nav__more-toggle,
.nav__more-toggle[aria-expanded="true"] {
  color: var(--color-white);
  background: var(--color-gray-900);
}

.nav__more-toggle .nav__chevron {
  width: 10px;
  height: 10px;
  transition: transform var(--duration-fast);
}

.nav__more--open .nav__more-toggle .nav__chevron,
.nav__more-toggle[aria-expanded="true"] .nav__chevron {
  transform: rotate(180deg);
}

/* More menu dropdown */
.nav__more .nav__dropdown {
  right: 0;
  left: auto;
  transform: translateX(0) translateY(10px);
  min-width: 200px;
}

.nav__more .nav__dropdown::before {
  right: 20px;
  left: auto;
  transform: translateX(0) rotate(45deg);
}

.nav__more--open .nav__dropdown,
.nav__more .nav__dropdown--open {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transform: translateX(0) translateY(0);
}

/* Items in More menu dropdown */
.nav__more .nav__dropdown-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

.nav__more .nav__dropdown-list .nav__item {
  margin: 0;
  position: relative;
}

.nav__more .nav__dropdown-list .nav__link {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-3) var(--space-4);
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--color-gray-600);
  border-radius: var(--radius-lg);
  transition: all var(--duration-fast);
  white-space: nowrap;
}

.nav__more .nav__dropdown-list .nav__link:hover {
  color: var(--color-gray-900);
  background: var(--color-gray-100);
}

.nav__more .nav__dropdown-list .nav__link--active {
  color: var(--color-white);
  background: var(--color-gray-900);
}

/* Submenus in More dropdown - show to the right */
.nav__more .nav__dropdown-list .nav__item--has-dropdown .nav__dropdown {
  top: 0;
  left: calc(100% - 4px); /* Reduced gap - dropdown starts closer to menu item */
  right: auto;
  transform: translateX(10px) translateY(0);
  margin-left: 0; /* Remove margin to reduce gap */
  padding-top: calc(var(--space-2) + 8px); /* Extra padding at top to create hover bridge */
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: all var(--duration-fast) var(--ease-out-quart);
}

.nav__more .nav__dropdown-list .nav__item--has-dropdown .nav__dropdown::before {
  top: 2px; /* Moved down to align with reduced gap and hover bridge */
  left: -6px;
  right: auto;
  transform: rotate(-45deg);
}

/* Only show dropdown when explicitly opened via JavaScript (nav__item--open class) */
.nav__more .nav__dropdown-list .nav__item--has-dropdown.nav__item--open .nav__dropdown {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transform: translateX(0) translateY(0);
}

/* Ensure submenu items in More dropdown are styled correctly */
.nav__more .nav__dropdown-list .nav__item--has-dropdown .nav__link {
  position: relative;
}

.nav__more .nav__dropdown-list .nav__item--has-dropdown .nav__chevron {
  width: 10px;
  height: 10px;
  margin-left: var(--space-2);
  flex-shrink: 0;
}
  background: var(--color-gray-50);
}

/* Wide dropdown for Publications */
.nav__dropdown--wide {
  min-width: 300px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-1);
}

.nav__dropdown--wide .nav__dropdown-link {
  white-space: nowrap;
}

/* External link style */
.nav__dropdown-link--external {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  grid-column: span 2;
  margin-top: var(--space-2);
  padding-top: var(--space-3);
  border-top: 1px solid var(--color-gray-100);
  color: var(--color-primary);
}

.nav__dropdown-link--external:hover {
  color: var(--color-primary-dark);
  background: var(--color-primary-muted);
}

.nav__dropdown-link--external svg {
  flex-shrink: 0;
  opacity: 0.7;
}

.nav__chevron {
  width: 12px;
  height: 12px;
  opacity: 0.5;
  transition: all var(--duration-fast);
}

.nav__item:hover .nav__chevron {
  transform: rotate(180deg);
  opacity: 1;
}

/* Header Dark Mode (for pages with light backgrounds like About) */
.header--dark .header__logo img {
  filter: none;
}

.header--dark .header__logo-text strong {
  color: var(--color-gray-900);
}

.header--dark .header__logo-text span {
  color: var(--color-gray-500);
}

/* Header on Primary/Blue background */
.header--on-primary {
  background: var(--color-primary);
}

.header--on-primary .header__logo img {
  filter: brightness(0) invert(1);
}

.header--on-primary .header__logo-text strong {
  color: var(--color-white);
}

.header--on-primary .header__logo-text span {
  color: rgba(255, 255, 255, 0.8);
}

/* Mobile nav toggle needs white styling on primary background */
.header--on-primary .nav__toggle {
  color: var(--color-white);
  background: rgba(255, 255, 255, 0.15);
}

.header--on-primary .nav__toggle:hover {
  background: rgba(255, 255, 255, 0.25);
}

/* Cart Button */
.header__cart {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 100px;
  color: var(--color-gray-500);
  transition: all var(--duration-fast);
}

.header__cart:hover {
  color: var(--color-gray-900);
  background: var(--color-gray-100);
}

.header__cart-count {
  position: absolute;
  top: -2px;
  right: -2px;
  min-width: 18px;
  height: 18px;
  padding: 0 5px;
  font-size: 11px;
  font-weight: 600;
  color: var(--color-white);
  background: var(--color-primary);
  border-radius: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Nav Toggle */
.nav__toggle {
  display: none;
  width: 40px;
  height: 40px;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-md);
  transition: background var(--duration-fast);
}

.nav__toggle:hover {
  background: rgba(255, 255, 255, 0.1);
}

.header.scrolled .nav__toggle:hover,
.header--dark .nav__toggle:hover {
  background: var(--color-gray-100);
}

.nav__toggle-icon {
  position: relative;
  width: 20px;
  height: 14px;
}

.nav__toggle-icon span {
  position: absolute;
  left: 0;
  width: 100%;
  height: 2px;
  background: var(--color-gray-800);
  border-radius: 1px;
  transition: all var(--duration-fast) var(--ease-out-quart);
}

.nav__toggle-icon span:nth-child(1) {
  top: 0;
}
.nav__toggle-icon span:nth-child(2) {
  top: 6px;
}
.nav__toggle-icon span:nth-child(3) {
  top: 12px;
}

/* Desktop: Ensure proper spacing and constraints */
@media (min-width: 1025px) {
  .header__logo {
    max-width: 380px; /* Slightly smaller on desktop to give more room */
  }
  
  /* When text is hidden, allow larger logo on desktop */
  .header__logo--no-text {
    max-width: 500px;
  }
  
  .nav__band {
    max-width: calc(100% - 420px); /* Adjust based on logo + actions space */
  }
  
  /* Ensure nav items don't overflow */
  .nav__list {
    max-width: 100%;
    overflow: visible; /* Ensure dropdowns are not clipped */
  }
}

@media (max-width: 1024px) {
  .nav__list {
    display: none;
  }
  .nav__toggle {
    display: flex;
  }
  
  /* Hide the entire nav band on mobile - only show toggle */
  .nav__band {
    display: none;
  }
  
  /* Hide header actions on mobile */
  .header__actions {
    display: none;
  }
  
  /* Adjust header for mobile - reduce padding by half */
  .header {
    padding: var(--space-2) 0; /* Reduced from var(--space-4) */
  }
  
  .header__inner {
    padding: calc(var(--space-3) / 2) 0; /* Reduced by half from var(--space-3) */
  }
  
  /* Make toggle icon visible on both light and dark backgrounds */
  .nav__toggle-icon span {
    background: var(--color-white);
  }
  
  .header.scrolled .nav__toggle-icon span,
  .header--dark .nav__toggle-icon span {
    background: var(--color-gray-800);
  }
  
  /* Ensure page headers have proper padding for fixed header */
  .page-header {
    padding-top: calc(var(--header-height) + var(--space-12)) !important; /* Increased from var(--space-8) */
  }
  
  .page-header--minimal {
    padding-top: calc(var(--header-height) + var(--space-8)) !important; /* Increased from var(--space-4) */
  }
}

/* ============================================
   BUTTONS - Premium Styling
   ============================================ */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-6);
  font-family: var(--font-primary);
  font-size: var(--text-sm);
  font-weight: 600;
  border-radius: var(--radius-full);
  transition: all var(--duration-base) var(--ease-out-quart);
  position: relative;
  overflow: hidden;
}

.btn--primary {
  background: var(--color-gray-900);
  color: var(--color-white);
}

.btn--primary:hover {
  background: var(--color-black);
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

.btn--secondary {
  background: transparent;
  color: var(--color-gray-800);
  border: 1.5px solid var(--color-gray-300);
}

.btn--secondary:hover {
  border-color: var(--color-gray-900);
  background: var(--color-gray-900);
  color: var(--color-white);
}

/* Secondary button in dark CTA sections */
.cta-section--dark .btn--secondary {
  color: var(--color-white);
  border-color: rgba(255, 255, 255, 0.3);
}

.cta-section--dark .btn--secondary:hover,
.cta-section--primary .btn--secondary:hover {
  background: var(--color-white);
  color: var(--color-gray-900);
  border-color: var(--color-white);
}

.cta-section--primary .btn--secondary {
  color: var(--color-white);
  border-color: rgba(255, 255, 255, 0.3);
}

.btn--accent {
  background: var(--color-primary);
  color: var(--color-white);
}

.btn--accent:hover {
  background: var(--color-primary-dark);
  transform: translateY(-2px);
  box-shadow: var(--shadow-glow);
}

.btn--ghost {
  background: transparent;
  color: var(--color-gray-700);
  padding: var(--space-2) var(--space-4);
}

.btn--ghost:hover {
  color: var(--color-primary);
  background: var(--color-primary-muted);
}

.btn--outline {
  background: transparent;
  color: var(--color-gray-900);
  border: 1.5px solid var(--color-gray-300);
}

.btn--outline:hover {
  border-color: var(--color-gray-900);
  background: var(--color-gray-900);
  color: var(--color-white);
}

.btn--lg {
  padding: var(--space-4) var(--space-8);
  font-size: var(--text-base);
}

.btn--sm {
  padding: var(--space-2) var(--space-4);
  font-size: var(--text-xs);
}

.btn--icon {
  width: 44px;
  height: 44px;
  padding: 0;
  border-radius: var(--radius-md);
}

.btn__arrow {
  transition: transform var(--duration-fast) var(--ease-out-quart);
}

.btn:hover .btn__arrow {
  transform: translateX(4px);
}

/* ============================================
   HERO - True Horizontal Split Layout
   ============================================ */
.hero--split {
  position: relative;
  min-height: 80vh;
  display: grid;
  grid-template-columns: 1fr 1fr;
  overflow: hidden;
  margin-top: 0;
  gap: 0;
}

/* Content Side (Left) */
.hero__content-block {
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-green) 100%);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  display: flex;
  align-items: center;
  padding: var(--space-16) var(--space-12) var(--space-16) var(--space-16); /* Increased left padding to move content inward and align with logo */
  position: relative;
  overflow: hidden;
  z-index: 1;
  isolation: isolate;
}

/* When background image is set, it will override the gradient via inline style */
.hero__content-block[style*="background-image"] {
  /* Background image is set via inline style, gradient remains as fallback in CSS */
}

.hero__content-inner {
  max-width: 540px;
  margin-left: 0; /* Align to left to match logo position */
  color: var(--color-white); /* Ensure white text in hero content */
}

.hero__title {
  font-size: clamp(3rem, 5.5vw, 4.5rem); /* Larger for hero statement */
  color: var(--color-white);
  margin-top: var(--space-12); /* Increased spacing from logo/header */
  margin-bottom: var(--space-6);
  font-weight: 400; /* Lighter weight to contrast with emphasized text */
  line-height: 1.1;
  letter-spacing: -0.02em; /* Tighter spacing for larger text */
}

.hero__title em {
  font-style: normal;
  display: block;
  color: var(--color-white); /* Full white for maximum contrast */
  font-weight: 900; /* Maximum weight for emphasis */
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.2); /* Subtle shadow for depth */
}

.hero__description {
  font-size: clamp(1.125rem, 1.5vw, 1.375rem); /* Larger than standard text-lg */
  color: rgba(255, 255, 255, 0.9);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-8);
  font-weight: 400;
}

.hero__actions {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  flex-wrap: wrap;
}

.hero__link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  font-family: var(--font-primary); /* Explicitly set font family */
  font-size: clamp(1rem, 1.2vw, 1.125rem); /* Larger than standard text-base */
  font-weight: 700; /* Use bold (700) instead of semi-bold (600) for better visibility */
  color: var(--color-white);
  text-decoration: none;
  padding: var(--space-4) var(--space-8);
  border-radius: var(--radius-full);
  background: var(--color-primary);
  border: 2px solid var(--color-primary);
  transition: all var(--duration-fast);
  position: relative;
  box-shadow: 0 4px 12px rgba(63, 147, 193, 0.3);
  white-space: nowrap;
  min-height: 44px;
  line-height: 1.2;
}

/* Hero link text wrapper */
.hero__link-text {
  display: inline;
  line-height: inherit;
  vertical-align: baseline;
}

.hero__link--secondary {
  background: var(--color-green) !important; /* Changed from gray-900 to green */
  color: #ffffff !important; /* Use direct white color value */
  border: 2px solid var(--color-green) !important;
  padding: var(--space-4) var(--space-8) !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-height: 44px !important;
  line-height: 1.2 !important; /* Match primary button line-height */
  height: auto !important;
  font-family: var(--font-primary) !important; /* Explicitly set font family */
  font-weight: 700 !important; /* Use bold (700) to match primary button and ensure visibility */
  font-size: clamp(1rem, 1.2vw, 1.125rem) !important; /* Match primary button font size */
}

/* Force white color on secondary button - highest specificity */
a.hero__link.hero__link--secondary,
a.hero__link.hero__link--secondary:link,
a.hero__link.hero__link--secondary:visited,
a.hero__link.hero__link--secondary:active {
  color: #ffffff !important;
}

a.hero__link.hero__link--secondary *,
a.hero__link.hero__link--secondary:link *,
a.hero__link.hero__link--secondary:visited *,
a.hero__link.hero__link--secondary:active * {
  color: #ffffff !important;
}

.hero__content-inner a.hero__link.hero__link--secondary,
.hero__content-inner a.hero__link.hero__link--secondary * {
  color: #ffffff !important;
}

.hero__link--secondary,
.hero__link--secondary * {
  line-height: 1.2 !important; /* Match primary button line-height */
  margin: 0 !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
  font-weight: 700 !important; /* Use bold (700) to ensure visibility */
  color: #ffffff !important; /* Use direct white color value on all children */
}

.hero__link--secondary .hero__link-text {
  display: inline !important;
  line-height: 1.2 !important; /* Match primary button line-height */
  vertical-align: middle !important;
  font-weight: 700 !important; /* Use bold (700) to match primary button */
  color: #ffffff !important; /* Use direct white color value on text */
}

/* Override any Effra font rules that might affect secondary button */
body.font-effra-active .hero__link--secondary,
body.font-effra-active .hero__link--secondary *,
body.font-effra-active .hero__link--secondary .hero__link-text {
  color: #ffffff !important;
  font-weight: 700 !important;
}

.hero__link--secondary:hover {
  background: var(--color-green-dark, #1a7a3e) !important; /* Darker green on hover */
  border-color: var(--color-green-dark, #1a7a3e) !important;
  color: #ffffff !important; /* Use direct white color value on hover */
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(34, 139, 58, 0.4); /* Green shadow */
}

.hero__link--secondary:hover,
.hero__link--secondary:hover * {
  color: #ffffff !important; /* Use direct white color value on all children on hover */
}

/* On mobile, maintain button styling */
@media (max-width: 768px) {
  .hero__link {
    padding: var(--space-3) var(--space-6);
  }
}

.hero__link svg {
  transition: transform var(--duration-fast);
  flex-shrink: 0;
}

.hero__link:hover {
  background: var(--color-primary-dark);
  border-color: var(--color-primary-dark);
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(63, 147, 193, 0.4);
}

.hero__link:hover svg {
  transform: translateX(4px);
}

/* Image Side (Right) */
.hero__image {
  position: relative;
  overflow: hidden;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
  isolation: isolate;
}

.hero__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center center;
  display: block;
}

/* Hero Video Background */
.hero__video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center center;
  z-index: 1;
  display: block;
}

/* Fallback image - hidden when video loads */
.hero__image-fallback {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center center;
  z-index: 0;
  display: block;
}

/* Video overlay for better text readability if needed */
.hero__image--has-video::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to right,
    rgba(0, 0, 0, 0.25) 0%,
    rgba(0, 0, 0, 0.1) 40%,
    transparent 100%
  );
  pointer-events: none;
  z-index: 2;
}

/* Scroll indicator */
.hero__scroll {
  position: absolute;
  bottom: var(--space-8);
  right: var(--space-8);
  z-index: 3;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-3);
  color: rgba(255, 255, 255, 0.7);
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}

.hero__scroll-line {
  width: 2px;
  height: 50px;
  background: linear-gradient(to bottom, var(--color-green), transparent);
  animation: scrollLine 2s ease-in-out infinite;
}

@keyframes scrollLine {
  0% {
    transform: scaleY(0);
    transform-origin: top;
  }
  50% {
    transform: scaleY(1);
    transform-origin: top;
  }
  51% {
    transform: scaleY(1);
    transform-origin: bottom;
  }
  100% {
    transform: scaleY(0);
    transform-origin: bottom;
  }
}

/* Responsive - Hero */
@media (max-width: 1024px) {
  .hero--split {
    grid-template-columns: 1fr 1fr;
    min-height: 70vh;
  }

  .hero__content-block {
    padding: var(--space-12) var(--space-8);
  }

  .hero__content-block::after {
    right: -25px;
    width: 50px;
  }

  .hero__content-inner {
    max-width: 100%;
    margin-left: 0; /* Keep left-aligned on tablet */
  }

  .hero__title {
    font-size: var(--text-4xl);
  }
}

@media (max-width: 768px) {
  .hero--split {
    grid-template-columns: 1fr;
    min-height: auto;
  }

  /* On mobile, image goes on top */
  .hero__image {
    order: -1;
    height: 50vh;
    min-height: 300px;
    max-height: 500px;
    width: 100%;
    margin-top: var(--header-height); /* Push video down below header on mobile */
  }
  
  /* Ensure video and image fill mobile container identically */
  .hero__image .hero__video,
  .hero__image .hero__image-fallback {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
  }

  .hero__content-block {
    padding: var(--space-10) var(--space-6);
  }

  .hero__content-block::after {
    display: none;
  }

  .hero__content-inner {
    max-width: 100%;
    margin: 0 !important;
    text-align: left !important;
    display: block !important;
  }

  .hero__title {
    font-size: clamp(2rem, 4vw, 2.5rem); /* Still larger on mobile for hero statement */
    margin-top: 0; /* Reset top margin on mobile */
  }

  .hero__description {
    font-size: clamp(1rem, 1.2vw, 1.125rem); /* Larger than standard on mobile */
  }
  
  .hero--split .hero__actions {
    justify-content: flex-start !important;
    align-items: flex-start !important;
    width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    flex-wrap: nowrap !important;
  }
  
  .hero--split .hero__link {
    font-size: clamp(0.9375rem, 1.1vw, 1rem) !important; /* Slightly larger on mobile */
    margin-left: 0 !important;
    margin-right: var(--space-4) !important;
    align-self: flex-start !important;
    flex-shrink: 0 !important;
    flex-grow: 0 !important;
    flex-basis: auto !important;
    display: inline-flex !important;
    width: auto !important;
    max-width: none !important;
  }
  
  .hero--split .hero__link:last-child {
    margin-right: 0 !important;
  }

  /* Breadcrumb constraints on mobile */
}

/* ============================================
   HERO CAROUSEL
   ============================================ */
.hero--carousel {
  position: relative;
  min-height: 90vh;
  overflow: hidden;
  margin-top: 0;
  width: 100%;
}

.hero-carousel__container {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 90vh;
  display: block;
}

.hero-carousel__track {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 90vh;
}

.hero-carousel__slide {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  visibility: hidden;
  transition: opacity 1s ease-in-out, visibility 1s;
  z-index: 1;
}

.hero-carousel__slide--active {
  opacity: 1;
  visibility: visible;
  z-index: 2;
}

.hero-carousel__image-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  min-height: 90vh;
  overflow: hidden;
}

.hero-carousel__image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center center;
  display: block;
  transform: scale(1.05);
  transition: transform 8s ease-out;
}

.hero-carousel__slide--active .hero-carousel__image {
  transform: scale(1);
}

.hero-carousel__overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to right,
    rgba(0, 0, 0, 0.7) 0%,
    rgba(0, 0, 0, 0.5) 30%,
    rgba(0, 0, 0, 0.3) 50%,
    transparent 100%
  );
  z-index: 1;
}

.hero-carousel__content {
  position: absolute;
  inset: 0;
  z-index: 3;
  display: flex;
  align-items: center;
  padding: var(--space-16) 0;
  pointer-events: none;
}

.hero-carousel__content .container {
  width: 100%;
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 var(--space-6);
  padding-left: calc(var(--space-6) + 80px); /* Add extra padding to avoid arrow obstruction */
}

.hero-carousel__content-inner {
  max-width: 600px;
  color: var(--color-white);
  pointer-events: auto;
}

.hero-carousel__headline {
  font-family: var(--font-display);
  font-size: clamp(2.5rem, 6vw, 4.5rem);
  font-weight: 700;
  color: var(--color-white);
  line-height: 1.2;
  margin: 0 0 var(--space-6) 0;
  text-shadow: 0 2px 12px rgba(0, 0, 0, 0.5);
}

.hero-carousel__description {
  font-size: clamp(1.25rem, 2.5vw, 1.5rem);
  color: var(--color-white);
  line-height: 1.7;
  margin: 0 0 var(--space-8) 0;
  font-weight: 500;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
}

.hero-carousel__actions {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  flex-wrap: wrap;
}

.hero-carousel__btn {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-weight: 600;
  text-decoration: none;
  transition: all var(--duration-base);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  border-radius: var(--radius-full);
  padding: var(--space-4) var(--space-8);
  font-size: var(--text-base);
  white-space: nowrap;
}

.hero-carousel__btn--primary {
  background: var(--color-primary) !important;
  color: var(--color-white) !important;
  border: 2px solid var(--color-primary) !important;
}

.hero-carousel__btn--primary:hover {
  background: var(--color-primary-dark) !important;
  border-color: var(--color-primary-dark) !important;
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(63, 147, 193, 0.4);
}

.hero-carousel__btn--secondary {
  background: var(--color-green) !important;
  color: var(--color-white) !important;
  border: 2px solid var(--color-green) !important;
}

.hero-carousel__btn--secondary:hover {
  background: var(--color-green-dark) !important;
  border-color: var(--color-green-dark) !important;
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(112, 181, 68, 0.4);
}

.hero-carousel__btn svg {
  transition: transform var(--duration-fast);
}

.hero-carousel__btn:hover svg {
  transform: translateX(4px);
}

/* Navigation Dots */
.hero-carousel__dots {
  position: absolute;
  bottom: var(--space-8);
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  gap: var(--space-2);
  z-index: 10;
}

.hero-carousel__dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: 2px solid rgba(255, 255, 255, 0.5);
  background: transparent;
  cursor: pointer;
  transition: all var(--duration-fast);
  padding: 0;
  margin: 0;
}

.hero-carousel__dot:hover {
  border-color: rgba(255, 255, 255, 0.8);
  background: rgba(255, 255, 255, 0.3);
}

.hero-carousel__dot--active {
  background: var(--color-white);
  border-color: var(--color-white);
  width: 32px;
  border-radius: 6px;
}

/* Navigation Arrows */
.hero-carousel__arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.15);
  border: 2px solid rgba(255, 255, 255, 0.3);
  color: var(--color-white);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--duration-base);
  backdrop-filter: blur(10px);
  padding: 0;
  margin: 0;
}

.hero-carousel__arrow:hover {
  background: rgba(255, 255, 255, 0.25);
  border-color: rgba(255, 255, 255, 0.5);
  transform: translateY(-50%) scale(1.1);
}

.hero-carousel__arrow--prev {
  left: var(--space-8);
}

.hero-carousel__arrow--next {
  right: var(--space-8);
}

.hero-carousel__scroll {
  position: absolute;
  bottom: var(--space-8);
  right: var(--space-8);
  z-index: 10;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-3);
  color: rgba(255, 255, 255, 0.8);
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}

.hero-carousel__scroll-line {
  width: 2px;
  height: 40px;
  background: linear-gradient(to bottom, var(--color-white), transparent);
  animation: scrollLine 2s ease-in-out infinite;
}

/* Responsive - Hero Carousel */
@media (max-width: 1024px) {
  .hero--carousel {
    min-height: 85vh;
  }

  .hero-carousel__content {
    padding: var(--space-12) 0;
  }

  .hero-carousel__content .container {
    padding-left: calc(var(--space-6) + 50px); /* Add padding to avoid left arrow */
    padding-right: calc(var(--space-6) + 50px); /* Add padding to avoid right arrow */
  }

  .hero-carousel__content-inner {
    max-width: 100%;
  }

  .hero-carousel__headline {
    font-size: clamp(2rem, 7vw, 3rem);
  }

  .hero-carousel__description {
    font-size: clamp(1.125rem, 3vw, 1.25rem);
    font-weight: 500;
  }

  .hero-carousel__actions {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-3);
  }

  .hero-carousel__btn {
    width: auto;
    min-width: auto;
    padding: var(--space-3) var(--space-6);
    font-size: var(--text-sm);
    justify-content: center;
  }

  .hero-carousel__arrow {
    width: 40px;
    height: 40px;
    opacity: 0.8;
  }

  .hero-carousel__arrow--prev {
    left: var(--space-2);
  }

  .hero-carousel__arrow--next {
    right: var(--space-2);
  }

  .hero-carousel__scroll {
    display: none;
  }
}
  .breadcrumbs,
  .page-header__breadcrumb {
    max-width: 100%;
    overflow: hidden;
  }

  .breadcrumbs__current {
    max-width: calc(100vw - 120px); /* Account for padding and other breadcrumb elements */
  }

  .hero__scroll {
    display: none;
  }
}

/* ============================================
   SECTION HEADERS
   ============================================ */
.section-header {
  margin-bottom: var(--space-16);
}

.section-header--center {
  text-align: center;
}

.section-header__eyebrow {
  display: inline-flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.section-header__eyebrow::before {
  content: "";
  width: 40px;
  height: 2px;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
}

.section-header__title {
  margin-bottom: var(--space-4);
}

.section-header__description {
  font-size: var(--text-lg);
  color: var(--color-gray-600);
  max-width: 640px;
  line-height: var(--leading-relaxed);
}

.section-header--center .section-header__eyebrow {
  justify-content: center;
}

.section-header--center .section-header__eyebrow::before,
.section-header--center .section-header__eyebrow::after {
  content: "";
  width: 40px;
  height: 2px;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
}

.section-header--center .section-header__description {
  margin: 0 auto;
}

.section-header--with-action {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: var(--space-6);
}

.section-header--with-action > div {
  flex: 1;
}

.section-header--with-action .btn {
  flex-shrink: 0;
  margin-top: 0;
}

@media (max-width: 768px) {
  .section-header--with-action {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .section-header--with-action .btn {
    align-self: flex-start;
  }
}

.section-header--sm {
  margin-bottom: var(--space-6);
}

.section-header--sm .section-header__title {
  font-size: var(--text-2xl);
}

.section-header--sm .section-header__description {
  font-size: var(--text-base);
}

/* ============================================
   RESEARCH PILLARS - Bento Grid Style
   ============================================ */
/* Research Pillars Grid - Simple White Cards */
.section.pillars {
  padding-top: var(--space-4);
  padding-bottom: var(--space-12);
}

.pillars__grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-6);
  margin-top: var(--space-6);
}

.pillar-card {
  background: var(--gradient-primary-secondary-subtle, linear-gradient(135deg, rgba(63, 147, 193, 0.03) 0%, rgba(112, 181, 68, 0.03) 100%));
  border: 1px solid var(--color-gray-200);
  border-left: 4px solid transparent;
  border-radius: var(--radius-xl);
  padding: var(--space-8);
  display: flex;
  flex-direction: column;
  transition: all var(--duration-base) var(--ease-out-quart);
  text-decoration: none;
  color: inherit;
  position: relative;
  overflow: hidden;
}

/* Subtle pattern overlay */
.pillar-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    linear-gradient(45deg, transparent 48%, var(--color-secondary) 48%, var(--color-secondary) 49%, transparent 49%),
    linear-gradient(-45deg, transparent 48%, var(--color-primary) 48%, var(--color-primary) 49%, transparent 49%);
  background-size: 30px 30px;
  opacity: 0.03;
  pointer-events: none;
}

/* Left border accent */
.pillar-card::after {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  opacity: 0.3;
  transition: opacity var(--duration-base);
}

.pillar-card:hover {
  border-color: var(--color-secondary);
  border-left-color: var(--color-secondary);
  background: var(--gradient-primary-secondary-subtle, linear-gradient(135deg, rgba(63, 147, 193, 0.08) 0%, rgba(112, 181, 68, 0.08) 100%));
  box-shadow: 0 8px 24px rgba(112, 181, 68, 0.25);
  transform: translateY(-6px);
}

.pillar-card:hover::after {
  opacity: 1;
}

.pillar-card__icon {
  width: 64px;
  height: 64px;
  background: var(--gradient-primary-secondary-subtle, linear-gradient(135deg, rgba(63, 147, 193, 0.1) 0%, rgba(112, 181, 68, 0.1) 100%));
  border: 2px solid transparent;
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: var(--space-6);
  flex-shrink: 0;
  transition: all var(--duration-base);
  position: relative;
  z-index: 1;
}

.pillar-card__icon svg {
  width: 28px;
  height: 28px;
  stroke: var(--color-primary);
  transition: stroke var(--duration-base);
}

.pillar-card:hover .pillar-card__icon {
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  border-color: var(--color-secondary);
  box-shadow: 0 4px 12px rgba(112, 181, 68, 0.3);
  transform: scale(1.1) rotate(5deg);
}

.pillar-card:hover .pillar-card__icon svg {
  stroke: var(--color-white);
}

.pillar-card__title {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-3);
  line-height: var(--leading-tight);
  position: relative;
  z-index: 1;
  transition: color var(--duration-base);
}

.pillar-card:hover .pillar-card__title {
  color: var(--color-secondary);
}

.pillar-card__description {
  font-size: var(--text-base);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-6);
  flex-grow: 1;
}

.pillar-card__link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
  transition: gap var(--duration-fast), color var(--duration-fast);
  margin-top: auto;
  position: relative;
  z-index: 1;
}

.pillar-card__link svg {
  width: 16px;
  height: 16px;
  stroke: currentColor;
  transition: transform var(--duration-fast);
}

.pillar-card:hover .pillar-card__link {
  gap: var(--space-3);
  color: var(--color-secondary);
}

.pillar-card:hover .pillar-card__link svg {
  transform: translateX(4px);
}

@media (max-width: 1024px) {
  .pillars__grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 640px) {
  .pillars__grid {
    grid-template-columns: 1fr;
  }
}

/* ============================================
   PUBLICATION CARDS - Editorial Style
   ============================================ */
.publications-feed {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-6);
  margin-top: var(--space-8);
}

/* Two-column layout: 3 on left, 3 on right */
.publications-feed .pub-item:nth-child(odd) {
  /* Left column items */
}

.publications-feed .pub-item:nth-child(even) {
  /* Right column items */
}

.publications-feed__grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: var(--space-6);
  margin-top: var(--space-8);
}

.publications-feed--dark {
  background: var(--color-gray-900);
  color: var(--color-white);
  padding-top: var(--space-16);
  padding-bottom: var(--space-16);
}

.publications-feed--dark .section-header__title,
.publications-feed--dark .section-header__description {
  color: var(--color-white);
}

.publications-feed--dark .eyebrow {
  color: rgba(255, 255, 255, 0.7);
}

.publications-feed--dark .btn--secondary {
  color: var(--color-white);
  border-color: rgba(255, 255, 255, 0.3);
}

.publications-feed--dark .btn--secondary:hover {
  background: var(--color-white);
  color: var(--color-gray-900);
  border-color: var(--color-white);
}

/* Smaller publication cards in feed */
.publications-feed__grid .publication-card {
  max-width: 100%;
}

.publications-feed__grid .publication-card__content {
  padding: var(--space-4);
}

.publications-feed__grid .publication-card__title {
  font-size: var(--text-base);
  margin-bottom: var(--space-2);
}

.publications-feed__grid .publication-card__excerpt {
  font-size: var(--text-xs);
  margin-bottom: var(--space-3);
  -webkit-line-clamp: 2;
}

.pub-item {
  display: grid;
  grid-template-columns: 100px 1fr auto;
  gap: var(--space-6);
  align-items: center;
  padding: var(--space-6);
  border: 1px solid var(--color-gray-200);
  border-left: 4px solid transparent;
  border-radius: var(--radius-lg);
  background: var(--color-white);
  position: relative;
  transition: all var(--duration-base) var(--ease-out-quart);
}

/* Left border gradient accent */
.pub-item::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  opacity: 0.3;
  transition: opacity var(--duration-base);
}

.pub-item:hover {
  background: var(--gradient-primary-secondary-subtle, linear-gradient(135deg, rgba(63, 147, 193, 0.05) 0%, rgba(112, 181, 68, 0.05) 100%));
  border-left-color: var(--color-secondary);
  border-color: var(--color-secondary);
  box-shadow: 0 4px 12px rgba(112, 181, 68, 0.15);
  transform: translateY(-2px);
}

.pub-item:hover::before {
  opacity: 1;
}

.pub-item__image {
  width: 100px;
  height: 70px;
  border-radius: var(--radius-md);
  overflow: hidden;
  background: var(--color-gray-100);
  border: 2px solid transparent;
  position: relative;
  transition: all var(--duration-base);
}

/* Gradient overlay on image */
.pub-item__image::after {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  opacity: 0;
  transition: opacity var(--duration-base);
  pointer-events: none;
  z-index: 1;
}

.pub-item:hover .pub-item__image {
  border-color: var(--color-secondary);
  box-shadow: 0 2px 8px rgba(112, 181, 68, 0.2);
}

.pub-item:hover .pub-item__image::after {
  opacity: 0.1;
}

.pub-item__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.pub-item__content {
  flex: 1;
}

.pub-item__meta {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-2);
}

.pub-item__type {
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  color: var(--color-white);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
  display: inline-block;
  box-shadow: 0 2px 4px rgba(112, 181, 68, 0.2);
}

.pub-item__date {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
}

.pub-item__title {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-1);
  transition: color var(--duration-fast);
}

.pub-item:hover .pub-item__title {
  color: var(--color-secondary);
}

.pub-item__excerpt {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.pub-item__action {
  opacity: 0;
  transform: translateX(-10px);
  transition: all var(--duration-base) var(--ease-out-quart);
}

.pub-item:hover .pub-item__action {
  opacity: 1;
  transform: translateX(0);
}

/* Featured Publication - Large Card */
.pub-featured {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0;
  background: var(--color-gray-900);
  border-radius: var(--radius-2xl);
  overflow: hidden;
  min-height: 500px;
}

/* Pattern overlay on content area */
.pub-featured__content::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    linear-gradient(45deg, transparent 40%, var(--color-secondary) 40%, var(--color-secondary) 41%, transparent 41%),
    linear-gradient(-45deg, transparent 40%, var(--color-primary) 40%, var(--color-primary) 41%, transparent 41%);
  background-size: 30px 30px;
  opacity: 0.08;
  pointer-events: none;
  z-index: 0;
}

.pub-featured__content {
  position: relative;
  z-index: 1;
}

.pub-featured__image {
  position: relative;
  overflow: hidden;
}

/* Gradient overlay on image */
.pub-featured__image::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
  opacity: 0.15;
  pointer-events: none;
  z-index: 1;
}

.pub-featured__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.pub-featured__content {
  padding: var(--space-12);
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.pub-featured__label {
  display: inline-flex;
  padding: var(--space-2) var(--space-4);
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  color: var(--color-white);
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  border-radius: var(--radius-full);
  width: fit-content;
  margin-bottom: var(--space-6);
  box-shadow: 0 4px 12px rgba(112, 181, 68, 0.3);
}

.pub-featured__title {
  font-size: var(--text-4xl);
  color: var(--color-white);
  margin-bottom: var(--space-4);
}

.pub-featured__excerpt {
  font-size: var(--text-lg);
  color: rgba(255, 255, 255, 0.7);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-8);
}

.pub-featured__meta {
  display: flex;
  gap: var(--space-4);
  margin-bottom: var(--space-8);
}

.pub-featured__meta-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.5);
}

.pub-featured__price-cart {
  display: flex;
  align-items: center;
  gap: var(--space-6);
}

.pub-featured__add-to-cart .btn--block {
  width: auto;
  padding: var(--space-4) var(--space-8);
  font-size: var(--text-base);
}

@media (max-width: 1024px) {
  .publications-feed {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }
}

@media (max-width: 768px) {
  .pub-featured {
    grid-template-columns: 1fr;
  }
  .pub-featured__image {
    height: 300px;
  }
  .pub-featured__content {
    padding: var(--space-8);
  }
  .pub-item {
    grid-template-columns: 80px 1fr;
    padding: var(--space-4);
  }
  .pub-item__action {
    display: none;
  }
}

/* ============================================
   STATS SECTION - Impact Numbers
   ============================================ */
.stats-section {
  background: var(--color-gray-900);
  position: relative;
  overflow: hidden;
}

/* Stats section with background image */
.stats-section--has-bg {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-color: var(--color-gray-900);
}

.stats-section::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(
      circle at 20% 50%,
      rgba(63, 147, 193, 0.15) 0%,
      transparent 50%
    ),
    radial-gradient(
      circle at 80% 50%,
      rgba(63, 147, 193, 0.1) 0%,
      transparent 40%
    );
  z-index: 0;
}

/* Dark overlay for background image to ensure readability */
.stats-section--has-bg::after {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 0;
}

/* Gradient fallback when no background image */
.stats-section:not(.stats-section--has-bg)::before {
  z-index: 0;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-8);
  position: relative;
  z-index: 1;
}

.stat-item {
  text-align: center;
  padding: var(--space-8);
}

.stat-item__value {
  font-family: var(--font-display);
  font-size: var(--text-6xl);
  font-weight: 300;
  color: var(--color-white);
  line-height: 1;
  margin-bottom: var(--space-3);
}

.stat-item__value span {
  color: var(--color-primary-light);
}

.stat-item__label {
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.5);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

/* White title option for stats section */
.stats-section--white-title .section-header__title--white,
.stats-section .section-header__title--white {
  color: var(--color-white);
}

.stats-section--white-title .section-header__eyebrow .eyebrow {
  color: rgba(255, 255, 255, 0.7);
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* ============================================
   TEAM SECTION
   ============================================ */
.team-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-6);
}

.team-card {
  position: relative;
  overflow: visible;
  border-radius: var(--radius-xl);
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  text-align: center;
  padding: var(--space-8) var(--space-4) var(--space-6);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  transition: all var(--duration-base) var(--ease-out-quart);
}

.team-card:hover {
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  transform: translateY(-4px);
}

.team-card__image-wrapper {
  width: 120px;
  height: 120px;
  margin: 0 auto var(--space-4);
  position: relative;
  border-radius: 50%;
  overflow: hidden;
  border: 4px solid var(--color-white);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  background: var(--color-gray-50);
}

.team-card__image {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  display: block;
  transition: transform var(--duration-base) var(--ease-out);
}

.team-card:hover .team-card__image {
  transform: scale(1.05);
}

.team-card__content {
  position: relative;
  padding: 0;
  background: transparent;
}

.team-card__name {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-2);
}

.team-card__role {
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.7);
}

/* Team Grid - 5 columns for Founding Council */
.team-grid--5 {
  grid-template-columns: repeat(5, 1fr);
  gap: var(--space-6);
}

/* Founding Council Member Card Variant */
.team-card--founder {
  aspect-ratio: auto;
  background: var(--color-white);
  border-radius: var(--radius-xl);
  overflow: visible;
  text-align: center;
  padding: var(--space-8) var(--space-4) var(--space-6);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  border: 1px solid var(--color-gray-200);
  transition: all var(--duration-base) var(--ease-out-quart);
}

.team-card--founder:hover {
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  transform: translateY(-4px);
}

.team-card--founder .team-card__image--circular {
  width: 140px;
  height: 140px;
  border-radius: 50%;
  object-fit: cover;
  margin: 0 auto var(--space-5);
  border: 4px solid var(--color-white);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
}

.team-card--founder:hover .team-card__image {
  transform: none;
}

.team-card--founder .team-card__content {
  position: static;
  padding: 0;
  background: transparent;
}

.team-card__badge {
  display: inline-block;
  font-size: 10px;
  font-weight: 600;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--color-primary);
  background: rgba(63, 147, 193, 0.1);
  padding: var(--space-1) var(--space-3);
  border-radius: 100px;
  margin-bottom: var(--space-3);
}

.team-card--founder .team-card__name {
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--color-gray-900);
  line-height: 1.3;
  margin-bottom: var(--space-2);
}

.team-card--founder .team-card__role {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  font-weight: 400;
}

@media (max-width: 1200px) {
  .team-grid--5 {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (max-width: 768px) {
  .team-grid--5 {
    grid-template-columns: repeat(2, 1fr);
  }

  .team-card--founder .team-card__image--circular {
    width: 120px;
    height: 120px;
  }
}

@media (max-width: 480px) {
  .team-grid--5 {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 1024px) {
  .team-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* ============================================
   TEAM PAGE - Filters, Grid, Bio Modal
   ============================================ */

/* Team Section */
.team-section {
  padding-top: var(--space-12);
}

/* Team Filters */
.team-filters {
  padding: var(--space-6) 0;
  background: var(--color-gray-50);
  border-bottom: 1px solid var(--color-gray-200);
}

.team-filters__wrapper {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  justify-content: flex-start;
  align-items: center;
}

.team-filter {
  padding: var(--space-3) var(--space-5);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-900);
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-full);
  cursor: pointer;
  transition: all var(--duration-fast);
  white-space: nowrap;
  text-decoration: none;
  display: inline-block;
}

.team-filter:hover {
  color: var(--color-gray-900);
  background: var(--color-gray-50);
  border-color: var(--color-gray-300);
}

.team-filter--active {
  color: var(--color-white);
  background: var(--color-gray-900);
  border-color: var(--color-gray-900);
}

.team-filter--active:hover {
  background: var(--color-gray-800);
  border-color: var(--color-gray-800);
}

/* Filtered Team Grid */
.team-grid--filtered {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: var(--space-6);
}

@media (max-width: 1200px) {
  .team-grid--filtered {
    grid-template-columns: repeat(4, 1fr);
  }
}

@media (max-width: 1024px) {
  .team-grid--filtered {
    grid-template-columns: repeat(3, 1fr);
  }

  .team-filters {
    border-radius: var(--radius-xl);
  }
}

@media (max-width: 768px) {
  .team-grid--filtered {
    grid-template-columns: repeat(2, 1fr);
  }

  .team-filters {
    gap: var(--space-1);
    padding: var(--space-2);
  }

  .team-filter {
    padding: var(--space-2) var(--space-4);
    font-size: var(--text-xs);
  }
}

@media (max-width: 480px) {
  .team-grid--filtered {
    grid-template-columns: 1fr 1fr;
    gap: var(--space-4);
  }
}

/* Team Card Hidden State */
.team-card--hidden {
  opacity: 0;
  transform: scale(0.95);
  transition: all 0.3s ease;
}

/* Team Card Bio Link */
.team-card__bio-link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  margin-top: var(--space-3);
  padding: var(--space-2) var(--space-3);
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--color-primary);
  background: transparent;
  border: 1px solid var(--color-primary);
  border-radius: var(--radius-full);
  cursor: pointer;
  transition: all var(--duration-fast);
}

.team-card__bio-link:hover {
  color: var(--color-white);
  background: var(--color-primary);
}

.team-card__bio-link svg {
  transition: transform var(--duration-fast);
}

.team-card__bio-link:hover svg {
  transform: translateX(2px);
}

/* Placeholder Image */
.team-card__image--placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-gray-100);
  color: var(--color-gray-400);
}

.team-card__image--placeholder-icon {
  width: 100%;
  height: 100%;
  object-fit: contain;
  padding: var(--space-8);
  background: var(--color-gray-50);
  border-radius: 50%;
}

/* Simple Team Card (for pillar contributors - no bio link) */
.team-card--simple {
  padding: var(--space-6) var(--space-4);
}

.team-card--simple .team-card__image-wrapper {
  width: 100px;
  height: 100px;
  margin-bottom: var(--space-4);
}

.team-card--simple .team-card__name {
  font-size: var(--text-base);
  font-weight: 600;
  margin-bottom: var(--space-1);
}

.team-card--simple .team-card__job-title {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  margin: 0;
}

/* ============================================
   BIO MODAL / SLIDE PANEL
   ============================================ */
.bio-modal {
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none;
  visibility: hidden;
}

.bio-modal--open {
  pointer-events: auto;
  visibility: visible;
}

.bio-modal__overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0);
  transition: background var(--duration-base);
}

.bio-modal--open .bio-modal__overlay {
  background: rgba(0, 0, 0, 0.6);
}

.bio-modal__panel {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  max-width: 600px;
  background: var(--color-white);
  transform: translateX(100%);
  transition: transform var(--duration-base) var(--ease-out-quart);
  overflow-y: auto;
  box-shadow: -10px 0 40px rgba(0, 0, 0, 0.15);
}

.bio-modal--open .bio-modal__panel {
  transform: translateX(0);
}

.bio-modal__close {
  position: absolute;
  top: var(--space-6);
  right: var(--space-6);
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-gray-100);
  border: none;
  border-radius: 50%;
  color: var(--color-gray-700);
  cursor: pointer;
  transition: all var(--duration-fast);
  z-index: 10;
}

.bio-modal__close:hover {
  background: var(--color-gray-200);
  color: var(--color-gray-900);
}

.bio-modal__content {
  padding: var(--space-12) var(--space-8);
}

.bio-modal__header {
  display: flex;
  align-items: flex-start;
  gap: var(--space-6);
  margin-bottom: var(--space-8);
  padding-bottom: var(--space-8);
  border-bottom: 1px solid var(--color-gray-200);
}

.bio-modal__image {
  flex-shrink: 0;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  overflow: hidden;
  background: var(--color-gray-100);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-gray-400);
  border: 4px solid var(--color-white);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
}

.bio-modal__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.bio-modal__meta {
  flex: 1;
  padding-top: var(--space-2);
}

.bio-modal__role {
  display: inline-block;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--color-primary);
  background: rgba(63, 147, 193, 0.1);
  padding: var(--space-1) var(--space-3);
  border-radius: 100px;
  margin-bottom: var(--space-3);
}

.bio-modal__name {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 500;
  color: var(--color-gray-900);
  line-height: 1.3;
  margin-bottom: var(--space-2);
}

.bio-modal__job-title {
  font-size: var(--text-base);
  color: var(--color-gray-600);
  margin-top: var(--space-2);
  margin-bottom: 0;
}

.bio-modal__body {
  font-size: var(--text-base);
  color: var(--color-gray-700);
  line-height: var(--leading-relaxed);
}

.bio-modal__body p {
  margin-bottom: var(--space-4);
}

.bio-modal__body p:last-child {
  margin-bottom: 0;
}

@media (max-width: 640px) {
  .bio-modal__panel {
    max-width: 100%;
  }

  .bio-modal__content {
    padding: var(--space-8) var(--space-5);
  }

  .bio-modal__header {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .bio-modal__image {
    width: 100px;
    height: 100px;
  }

  .bio-modal__name {
    font-size: var(--text-xl);
  }
}

/* ============================================
   EVENTS SECTION
   ============================================ */
.events-list {
  display: flex;
  flex-direction: column;
}

.event-item {
  display: grid;
  grid-template-columns: 120px 1fr auto;
  gap: var(--space-8);
  padding: var(--space-8) 0;
  padding-left: var(--space-4);
  border-bottom: 1px solid var(--color-gray-200);
  border-left: 4px solid transparent;
  align-items: center;
  position: relative;
  transition: all var(--duration-base);
}

.event-item:first-child {
  border-top: 1px solid var(--color-gray-200);
}

/* Left border gradient accent */
.event-item::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  opacity: 0.3;
  transition: opacity var(--duration-base);
}

.event-item:hover {
  padding-left: var(--space-6);
  margin-left: calc(var(--space-6) * -1);
  margin-right: calc(var(--space-6) * -1);
  padding-right: var(--space-6);
  background: var(--gradient-primary-secondary-subtle, linear-gradient(135deg, rgba(63, 147, 193, 0.05) 0%, rgba(112, 181, 68, 0.05) 100%));
  border-radius: var(--radius-lg);
  border-left-color: var(--color-secondary);
  border-bottom-color: var(--color-secondary);
  box-shadow: 0 4px 12px rgba(112, 181, 68, 0.15);
}

.event-item:hover::before {
  opacity: 1;
}

.event-item__date {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: var(--space-4);
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  color: var(--color-white);
  border-radius: var(--radius-lg);
  box-shadow: 0 2px 8px rgba(112, 181, 68, 0.3);
  transition: all var(--duration-base);
}

.event-item__day {
  font-family: var(--font-display);
  font-size: var(--text-4xl);
  font-weight: 400;
  color: var(--color-white);
  line-height: 1;
}

.event-item__month {
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-white);
  opacity: 0.9;
}

.event-item__content {
  flex: 1;
}

.event-item__type {
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-secondary);
  margin-bottom: var(--space-2);
  transition: color var(--duration-fast);
}

.event-item__title {
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-2);
  transition: color var(--duration-fast);
}

.event-item:hover .event-item__title {
  color: var(--color-secondary);
}

.event-item:hover .event-item__date {
  box-shadow: 0 4px 12px rgba(112, 181, 68, 0.4);
  transform: translateY(-2px);
}

.event-item__location {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

@media (max-width: 768px) {
  .event-item {
    grid-template-columns: 80px 1fr;
    gap: var(--space-4);
  }
  .event-item__action {
    display: none;
  }
}

/* ============================================
   CTA SECTION
   ============================================ */
.cta-section {
  position: relative;
  background: var(--color-gray-900);
  overflow: hidden;
}

.cta-section__bg {
  position: absolute;
  inset: 0;
  opacity: 0.3;
}

.cta-section__bg img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.cta-section__content {
  position: relative;
  z-index: 1;
  text-align: center;
  max-width: 720px;
  margin: 0 auto;
}

.cta-section__title {
  font-size: var(--text-5xl);
  color: var(--color-white);
  margin-bottom: var(--space-6);
}

.cta-section__description {
  font-size: var(--text-lg);
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: var(--space-10);
}

.cta-section__actions {
  display: flex;
  justify-content: center;
  gap: var(--space-4);
}

/* Stack CTA buttons on mobile */
@media (max-width: 768px) {
  .cta-section__actions {
    flex-direction: column;
    align-items: stretch;
    gap: var(--space-3);
  }
  
  .cta-section__actions .btn {
    width: 100%;
    justify-content: center;
  }
}

.cta-section .btn--primary {
  background: var(--color-white);
  color: var(--color-gray-900);
}

.cta-section .btn--primary:hover {
  background: var(--color-gray-100);
}

/* ============================================
   FOOTER - Modern Awwwards-Inspired
   ============================================ */
.footer {
  background: var(--color-black);
  color: var(--color-gray-400);
  overflow: hidden;
}

/* Footer CTA - Large Contact Section */
.footer__cta {
  padding: var(--space-24) 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  position: relative;
  overflow: hidden;
}

/* Gradient background for footer CTA */
.footer__cta::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary-dark) 0%, var(--color-secondary-dark) 100%));
  opacity: 0.3;
  z-index: 0;
}

/* Pattern overlay for footer CTA */
.footer__cta::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(circle at 3px 3px, var(--color-secondary) 2px, transparent 0),
    radial-gradient(circle at 23px 23px, var(--color-primary) 2px, transparent 0);
  background-size: 50px 50px;
  opacity: 0.1;
  pointer-events: none;
  z-index: 1;
}

.footer__cta-inner {
  position: relative;
  z-index: 2;
}

.footer__cta-inner {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-16);
  align-items: center;
}

.footer__cta-content {
  max-width: 500px;
}

.footer__cta-label {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-primary-light);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  margin-bottom: var(--space-6);
}

.footer__cta-label::before {
  content: "";
  width: 8px;
  height: 8px;
  background: var(--color-green);
  border-radius: 50%;
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.5;
    transform: scale(1.2);
  }
}

.footer__cta-title {
  font-family: var(--font-display);
  font-size: var(--text-5xl);
  font-weight: 400;
  color: var(--color-white);
  line-height: 1.1;
  margin-bottom: var(--space-6);
}

.footer__cta-title em {
  color: var(--color-primary-light);
  font-style: italic;
}

.footer__cta-text {
  font-size: var(--text-lg);
  line-height: var(--leading-relaxed);
  color: var(--color-gray-400);
  margin-bottom: var(--space-8);
}

.footer__cta-btn {
  display: inline-flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-5) var(--space-8);
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  color: var(--color-white);
  font-weight: 600;
  font-size: var(--text-base);
  border-radius: var(--radius-full);
  transition: all var(--duration-base) var(--ease-out-quart);
  box-shadow: 0 4px 16px rgba(112, 181, 68, 0.4);
}

.footer__cta-btn:hover {
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary-dark) 0%, var(--color-secondary-dark) 100%));
  gap: var(--space-4);
  box-shadow: 0 6px 20px rgba(112, 181, 68, 0.5);
  transform: translateY(-2px);
}

.footer__cta-btn svg {
  transition: transform var(--duration-base);
}

.footer__cta-btn:hover svg {
  transform: translateX(4px);
}

/* Newsletter Form */
.footer__newsletter {
  background: rgba(255, 255, 255, 0.03);
  border: 2px solid rgba(112, 181, 68, 0.3);
  border-radius: var(--radius-2xl);
  padding: var(--space-10);
  position: relative;
  overflow: hidden;
}

/* Subtle pattern on newsletter form */
.footer__newsletter::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    linear-gradient(45deg, transparent 48%, var(--color-secondary) 48%, var(--color-secondary) 49%, transparent 49%);
  background-size: 20px 20px;
  opacity: 0.05;
  pointer-events: none;
}

.footer__newsletter-title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  color: var(--color-white);
  margin-bottom: var(--space-2);
}

.footer__newsletter-text {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  margin-bottom: var(--space-6);
}

.footer__newsletter-form {
  display: flex;
  gap: var(--space-3);
}

.footer__newsletter-input {
  flex: 1;
  padding: var(--space-4) var(--space-5);
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-lg);
  color: var(--color-white);
  font-size: var(--text-base);
  transition: all var(--duration-fast);
}

.footer__newsletter-input::placeholder {
  color: var(--color-gray-500);
}

.footer__newsletter-input:focus {
  outline: none;
  border-color: var(--color-primary);
  background: rgba(255, 255, 255, 0.08);
}

.footer__newsletter-btn {
  padding: var(--space-4) var(--space-6);
  background: var(--color-white);
  color: var(--color-black);
  font-weight: 600;
  border-radius: var(--radius-lg);
  transition: all var(--duration-fast);
}

.footer__newsletter-btn:hover {
  background: var(--color-green);
  color: var(--color-white);
}

/* Contact Form 7 Newsletter Form Styling in Footer */
.footer__newsletter .wpcf7-form {
  display: flex;
  flex-direction: row;
  align-items: flex-end;
  gap: var(--space-2);
  flex-wrap: nowrap;
}

.footer__newsletter .wpcf7-form p {
  margin: 0;
  display: flex;
  flex-direction: column;
  flex: 1;
  min-width: 0;
}

/* Submit button paragraph should align with input fields */
.footer__newsletter .wpcf7-form p:has(.wpcf7-submit) {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  flex: 0 0 auto;
  padding-top: 0;
  margin-top: 0;
  /* Match the exact height of input paragraphs */
  height: 58.3125px;
  min-height: 58.3125px;
  max-height: 58.3125px;
}


.footer__newsletter .wpcf7-form-control-wrap {
  display: flex;
  flex-direction: column;
  width: 100%;
}

.footer__newsletter .wpcf7-form label {
  font-size: var(--text-xs);
  color: var(--color-gray-400);
  margin-bottom: calc(var(--space-1) + 3px);
  font-weight: 400;
  line-height: 1.2;
}

.footer__newsletter .wpcf7-form-control {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-lg);
  color: var(--color-white);
  font-size: var(--text-sm);
  transition: all var(--duration-fast);
  font-family: inherit;
  height: 40px;
  box-sizing: border-box;
}

.footer__newsletter .wpcf7-form-control::placeholder {
  color: var(--color-gray-500);
}

.footer__newsletter .wpcf7-form-control:focus {
  outline: none;
  border-color: var(--color-primary);
  background: rgba(255, 255, 255, 0.08);
}

.footer__newsletter .wpcf7-form-control[type="email"],
.footer__newsletter .wpcf7-form-control[type="text"] {
  color: var(--color-white);
}

.footer__newsletter .wpcf7-submit {
  padding: var(--space-3) var(--space-4);
  background: var(--color-white);
  color: var(--color-black);
  font-weight: 600;
  border: none;
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: all var(--duration-fast);
  white-space: nowrap;
  font-size: var(--text-sm);
  font-family: inherit;
  height: 40px;
  width: auto;
  min-width: 120px;
  flex-shrink: 0;
  margin: 0;
  margin-top: calc(14.3125px + 3px - 6px);
  /* Match exact spacing from paragraph top to input field + label breathing space - alignment correction */
  align-self: flex-start;
}

.footer__newsletter .wpcf7-submit:hover {
  background: var(--color-green);
  color: var(--color-white);
  transform: translateY(-1px);
}

/* Hide form fields when form is successfully submitted */
.footer__newsletter .wpcf7-form.sent p {
  display: none !important;
}

.footer__newsletter .wpcf7-response-output {
  margin-top: 0;
  margin-bottom: var(--space-4);
  padding: var(--space-4) var(--space-5);
  border-radius: var(--radius-lg);
  font-size: var(--text-sm);
  position: relative;
  z-index: 1;
  width: 100%;
  text-align: center;
  order: -1;
  grid-column: 1 / -1;
}

.footer__newsletter .wpcf7-mail-sent-ok {
  background: rgba(112, 181, 68, 0.15);
  border: 2px solid var(--color-secondary);
  color: var(--color-secondary-light);
  box-shadow: 0 4px 12px rgba(112, 181, 68, 0.2);
}

.footer__newsletter .wpcf7-validation-errors,
.footer__newsletter .wpcf7-mail-sent-ng {
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.3);
  color: rgba(255, 255, 255, 0.9);
}

/* When form is sent, make the form container full width for the message */
.footer__newsletter .wpcf7-form.sent {
  flex-direction: column;
  align-items: stretch;
}

/* Error state: show error message at top, maintain horizontal field layout */
.footer__newsletter .wpcf7-form.invalid {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-4) var(--space-2);
  align-items: flex-end;
}

.footer__newsletter .wpcf7-form.invalid .wpcf7-response-output {
  flex-basis: 100%;
  order: -1;
  margin-bottom: 0;
  width: 100%;
}

.footer__newsletter .wpcf7-form.invalid > p {
  flex: 1;
  min-width: 0;
  order: 0;
  display: flex;
  flex-direction: column;
}

/* Field validation error styling */
.footer__newsletter .wpcf7-form-control.wpcf7-not-valid {
  border-color: rgba(239, 68, 68, 0.5);
  background: rgba(239, 68, 68, 0.05);
}

.footer__newsletter .wpcf7-form-control.wpcf7-not-valid:focus {
  border-color: rgba(239, 68, 68, 0.8);
  background: rgba(239, 68, 68, 0.08);
}

/* Hide individual field error messages (spans) to avoid clutter */
.footer__newsletter .wpcf7-form-control-wrap .wpcf7-not-valid-tip {
  display: none;
}

/* Stack fields on mobile */
@media (max-width: 768px) {
  .footer__newsletter .wpcf7-form {
    flex-direction: column;
    align-items: stretch;
  }
  
  .footer__newsletter .wpcf7-form p {
    width: 100%;
  }
  
  .footer__newsletter .wpcf7-submit {
    width: 100%;
    align-self: stretch;
  }
}

/* Marquee */
.footer__marquee {
  padding: var(--space-8) 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  overflow: hidden;
  position: relative;
  background: linear-gradient(135deg, rgba(63, 147, 193, 0.1) 0%, rgba(112, 181, 68, 0.1) 100%);
}

.footer__marquee::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(112, 181, 68, 0.03) 10px, rgba(112, 181, 68, 0.03) 20px);
  pointer-events: none;
}

.footer__marquee-track {
  display: flex;
  gap: var(--space-8);
  animation: marquee 30s linear infinite;
  width: max-content;
}

@keyframes marquee {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

.footer__marquee-item {
  display: flex;
  align-items: center;
  gap: var(--space-8);
  white-space: nowrap;
}

.footer__marquee-text {
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  font-weight: 300;
  color: rgba(255, 255, 255, 0.15);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  position: relative;
}

/* Add secondary color accent to every 3rd word */
.footer__marquee-text:nth-child(3n) {
  color: rgba(112, 181, 68, 0.25);
}

.footer__marquee-dot {
  width: 8px;
  height: 8px;
  background: var(--color-primary);
  border-radius: 50%;
  animation: dotColor 3s ease-in-out infinite;
}

.footer__marquee-dot:nth-child(even) {
  background: var(--color-secondary);
  animation-delay: 1.5s;
}

@keyframes dotColor {
  0%, 100% {
    background: var(--color-primary);
  }
  50% {
    background: var(--color-secondary);
  }
}

/* Main Footer Content */
.footer__main {
  padding: var(--space-16) 0;
  position: relative;
}

.footer__main::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  opacity: 0.3;
}

.footer__grid {
  display: grid;
  grid-template-columns: 1.5fr repeat(3, 1fr);
  gap: var(--space-12);
}

.footer__brand {
  max-width: 320px;
}

.footer__logo {
  display: inline-flex;
  align-items: center;
  gap: var(--space-4);
  margin-bottom: var(--space-6);
}

.footer__logo img {
  height: 48px;
  width: auto;
  filter: brightness(0) invert(1);
}

.footer__logo-text {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 500;
  color: var(--color-white);
  letter-spacing: var(--tracking-tight);
  line-height: 1.3;
}

.footer__description {
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);
  color: var(--color-gray-400);
  margin-bottom: var(--space-8);
}

/* Social Links - Footer Styling (White icons in rounded squares) */
.footer__brand .social-links {
  display: flex;
  gap: var(--space-3);
  align-items: center;
}

.footer__brand .social-links__item {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--radius-md);
  color: var(--color-white);
  transition: all var(--duration-fast);
  text-decoration: none;
}

.footer__brand .social-links__item:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.4);
  transform: translateY(-2px);
}

.footer__brand .social-links__item svg {
  width: 18px;
  height: 18px;
  fill: currentColor;
}

/* Social Icons - Creative (Legacy - kept for compatibility) */
.footer__social {
  display: flex;
  gap: var(--space-3);
}

.footer__social a {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: var(--radius-lg);
  color: var(--color-gray-400);
  overflow: hidden;
  transition: all var(--duration-base) var(--ease-out-quart);
}

.footer__social a::before {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--color-primary);
  transform: translateY(100%);
  transition: transform var(--duration-base) var(--ease-out-quart);
}

.footer__social a:hover {
  border-color: var(--color-primary);
  color: var(--color-white);
}

.footer__social a:hover::before {
  transform: translateY(0);
}

.footer__social a svg {
  position: relative;
  z-index: 1;
}

/* Footer Columns */
.footer__column h4 {
  font-family: var(--font-primary);
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--color-gray-500);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  margin-bottom: var(--space-6);
}

.footer__links {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.footer__links a {
  position: relative;
  font-size: var(--text-base);
  color: var(--color-gray-300);
  transition: all var(--duration-fast);
  padding-left: 0;
}

.footer__links a::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  width: 0;
  height: 1px;
  background: var(--color-primary);
  transform: translateY(-50%);
  transition: width var(--duration-fast);
}

.footer__links a:hover {
  color: var(--color-secondary-light);
  padding-left: var(--space-6);
}

.footer__links a:hover::before {
  width: var(--space-4);
  background: var(--color-secondary);
}

/* Footer Bottom */
.footer__bottom {
  border-top: 2px solid;
  border-image: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%)) 1;
  position: relative;
}

.footer__bottom::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  opacity: 0.5;
}

.footer__bottom-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-8) 0;
}

.footer__copyright {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  line-height: 1.4;
}

/* Mobile footer logo text */
@media (max-width: 768px) {
  .footer__logo-text {
    font-size: var(--text-base);
    line-height: 1.2;
  }
}

.footer__bottom-right {
  display: flex;
  align-items: center;
  gap: var(--space-10);
}

.footer__legal {
  display: flex;
  gap: var(--space-6);
}

.footer__legal a {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  transition: color var(--duration-fast);
}

.footer__legal a:hover {
  color: var(--color-secondary-light);
}

.footer__back-top {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-400);
  padding: var(--space-2) var(--space-4);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: var(--radius-full);
  transition: all var(--duration-fast);
  cursor: pointer;
}

.footer__back-top:hover {
  color: var(--color-white);
  border-color: var(--color-primary);
  background: rgba(63, 147, 193, 0.1);
}

.footer__back-top svg {
  transition: transform var(--duration-fast);
}

.footer__back-top:hover svg {
  transform: translateY(-3px);
}

/* Responsive */
@media (max-width: 1024px) {
  .footer__cta-inner {
    grid-template-columns: 1fr;
    gap: var(--space-10);
  }
  .footer__grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-10);
  }
  .footer__brand {
    grid-column: span 2;
    max-width: none;
  }
}

@media (max-width: 640px) {
  .footer__cta {
    padding: var(--space-16) 0;
  }
  .footer__cta-title {
    font-size: var(--text-4xl);
  }
  .footer__newsletter-form {
    flex-direction: column;
  }
  .footer__marquee-text {
    font-size: var(--text-xl);
  }
  .footer__grid {
    grid-template-columns: 1fr;
  }
  .footer__brand {
    grid-column: span 1;
  }
  .footer__bottom {
    flex-direction: column;
    gap: var(--space-6);
    text-align: center;
  }
  .footer__bottom-inner {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-4);
    text-align: left;
  }
  .footer__bottom-right {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-3);
    width: 100%;
  }
  .footer__copyright {
    font-size: 0.7rem;
    line-height: 1.3;
  }
  .footer__legal {
    flex-wrap: wrap;
    gap: var(--space-3);
  }
  .footer__legal a {
    font-size: 0.7rem;
  }
  .footer__back-top {
    font-size: 0.7rem;
    padding: var(--space-2) var(--space-3);
  }
}

/* ============================================
   PAGE HEADER
   ============================================ */
.page-header {
  padding: calc(var(--header-height) + var(--space-24)) 0 var(--space-16); /* Increased top padding */
  background: var(--gradient-primary-secondary-subtle, linear-gradient(135deg, rgba(63, 147, 193, 0.08) 0%, rgba(112, 181, 68, 0.08) 100%));
  position: relative;
  overflow: hidden;
}

/* Pattern overlay for page header */
.page-header::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(circle at 2px 2px, var(--color-secondary) 1px, transparent 0),
    radial-gradient(circle at 18px 18px, var(--color-primary) 1px, transparent 0);
  background-size: 40px 40px;
  opacity: 0.05;
  pointer-events: none;
}

/* Colored accent line at bottom */
.page-header::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
}

.page-header__bg {
  position: absolute;
  inset: 0;
  opacity: 0.03;
}

.page-header__bg img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.page-header__content {
  position: relative;
  z-index: 1;
}

/* Breadcrumbs pill styling - applies to all breadcrumbs sitewide */
.breadcrumbs,
.page-header__breadcrumb {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(112, 181, 68, 0.2);
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  margin-bottom: var(--space-6);
  box-shadow: 0 2px 8px rgba(112, 181, 68, 0.1);
}

.breadcrumbs a,
.page-header__breadcrumb a {
  color: var(--color-gray-700);
  text-decoration: none;
  transition: color var(--duration-fast);
}

.breadcrumbs a:hover,
.page-header__breadcrumb a:hover {
  color: var(--color-secondary);
}

.breadcrumbs__separator {
  color: var(--color-gray-400);
  margin: 0 var(--space-1);
}

.breadcrumbs__current {
  color: var(--color-gray-900);
  font-weight: 500;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: inline-block;
  vertical-align: middle;
}

.page-header__title {
  margin-bottom: var(--space-4);
}

.page-header__description {
  font-size: var(--text-xl);
  color: var(--color-gray-600);
  max-width: 640px;
  line-height: var(--leading-relaxed);
}

/* ============================================
   STORE - E-commerce Components
   ============================================ */
section.store-hero,
.store-hero {
  background: linear-gradient(
    135deg,
    var(--color-gray-900) 0%,
    var(--color-gray-800) 100%
  ) !important;
  padding: calc(var(--header-height) + var(--space-16)) 0 var(--space-16);
  position: relative;
  overflow: hidden;
}

.store-hero::before {
  content: "";
  position: absolute;
  inset: 0;
  background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

.store-hero__content {
  position: relative;
  z-index: 1;
  max-width: 640px;
  text-align: left;
}

.store-hero__title {
  font-family: var(--font-display) !important;
  font-size: var(--text-5xl);
  font-weight: 400;
  color: var(--color-white) !important;
  line-height: var(--leading-tight);
  margin-bottom: var(--space-4);
}

.store-hero__description {
  font-size: var(--text-lg);
  color: rgba(255, 255, 255, 0.7);
  line-height: var(--leading-relaxed);
}

/* Trust Bar */
div.trust-bar,
.trust-bar {
  background: var(--color-white) !important;
  border-bottom: 1px solid var(--color-gray-200);
  padding: var(--space-4) 0;
}

.trust-bar__inner {
  display: flex;
  justify-content: center;
  gap: var(--space-12);
}

.trust-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

.trust-item svg {
  width: 18px;
  height: 18px;
  color: var(--color-green);
  flex-shrink: 0;
}

/* Product Grid */
.products-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-6);
}

.products-grid--3 {
  grid-template-columns: repeat(3, 1fr);
  max-width: 1000px;
  margin: 0 auto;
}

.product-card {
  background: var(--color-white);
  border-radius: var(--radius-xl);
  overflow: hidden;
  border: 1px solid var(--color-gray-200);
  transition: all var(--duration-base) var(--ease-out-quart);
}

.product-card:hover {
  border-color: var(--color-green);
  box-shadow: var(--shadow-lg), 0 0 0 1px var(--color-green);
  transform: translateY(-4px);
}

.product-card__image {
  position: relative;
  aspect-ratio: 3/4;
  background: linear-gradient(
    135deg,
    var(--color-gray-100) 0%,
    var(--color-gray-200) 100%
  );
  overflow: hidden;
}

.product-card__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--duration-slower) var(--ease-out-expo);
}

.product-card:hover .product-card__image img {
  transform: scale(1.05);
}

.product-card__badge {
  position: absolute;
  top: var(--space-4);
  left: var(--space-4);
  padding: var(--space-1) var(--space-3);
  background: var(--color-primary);
  color: var(--color-white);
  font-size: var(--text-xs);
  font-weight: 600;
  border-radius: var(--radius-full);
}

.product-card__badge--sale {
  background: var(--color-error);
}

.product-card__wishlist {
  position: absolute;
  top: var(--space-4);
  right: var(--space-4);
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-white);
  border-radius: 50%;
  box-shadow: var(--shadow-md);
  opacity: 0;
  transform: translateY(-10px);
  transition: all var(--duration-base) var(--ease-out-quart);
}

.product-card:hover .product-card__wishlist {
  opacity: 1;
  transform: translateY(0);
}

.product-card__body {
  padding: var(--space-5);
}

.product-card__category {
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-500);
  margin-bottom: var(--space-2);
}

.product-card__title {
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-2);
  line-height: var(--leading-snug);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.product-card__meta {
  display: flex;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
  font-size: var(--text-xs);
  color: var(--color-gray-500);
}

.product-card__footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-gray-100);
}

.product-card__price {
  font-size: var(--text-lg);
  font-weight: 700;
  color: var(--color-gray-900);
}

.product-card__price small {
  font-size: var(--text-xs);
  font-weight: 400;
  color: var(--color-gray-500);
}

/* Store Filters */
.store-filters {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-6) 0;
  border-bottom: 1px solid var(--color-gray-200);
  margin-bottom: var(--space-8);
}

.store-filters__count {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  margin-right: auto;
}

.filter-dropdown {
  position: relative;
}

.filter-dropdown__trigger {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
  background: var(--color-white);
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--duration-fast);
}

.filter-dropdown__trigger:hover {
  border-color: var(--color-gray-400);
}

.filter-tags {
  display: flex;
  gap: var(--space-2);
}

.filter-tag {
  padding: var(--space-2) var(--space-4);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
  background: var(--color-gray-100);
  border-radius: var(--radius-full);
  cursor: pointer;
  transition: all var(--duration-fast);
}

.filter-tag:hover,
.filter-tag--active {
  background: var(--color-gray-900);
  color: var(--color-white);
}

@media (max-width: 1024px) {
  .products-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (max-width: 768px) {
  .products-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  .products-grid--3 {
    grid-template-columns: repeat(2, 1fr);
  }
  .trust-bar__inner {
    flex-wrap: wrap;
    gap: var(--space-4);
    justify-content: center;
  }
}

@media (max-width: 480px) {
  .products-grid {
    grid-template-columns: 1fr;
  }
}

/* ============================================
   ANIMATIONS
   ============================================ */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(40px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-40px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.reveal {
  opacity: 0;
  transform: translateY(40px);
  transition: all var(--duration-slower) var(--ease-out-expo);
}

.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

.reveal--delay-1 {
  transition-delay: 100ms;
}
.reveal--delay-2 {
  transition-delay: 200ms;
}
.reveal--delay-3 {
  transition-delay: 300ms;
}
.reveal--delay-4 {
  transition-delay: 400ms;
}

/* Stagger children */
.stagger-children > * {
  opacity: 0;
  transform: translateY(30px);
  transition: all var(--duration-slow) var(--ease-out-expo);
}

/* Apply stagger animation to all children when visible - multiple selectors for reliability */
.stagger-children.visible > *,
.reveal.stagger-children.visible > *,
.reveal.visible.stagger-children > *,
.stagger-children.reveal.visible > * {
  opacity: 1;
  transform: translateY(0);
}

/* Individual delay for first 20 items (covers most use cases) */
.stagger-children.visible > *:nth-child(1) { transition-delay: 0ms; }
.stagger-children.visible > *:nth-child(2) { transition-delay: 100ms; }
.stagger-children.visible > *:nth-child(3) { transition-delay: 200ms; }
.stagger-children.visible > *:nth-child(4) { transition-delay: 300ms; }
.stagger-children.visible > *:nth-child(5) { transition-delay: 400ms; }
.stagger-children.visible > *:nth-child(6) { transition-delay: 500ms; }
.stagger-children.visible > *:nth-child(7) { transition-delay: 600ms; }
.stagger-children.visible > *:nth-child(8) { transition-delay: 700ms; }
.stagger-children.visible > *:nth-child(9) { transition-delay: 800ms; }
.stagger-children.visible > *:nth-child(10) { transition-delay: 900ms; }
.stagger-children.visible > *:nth-child(11) { transition-delay: 1000ms; }
.stagger-children.visible > *:nth-child(12) { transition-delay: 1100ms; }
.stagger-children.visible > *:nth-child(13) { transition-delay: 1200ms; }
.stagger-children.visible > *:nth-child(14) { transition-delay: 1300ms; }
.stagger-children.visible > *:nth-child(15) { transition-delay: 1400ms; }
.stagger-children.visible > *:nth-child(16) { transition-delay: 1500ms; }
.stagger-children.visible > *:nth-child(17) { transition-delay: 1600ms; }
.stagger-children.visible > *:nth-child(18) { transition-delay: 1700ms; }
.stagger-children.visible > *:nth-child(19) { transition-delay: 1800ms; }
.stagger-children.visible > *:nth-child(20) { transition-delay: 1900ms; }

/* Fallback for items beyond 20 - use max delay */
.stagger-children.visible > *:nth-child(n+21) {
  transition-delay: 2000ms;
}

/* ============================================
   UTILITIES
   ============================================ */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.text-center {
  text-align: center;
}
.text-balance {
  text-wrap: balance;
}

/* Mobile nav overlay */
.nav-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  opacity: 0;
  visibility: hidden;
  transition: all var(--duration-base);
  z-index: 999;
}

.nav-overlay.active {
  opacity: 1;
  visibility: visible;
}

/* Mobile menu */
.mobile-menu {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  width: 320px;
  max-width: 90vw;
  background: var(--color-white);
  padding: var(--space-6) var(--space-5);
  transform: translateX(100%);
  transition: transform var(--duration-base) var(--ease-out-quart), background var(--duration-base);
  z-index: 1001;
  overflow-y: auto;
  box-shadow: -4px 0 24px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Mobile header blue background for pages with light/transparent headers */
@media (max-width: 1024px) {
  /* Add blue background to header on mobile for pages with transparent/light headers */
  .header--transparent:not(.scrolled):not(.header--dark),
  .header--on-primary,
  /* Also apply to split header on pages with store-hero (purchase page) */
  body:has(.store-hero) .header--split:not(.scrolled) {
    background: var(--color-primary) !important;
  }
  
  /* Ensure logo and text are white on blue background */
  .header--transparent:not(.scrolled):not(.header--dark) .header__logo img,
  .header--on-primary .header__logo img,
  body:has(.store-hero) .header--split:not(.scrolled) .header__logo img {
    filter: brightness(0) invert(1) !important;
  }
  
  .header--transparent:not(.scrolled):not(.header--dark) .header__logo-text strong,
  .header--on-primary .header__logo-text strong,
  body:has(.store-hero) .header--split:not(.scrolled) .header__logo-text strong {
    color: var(--color-white) !important;
  }
  
  .header--transparent:not(.scrolled):not(.header--dark) .header__logo-text span,
  .header--on-primary .header__logo-text span,
  body:has(.store-hero) .header--split:not(.scrolled) .header__logo-text span {
    color: rgba(255, 255, 255, 0.7) !important;
  }
  
  /* Toggle icon should be white on blue background */
  .header--transparent:not(.scrolled):not(.header--dark) .nav__toggle-icon span,
  .header--on-primary .nav__toggle-icon span,
  body:has(.store-hero) .header--split:not(.scrolled) .nav__toggle-icon span {
    background: var(--color-white) !important;
  }
  
  /* Site title wrapping on mobile - allow logo area to expand and fill space */
  .header__logo {
    max-width: none; /* Remove width constraint on mobile */
    flex-grow: 1; /* Allow logo area to expand and fill available space */
    flex-shrink: 1;
    min-width: 0;
  }
  
  /* Ensure logo images are responsive on mobile */
  .header__logo img {
    max-width: 100%;
    height: auto;
    object-fit: contain;
  }
  
  /* Responsive logo sizing on mobile */
  .header__logo-img--size-1 {
    max-height: 32px !important;
    width: auto !important;
  }
  
  .header__logo-img--size-2 {
    max-height: 40px !important;
    width: auto !important;
  }
  
  .header__logo-img--size-3 {
    max-height: 48px !important;
    width: auto !important;
  }
  
  /* When text is hidden on mobile, allow slightly larger logo */
  .header__logo--no-text .header__logo-img--size-1 {
    max-height: 36px !important;
  }
  
  .header__logo--no-text .header__logo-img--size-2 {
    max-height: 48px !important;
  }
  
  .header__logo--no-text .header__logo-img--size-3 {
    max-height: 56px !important;
  }
  
  .header__logo-text {
    max-width: 100%;
    min-width: 0;
    flex: 1; /* Allow text area to expand */
  }
  
  .header__logo-text strong {
    font-size: clamp(0.75rem, 2vw, 1rem);
    line-height: 1.2;
    word-break: break-word;
    hyphens: auto;
  }
  
  .header__logo-text span {
    font-size: 10px;
    line-height: 1.3;
  }
}

.mobile-menu.active {
  transform: translateX(0);
}

.mobile-menu__header {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding-bottom: var(--space-6);
  margin-bottom: var(--space-6);
  border-bottom: 1px solid var(--color-gray-200);
}

.mobile-menu__links {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.mobile-menu__list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.mobile-menu__link {
  display: block;
  padding: var(--space-4) var(--space-5);
  font-size: var(--text-base);
  font-weight: 500;
  color: var(--color-gray-800);
  border-radius: var(--radius-lg);
  transition: all var(--duration-fast);
  text-decoration: none;
}

.mobile-menu__link:hover {
  background: var(--color-gray-50);
  color: var(--color-primary);
  transform: translateX(4px);
}

.mobile-menu__link--active {
  color: var(--color-primary);
  background: var(--color-primary-muted);
  font-weight: 600;
}

.mobile-menu__close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  border: none;
  background: var(--color-gray-100);
  border-radius: var(--radius-lg);
  cursor: pointer;
  color: var(--color-gray-700);
  transition: all var(--duration-fast);
}

.mobile-menu__close:hover {
  background: var(--color-gray-200);
  color: var(--color-gray-900);
  transform: rotate(90deg);
}

/* Mobile menu item with submenu */
.mobile-menu__item {
  display: flex;
  flex-direction: column;
  margin-bottom: var(--space-1);
}

.mobile-menu__parent {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-2);
  width: 100%;
}

.mobile-menu__parent .mobile-menu__link {
  flex: 1;
  margin: 0;
}

.mobile-menu__toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  padding: 0;
  background: var(--color-gray-100);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  color: var(--color-gray-700);
  transition: all var(--duration-fast);
  flex-shrink: 0;
}

.mobile-menu__toggle:hover {
  background: var(--color-gray-200);
  color: var(--color-primary);
}

.mobile-menu__toggle[aria-expanded="true"] {
  background: var(--color-primary-muted);
  color: var(--color-primary);
}

.mobile-menu__chevron {
  transition: transform var(--duration-base) var(--ease-out-quart);
  flex-shrink: 0;
}

.mobile-menu__toggle[aria-expanded="true"] .mobile-menu__chevron {
  transform: rotate(180deg);
}

.mobile-menu__submenu {
  display: none !important;
  padding: var(--space-2) 0 var(--space-2) var(--space-6);
  margin-top: var(--space-2);
  margin-bottom: var(--space-2);
  border-left: 2px solid var(--color-gray-200);
  animation: slideDown 0.3s ease-out;
}

.mobile-menu__submenu.active {
  display: block !important;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.mobile-menu__sublink {
  display: block;
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-base);
  color: var(--color-gray-600);
  border-radius: var(--radius-md);
  transition: all var(--duration-fast);
  margin-bottom: var(--space-1);
}

.mobile-menu__sublink:hover {
  background: var(--color-gray-50);
  color: var(--color-primary);
  padding-left: var(--space-6);
}

.mobile-menu__sublink:active {
  background: var(--color-primary-muted);
  color: var(--color-primary);
}

/* Mobile Menu CTA Buttons */
.mobile-menu__ctas {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  margin-top: var(--space-6);
  padding-top: var(--space-6);
  border-top: 1px solid var(--color-gray-200);
}

.btn--mobile-menu {
  width: 100%;
  justify-content: center;
  padding: var(--space-4) var(--space-6);
  font-size: var(--text-base);
  font-weight: 600;
  border-radius: var(--radius-lg);
  text-align: center;
  transition: all var(--duration-fast);
}

.btn--primary.btn--mobile-menu {
  background: var(--color-primary);
  color: var(--color-white);
  border: 2px solid var(--color-primary);
}

.btn--primary.btn--mobile-menu:hover {
  background: var(--color-primary-dark);
  border-color: var(--color-primary-dark);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.btn--outline.btn--mobile-menu {
  background: transparent;
  color: var(--color-primary);
  border: 2px solid var(--color-primary);
}

.btn--outline.btn--mobile-menu:hover {
  background: var(--color-primary);
  color: var(--color-white);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Mobile Menu Cart Button */
.mobile-menu__cart {
  margin-top: var(--space-4);
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-gray-200);
}

.mobile-menu__cart-btn {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  width: 100%;
  padding: var(--space-4);
  background: var(--color-gray-900);
  color: var(--color-white);
  border: none;
  border-radius: var(--radius-lg);
  font-size: var(--text-base);
  font-weight: 600;
  cursor: pointer;
  transition: all var(--duration-fast);
  text-align: left;
}

.mobile-menu__cart-btn:hover {
  background: var(--color-black);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.mobile-menu__cart-icon {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-md);
  flex-shrink: 0;
}

.mobile-menu__cart-count {
  position: absolute;
  top: -6px;
  right: -6px;
  min-width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 var(--space-1);
  background: var(--color-primary);
  color: var(--color-white);
  border-radius: var(--radius-full);
  font-size: 11px;
  font-weight: 700;
  line-height: 1;
  border: 2px solid var(--color-gray-900);
}

.mobile-menu__cart-text {
  flex: 1;
}

/* Make sure mobile menu shows above everything */
.mobile-menu {
  z-index: 1001;
}

.nav-overlay {
  z-index: 1000;
}

/* Two column layout */
.two-col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-16);
  align-items: center;
}

.two-col--reverse {
  direction: rtl;
}

.two-col--reverse > * {
  direction: ltr;
}

@media (max-width: 768px) {
  .two-col {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }
  .two-col--reverse {
    direction: ltr;
  }
}

/* Image with rounded corners */
.rounded-image {
  border-radius: var(--radius-2xl);
  overflow: hidden;
}

.rounded-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* ============================================
   ABOUT PAGE - Mission, Vision, Goals, Partners
   ============================================ */

/* Mission & Vision Section */
.mission-vision-section {
  background: var(--color-gray-900);
  padding: var(--space-20) 0;
}

.mission-vision-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-8);
  max-width: 1000px;
  margin: 0 auto;
}

.mission-vision-card {
  padding: var(--space-12);
  border-radius: var(--radius-2xl);
  text-align: center;
  position: relative;
  overflow: hidden;
}

.mission-vision-card--vision {
  background: linear-gradient(
    135deg,
    var(--color-primary) 0%,
    var(--color-primary-dark) 100%
  );
}

.mission-vision-card--mission {
  background: var(--color-gray-800);
  border: 1px solid var(--color-gray-700);
}

.mission-vision-card__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 64px;
  height: 64px;
  margin: 0 auto var(--space-6);
  background: rgba(255, 255, 255, 0.15);
  border-radius: var(--radius-full);
  color: var(--color-white);
}

.mission-vision-card__label {
  display: block;
  font-size: var(--text-sm);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: var(--space-4);
}

.mission-vision-card__text {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 400;
  font-style: italic;
  color: var(--color-white);
  line-height: var(--leading-relaxed);
}

@media (max-width: 768px) {
  .mission-vision-grid {
    grid-template-columns: 1fr;
    gap: var(--space-6);
  }

  .mission-vision-card {
    padding: var(--space-8);
  }

  .mission-vision-card__text {
    font-size: var(--text-xl);
  }
}

/* Goals Section */
/* ============================================
   GOALS STRIP - Compact Horizontal
   ============================================ */
.goals-strip {
  background: linear-gradient(135deg, var(--color-gray-900) 0%, var(--color-gray-800) 100%);
  padding: var(--space-10) 0;
}

.goals-strip__inner {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

.goals-strip__header {
  text-align: center;
  padding-bottom: var(--space-4);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.goals-strip__header .eyebrow {
  color: var(--color-primary-light);
  margin-bottom: var(--space-1);
}

.goals-strip__title {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 500;
  color: var(--color-white);
  margin: 0;
}

.goals-strip__list {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: var(--space-4);
}

.goals-strip__item {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: var(--space-2);
}

.goals-strip__num {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  font-family: var(--font-display);
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-gray-900);
  background: var(--color-primary);
  border-radius: 50%;
}

.goals-strip__text {
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.85);
  line-height: var(--leading-relaxed);
}

@media (max-width: 1024px) {
  .goals-strip__list {
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-5);
  }
  
  .goals-strip__item:nth-child(4),
  .goals-strip__item:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 640px) {
  .goals-strip {
    padding: var(--space-8) 0;
  }
  
  .goals-strip__list {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-4);
  }
  
  .goals-strip__item:nth-child(5) {
    grid-column: span 2;
  }
  
  .goals-strip__text {
    font-size: var(--text-xs);
  }
}

/* ============================================
   TIMELINE VERTICAL - GLOCEPS Journey
   ============================================ */
.timeline {
  position: relative;
  max-width: 800px;
  margin: var(--space-12) auto 0;
  padding: var(--space-8) 0;
}

.timeline__line {
  position: absolute;
  left: 24px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(
    to bottom,
    var(--color-primary) 0%,
    var(--color-secondary) 50%,
    var(--color-primary) 85%,
    var(--color-gray-300) 100%
  );
}

.timeline__item {
  position: relative;
  padding-left: 72px;
  padding-bottom: var(--space-10);
}

.timeline__item:last-child {
  padding-bottom: 0;
}

.timeline__marker {
  position: absolute;
  left: 12px;
  top: 4px;
  width: 24px;
  height: 24px;
  background: var(--color-white);
  border: 3px solid var(--color-primary);
  border-radius: 50%;
  z-index: 1;
  transition: all var(--duration-base);
}

.timeline__item:hover .timeline__marker {
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  border-color: var(--color-secondary);
  transform: scale(1.2);
  box-shadow: 0 0 0 4px rgba(112, 181, 68, 0.2), 0 0 0 8px rgba(63, 147, 193, 0.1);
}

.timeline__item--future .timeline__marker {
  border-color: var(--color-gray-300);
  border-style: dashed;
}

.timeline__content {
  background: var(--gradient-primary-secondary-subtle, linear-gradient(135deg, rgba(63, 147, 193, 0.03) 0%, rgba(112, 181, 68, 0.03) 100%));
  padding: var(--space-6);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
  border-left: 4px solid transparent;
  position: relative;
  transition: all var(--duration-base);
  overflow: hidden;
}

/* Subtle pattern overlay */
.timeline__content::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(circle at 1px 1px, var(--color-secondary) 1px, transparent 0);
  background-size: 20px 20px;
  opacity: 0.03;
  pointer-events: none;
}

/* Left border accent */
.timeline__content::after {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  opacity: 0.3;
  transition: opacity var(--duration-base);
}

.timeline__item:hover .timeline__content {
  border-color: var(--color-secondary);
  border-left-color: var(--color-secondary);
  background: var(--gradient-primary-secondary-subtle, linear-gradient(135deg, rgba(63, 147, 193, 0.08) 0%, rgba(112, 181, 68, 0.08) 100%));
  box-shadow: 0 4px 16px rgba(112, 181, 68, 0.2);
  transform: translateX(8px);
}

.timeline__item:hover .timeline__content::after {
  opacity: 1;
}

.timeline__year {
  display: inline-block;
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: var(--space-2);
  position: relative;
  z-index: 1;
}

.timeline__title {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 500;
  color: var(--color-gray-900);
  margin: 0 0 var(--space-3) 0;
}

.timeline__description {
  font-size: var(--text-base);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
  margin: 0;
}

.timeline__item--future .timeline__year {
  color: var(--color-gray-400);
}

.timeline__item--future .timeline__content {
  background: var(--color-gray-50);
  border-style: dashed;
}

@media (max-width: 768px) {
  .timeline {
    padding: var(--space-4) 0;
  }
  
  .timeline__line {
    left: 16px;
  }
  
  .timeline__item {
    padding-left: 56px;
    padding-bottom: var(--space-8);
  }
  
  .timeline__marker {
    left: 6px;
    width: 20px;
    height: 20px;
  }
  
  .timeline__content {
    padding: var(--space-5);
  }
  
  .timeline__item:hover .timeline__content {
    transform: translateX(0);
  }
  
  .timeline__year {
    font-size: var(--text-base);
  }
  
  .timeline__title {
    font-size: var(--text-lg);
  }
  
  .timeline__description {
    font-size: var(--text-sm);
  }
}

/* Partners Section */
.partners-section {
  padding: var(--space-20) 0;
  background: var(--color-white);
}

.partners-grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: var(--space-6);
  margin-top: var(--space-12);
}

.partner-logo {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-4);
  background: var(--gradient-primary-secondary-subtle, linear-gradient(135deg, rgba(63, 147, 193, 0.03) 0%, rgba(112, 181, 68, 0.03) 100%));
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-gray-200);
  transition: all var(--duration-base);
  min-height: 120px;
  position: relative;
  overflow: hidden;
}

/* Subtle pattern on partner logo cards */
.partner-logo::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(circle at 2px 2px, var(--color-secondary) 1px, transparent 0);
  background-size: 30px 30px;
  opacity: 0.02;
  pointer-events: none;
}

.partner-logo:hover {
  border-color: var(--color-secondary);
  background: var(--gradient-primary-secondary-subtle, linear-gradient(135deg, rgba(63, 147, 193, 0.08) 0%, rgba(112, 181, 68, 0.08) 100%));
  box-shadow: 0 4px 12px rgba(112, 181, 68, 0.2);
  transform: translateY(-2px);
}

.partner-logo img {
  max-width: 90%;
  max-height: 100px;
  width: auto;
  height: auto;
  object-fit: contain;
  transition: all var(--duration-base);
  position: relative;
  z-index: 1;
  opacity: 0.9;
}

.partner-logo:hover img {
  opacity: 1;
  transform: scale(1.05);
}

.partner-logo__placeholder {
  font-size: var(--text-xs);
  color: var(--color-gray-400);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  text-align: center;
}

@media (max-width: 1024px) {
  .partners-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

@media (max-width: 768px) {
  .partners-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-4);
  }
}

@media (max-width: 480px) {
  .partners-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .partner-logo {
    padding: var(--space-3);
    min-height: 100px;
  }
  
  .partner-logo img {
    max-height: 80px;
  }
}

/* Partners Carousel */
.partners-carousel-wrapper {
  position: relative;
  margin-top: var(--space-12);
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.partners-carousel {
  position: relative;
  flex: 1;
  overflow: hidden;
}

.partners-carousel__track {
  display: flex;
  gap: var(--space-6);
  transition: transform 0.5s ease;
  will-change: transform;
}

.partners-carousel__slide {
  flex: 0 0 auto;
  width: calc((100% - (var(--space-6) * 5)) / 6);
  min-width: 180px;
}

.partners-carousel__slide .partner-logo {
  min-height: 120px;
}

.partners-carousel__slide .partner-logo img {
  max-height: 100px;
}

.partners-carousel__btn {
  position: relative;
  flex: 0 0 auto;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--duration-base);
  color: var(--color-gray-700);
  z-index: 10;
}

.partners-carousel__btn:hover {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
  box-shadow: 0 4px 12px rgba(63, 147, 193, 0.3);
}


.partners-carousel__btn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
  pointer-events: none;
}

.partners-carousel__btn svg {
  width: 20px;
  height: 20px;
}

@media (max-width: 1024px) {
  .partners-carousel__slide {
    width: calc((100% - (var(--space-6) * 3)) / 4);
  }
}

@media (max-width: 768px) {
  .partners-carousel-wrapper {
    gap: var(--space-2);
  }
  
  .partners-carousel__slide {
    width: calc((100% - (var(--space-6) * 2)) / 3);
    min-width: 140px;
  }
  
  .partners-carousel__slide .partner-logo {
    min-height: 100px;
  }
  
  .partners-carousel__slide .partner-logo img {
    max-height: 80px;
  }
  
  .partners-carousel__btn {
    width: 36px;
    height: 36px;
  }
}

@media (max-width: 480px) {
  .partners-carousel__slide {
    width: calc((100% - var(--space-4)) / 2);
    min-width: 120px;
  }
  
  .partners-carousel__slide .partner-logo {
    min-height: 90px;
  }
  
  .partners-carousel__slide .partner-logo img {
    max-height: 70px;
  }
}

/* Legacy mission card (keeping for potential use) */
.mission-card {
  padding: var(--space-10);
  background: var(--color-gray-50);
  border-radius: var(--radius-2xl);
  border-left: 4px solid var(--color-primary);
}

.mission-card__title {
  margin-bottom: var(--space-4);
}

.mission-card__text {
  font-size: var(--text-lg);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
}

/* Values grid */
.values-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-6);
}

.value-card {
  padding: var(--space-8);
  background: var(--gradient-primary-secondary-subtle, linear-gradient(135deg, rgba(63, 147, 193, 0.03) 0%, rgba(112, 181, 68, 0.03) 100%));
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
  border-left: 4px solid transparent;
  position: relative;
  transition: all var(--duration-base);
  overflow: hidden;
}

/* Subtle pattern overlay */
.value-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    linear-gradient(45deg, transparent 48%, var(--color-secondary) 48%, var(--color-secondary) 49%, transparent 49%);
  background-size: 25px 25px;
  opacity: 0.03;
  pointer-events: none;
}

/* Left border accent */
.value-card::after {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  opacity: 0.3;
  transition: opacity var(--duration-base);
}

.value-card:hover {
  border-color: var(--color-secondary);
  border-left-color: var(--color-secondary);
  background: var(--gradient-primary-secondary-subtle, linear-gradient(135deg, rgba(63, 147, 193, 0.08) 0%, rgba(112, 181, 68, 0.08) 100%));
  box-shadow: 0 4px 16px rgba(112, 181, 68, 0.2);
  transform: translateY(-4px);
}

.value-card:hover::after {
  opacity: 1;
}

.value-card__icon {
  width: 56px;
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--gradient-primary-secondary, linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%));
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-5);
  color: var(--color-white);
  box-shadow: 0 4px 12px rgba(112, 181, 68, 0.3);
  transition: all var(--duration-base);
  position: relative;
  z-index: 1;
}

.value-card:hover .value-card__icon {
  box-shadow: 0 6px 16px rgba(112, 181, 68, 0.4);
  transform: scale(1.1) rotate(5deg);
}

.value-card__title {
  font-size: var(--text-lg);
  font-weight: 600;
  margin-bottom: var(--space-3);
  position: relative;
  z-index: 1;
  transition: color var(--duration-base);
}

.value-card:hover .value-card__title {
  color: var(--color-secondary);
}

.value-card__text {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
}

@media (max-width: 768px) {
  .values-grid {
    grid-template-columns: 1fr;
  }
}

/* ============================================
   RESEARCH PILLAR PAGE COMPONENTS
   ============================================ */

/* COMPONENT: research-pillar-hero-split
   Split hero with branded content block and image (CMS-proof)
   ============================================ */
.pillar-hero--split {
  display: grid;
  grid-template-columns: 1fr;
  min-height: calc(100vh - var(--header-height));
  overflow: hidden;
  width: 100%;
  padding-top: var(--header-height);
}

@media (min-width: 769px) {
  .pillar-hero--split {
    grid-template-columns: 1fr 1fr;
    min-height: 600px;
    padding-top: 0;
    margin-top: var(--header-height); /* Add margin to account for fixed header */
  }
}

@media (min-width: 1200px) {
  .pillar-hero--split {
    min-height: 700px;
  }
}

.pillar-hero__content-block {
  background: var(--color-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-12) var(--space-6);
  order: 2;
}

@media (min-width: 769px) {
  .pillar-hero__content-block {
    order: 1;
    padding: var(--space-20) var(--space-10); /* Increased top padding from var(--space-16) */
    justify-content: flex-end;
  }
}

.pillar-hero__content-inner {
  max-width: 560px;
  width: 100%;
}

@media (min-width: 769px) {
  .pillar-hero__content-inner {
    padding-right: var(--space-8);
    padding-top: var(--space-4); /* Add extra top padding for breadcrumb spacing */
  }
}

/* Ensure breadcrumb has enough top spacing on larger screens */
@media (min-width: 1200px) {
  .pillar-hero__content-block {
    padding-top: var(--space-24); /* Further increase on larger screens */
  }
  
  .pillar-hero__content-inner {
    padding-top: var(--space-6); /* More spacing on larger screens */
  }
}

.pillar-hero__breadcrumb {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  margin-bottom: var(--space-6);
}

.pillar-hero__breadcrumb a {
  color: rgba(255, 255, 255, 0.7);
  transition: color var(--duration-fast);
}

.pillar-hero__breadcrumb a:hover {
  color: var(--color-white);
}

.pillar-hero__breadcrumb span {
  color: rgba(255, 255, 255, 0.5);
}

.pillar-hero__breadcrumb span:last-child {
  color: var(--color-white);
  font-weight: 500;
}

.pillar-hero__badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: 600;
  letter-spacing: var(--tracking-wide);
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.9);
  background: rgba(255, 255, 255, 0.15);
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-full);
  margin-bottom: var(--space-6);
}

.pillar-hero__title {
  font-family: var(--font-display);
  font-size: var(--text-6xl);
  font-weight: 700;
  color: var(--color-white);
  line-height: var(--leading-none);
  margin-bottom: var(--space-6);
  letter-spacing: var(--tracking-tight);
}

@media (min-width: 1024px) {
  .pillar-hero__title {
    font-size: var(--text-7xl);
  }
}

.pillar-hero__description {
  font-size: var(--text-lg);
  color: rgba(255, 255, 255, 0.85);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-8);
}

@media (min-width: 769px) {
  .pillar-hero__description {
    font-size: var(--text-xl);
  }
}

.pillar-hero__badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: 600;
  letter-spacing: var(--tracking-wide);
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.9);
  background: rgba(255, 255, 255, 0.15);
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-full);
  margin-bottom: var(--space-6);
}

.pillar-hero__badge svg {
  width: 16px;
  height: 16px;
  stroke: currentColor;
}

.pillar-hero__cta {
  display: inline-flex;
  align-items: center;
  gap: var(--space-3);
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--color-white);
  background: rgba(255, 255, 255, 0.15);
  padding: var(--space-4) var(--space-6);
  border-radius: var(--radius-lg);
  border: 1px solid rgba(255, 255, 255, 0.25);
  transition: all var(--duration-base);
  text-decoration: none;
}

.pillar-hero__cta:hover {
  background: rgba(255, 255, 255, 0.25);
  border-color: rgba(255, 255, 255, 0.4);
  transform: translateY(-2px);
}

.pillar-hero__cta-arrow {
  animation: bounce-down 2s ease-in-out infinite;
}

@keyframes bounce-down {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(4px);
  }
}

.pillar-hero__image {
  position: relative;
  min-height: 300px;
  order: 1;
  width: 100%;
  overflow: hidden;
}

@media (min-width: 769px) {
  .pillar-hero__image {
    order: 2;
    min-height: auto;
  }
}

.pillar-hero__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
}

@media (max-width: 768px) {
  .pillar-hero__image {
    min-height: 50vh;
    max-height: 60vh;
  }
  
  .pillar-hero__image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }
}

/* Legacy full-width hero (kept for flexibility) */
.pillar-hero {
  position: relative;
  min-height: 70vh;
  display: flex;
  align-items: flex-end;
  padding: var(--space-20) 0 var(--space-16);
  overflow: hidden;
}

.pillar-hero__bg {
  position: absolute;
  inset: 0;
  z-index: 0;
}

.pillar-hero__bg img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

.pillar-hero__overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.9) 0%,
    rgba(0, 0, 0, 0.7) 30%,
    rgba(0, 0, 0, 0.4) 60%,
    rgba(0, 0, 0, 0.3) 100%
  );
}

.pillar-hero__content {
  position: relative;
  z-index: 2;
  max-width: 800px;
}

@media (max-width: 768px) {
  .pillar-hero {
    min-height: 60vh;
    padding: var(--space-24) 0 var(--space-12);
  }
}

/* COMPONENT: pillar-intro
   Two-column intro with lead text and key stats
   ============================================ */
.pillar-intro__grid {
  display: grid;
  grid-template-columns: 1fr 380px;
  gap: var(--space-16);
  align-items: start;
}

.pillar-intro__lead {
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  font-weight: 400;
  color: var(--color-gray-900);
  line-height: var(--leading-snug);
  margin-bottom: var(--space-6);
}

.pillar-intro__text {
  font-size: var(--text-lg);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-4);
}

.pillar-intro__text:last-child {
  margin-bottom: 0;
}

.pillar-intro__stats {
  background: var(--color-gray-900);
  border-radius: var(--radius-2xl);
  padding: var(--space-8);
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

.pillar-stat {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  padding-bottom: var(--space-6);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.pillar-stat:last-child {
  padding-bottom: 0;
  border-bottom: none;
}

.pillar-stat__value {
  font-family: var(--font-display);
  font-size: var(--text-5xl);
  font-weight: 300;
  color: var(--color-white);
  line-height: var(--leading-none);
}

.pillar-stat__value span {
  color: var(--color-primary-light);
}

.pillar-stat__label {
  font-size: var(--text-sm);
  color: var(--color-gray-400);
  letter-spacing: var(--tracking-wide);
  text-transform: uppercase;
}

@media (max-width: 1024px) {
  .pillar-intro__grid {
    grid-template-columns: 1fr;
    gap: var(--space-10);
  }

  .pillar-intro__stats {
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
  }

  .pillar-stat {
    flex: 1;
    min-width: 140px;
    padding-bottom: 0;
    border-bottom: none;
    border-right: 1px solid rgba(255, 255, 255, 0.1);
    padding-right: var(--space-6);
  }

  .pillar-stat:last-child {
    border-right: none;
    padding-right: 0;
  }
}

@media (max-width: 640px) {
  .pillar-intro__stats {
    flex-direction: column;
  }

  .pillar-stat {
    border-right: none;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-right: 0;
    padding-bottom: var(--space-4);
  }

  .pillar-stat:last-child {
    padding-bottom: 0;
    border-bottom: none;
  }
}

/* COMPONENT: focus-areas
   Alternating image/text blocks
   ============================================ */
.focus-areas {
  padding-top: var(--space-20);
  padding-bottom: var(--space-20);
}

.focus-block {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-16);
  align-items: center;
  margin-top: var(--space-16);
}

.focus-block--reverse {
  direction: rtl;
}

.focus-block--reverse > * {
  direction: ltr;
}

.focus-block__image {
  position: relative;
  aspect-ratio: 4/3;
  border-radius: var(--radius-2xl);
  overflow: hidden;
  box-shadow: var(--shadow-xl);
}

.focus-block__image::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    var(--color-primary-muted) 0%,
    transparent 50%
  );
  z-index: 1;
  opacity: 0.5;
}

.focus-block__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--duration-slow);
}

.focus-block:hover .focus-block__image img {
  transform: scale(1.03);
}

.focus-block__content {
  padding: var(--space-4) 0;
}

.focus-block__number {
  display: inline-block;
  font-family: var(--font-display);
  font-size: var(--text-6xl);
  font-weight: 300;
  color: var(--color-gray-200);
  line-height: 1;
  margin-bottom: var(--space-4);
}

.focus-block__title {
  font-family: var(--font-display);
  font-size: var(--text-4xl);
  font-weight: 500;
  color: var(--color-gray-900);
  line-height: var(--leading-tight);
  margin-bottom: var(--space-4);
}

.focus-block__text {
  font-size: var(--text-lg);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-6);
}

.focus-block__list {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.focus-block__list li {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-size: var(--text-base);
  color: var(--color-gray-700);
}

.focus-block__list li::before {
  content: "";
  width: 8px;
  height: 8px;
  background: var(--color-green);
  border-radius: 50%;
  flex-shrink: 0;
}

@media (max-width: 1024px) {
  .focus-block {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }

  .focus-block--reverse {
    direction: ltr;
  }

  .focus-block__image {
    aspect-ratio: 16/10;
  }
}

/* COMPONENT: research-themes
   Grid of research themes/topics
   ============================================ */
.themes-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-6);
  margin-top: var(--space-12);
}

.theme-card {
  background: var(--color-white);
  padding: var(--space-8);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
  transition: all var(--duration-base);
  position: relative;
  overflow: hidden;
}

.theme-card::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--color-primary), var(--color-green));
  transform: scaleX(0);
  transform-origin: left;
  transition: transform var(--duration-base);
}

.theme-card:hover {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-lg);
  transform: translateY(-4px);
}

.theme-card:hover::before {
  transform: scaleX(1);
}

.theme-card__icon {
  width: 56px;
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-gray-100);
  border-radius: var(--radius-lg);
  color: var(--color-primary);
  margin-bottom: var(--space-5);
  transition: all var(--duration-base);
}

.theme-card:hover .theme-card__icon {
  background: var(--color-primary);
  color: var(--color-white);
}

.theme-card__title {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-3);
}

.theme-card__text {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
}

@media (max-width: 1024px) {
  .themes-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 640px) {
  .themes-grid {
    grid-template-columns: 1fr;
  }
}

/* COMPONENT: pillar-publications
   Related publications from this pillar
   ============================================ */
.pillar-publications {
  padding-top: var(--space-20);
  padding-bottom: var(--space-20);
}

.publications-slider {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-8);
  margin-top: var(--space-12);
}

.pub-card {
  background: var(--color-white);
  border-radius: var(--radius-xl);
  overflow: hidden;
  transition: all var(--duration-base);
  height: 100%;
  display: flex;
  flex-direction: column;
  position: relative;
}

/* Alternating background colors for pub cards */
.publications-slider .pub-card:nth-child(3n+1) {
  background: linear-gradient(135deg, rgba(63, 147, 193, 0.08) 0%, rgba(63, 147, 193, 0.03) 100%);
}

.publications-slider .pub-card:nth-child(3n+2) {
  background: linear-gradient(135deg, rgba(112, 181, 68, 0.08) 0%, rgba(112, 181, 68, 0.03) 100%);
}

.publications-slider .pub-card:nth-child(3n+3) {
  background: linear-gradient(135deg, rgba(196, 163, 90, 0.08) 0%, rgba(196, 163, 90, 0.03) 100%);
}

.pub-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
}

.pub-card__image {
  position: relative;
  aspect-ratio: 16/10;
  overflow: hidden;
}

.pub-card__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--duration-slow);
}

.pub-card:hover .pub-card__image img {
  transform: scale(1.05);
}

.pub-card__type {
  position: absolute;
  top: var(--space-4);
  left: var(--space-4);
  font-size: 11px;
  font-weight: 600;
  letter-spacing: var(--tracking-wide);
  text-transform: uppercase;
  color: var(--color-white);
  background: var(--color-primary);
  padding: var(--space-1) var(--space-3);
  border-radius: var(--radius-full);
}

.pub-card__content {
  padding: var(--space-6);
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

.pub-card__date {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
  letter-spacing: var(--tracking-wide);
  text-transform: uppercase;
  margin-bottom: var(--space-2);
}

.pub-card__title {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-gray-900);
  line-height: var(--leading-snug);
  margin-bottom: var(--space-3);
}

.pub-card__excerpt {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-4);
  flex-grow: 1;
}

.pub-card__link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
  transition: all var(--duration-fast);
}

.pub-card__link:hover {
  color: var(--color-green);
  gap: var(--space-3);
}

@media (max-width: 1024px) {
  .publications-slider {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 640px) {
  .publications-slider {
    grid-template-columns: 1fr;
  }
}

/* COMPONENT: pillar-experts
   Featured experts for this pillar
   ============================================ */
.pillar-experts__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  margin-bottom: var(--space-12);
  flex-wrap: wrap;
  gap: var(--space-6);
}

.experts-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-6);
}

.expert-card {
  text-align: center;
  padding: var(--space-6);
  background: var(--color-gray-50);
  border-radius: var(--radius-xl);
  transition: all var(--duration-base);
}

.expert-card:hover {
  background: var(--color-white);
  box-shadow: var(--shadow-lg);
  transform: translateY(-4px);
}

.expert-card__image {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  overflow: hidden;
  margin: 0 auto var(--space-4);
  border: 4px solid var(--color-white);
  box-shadow: var(--shadow-md);
}

.expert-card__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.expert-card__image--placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-gray-200);
  color: var(--color-gray-400);
}

.expert-card__name {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-1);
}

.expert-card__role {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

@media (max-width: 1024px) {
  .experts-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 640px) {
  .experts-grid {
    grid-template-columns: 1fr;
    max-width: 300px;
    margin: 0 auto;
  }
}

/* COMPONENT: other-pillars
   Links to other research pillars
   ============================================ */
.other-pillars {
  padding-top: var(--space-4);
  padding-bottom: var(--space-12);
}

.other-pillars__grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-4);
  margin-top: var(--space-6);
}

.other-pillar-card {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-6);
  background: var(--color-white);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
  transition: all var(--duration-base);
  text-decoration: none;
}

.other-pillar-card:hover {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

.other-pillar-card:hover .other-pillar-card__arrow {
  color: var(--color-primary);
  transform: translateX(4px);
}

.other-pillar-card__icon {
  width: 56px;
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #E3F2FD;
  border-radius: var(--radius-lg);
  color: var(--color-primary);
  flex-shrink: 0;
  transition: all var(--duration-base);
}

.other-pillar-card:hover .other-pillar-card__icon {
  background: var(--color-primary);
  color: var(--color-white);
}

.other-pillar-card__title {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-gray-900);
  flex-grow: 1;
  line-height: var(--leading-snug);
}

.other-pillar-card__arrow {
  color: var(--color-gray-400);
  flex-shrink: 0;
  transition: all var(--duration-fast);
}

@media (max-width: 1024px) {
  .other-pillars__grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 640px) {
  .other-pillars__grid {
    grid-template-columns: 1fr;
  }

  .other-pillar-card__title {
    font-size: var(--text-base);
  }
}

/* COMPONENT: pillar-cta
   Call to action specific to this pillar
   ============================================ */
.pillar-cta {
  position: relative;
  padding: var(--space-32) 0;
  overflow: hidden;
}

.pillar-cta__bg {
  position: absolute;
  inset: 0;
  z-index: 0;
}

.pillar-cta__bg img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

.pillar-cta__overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    rgba(63, 147, 193, 0.92) 0%,
    rgba(26, 26, 26, 0.95) 100%
  );
}

.pillar-cta__content {
  position: relative;
  z-index: 2;
  text-align: center;
  max-width: 700px;
  margin: 0 auto;
}

.pillar-cta__title {
  font-family: var(--font-display);
  font-size: var(--text-5xl);
  font-weight: 400;
  color: var(--color-white);
  line-height: var(--leading-tight);
  margin-bottom: var(--space-6);
}

.pillar-cta__text {
  font-size: var(--text-xl);
  color: rgba(255, 255, 255, 0.85);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-10);
}

.pillar-cta__actions {
  display: flex;
  justify-content: center;
  gap: var(--space-4);
  flex-wrap: wrap;
}

@media (max-width: 768px) {
  .pillar-cta {
    padding: var(--space-20) 0;
  }

  .pillar-cta__title {
    font-size: var(--text-4xl);
  }

  .pillar-cta__actions {
    flex-direction: column;
    align-items: center;
  }
}

/* ============================================
   PUBLICATIONS ARCHIVE PAGE
   ============================================ */

/* Page Header - Publications specific override */
.publications-page .page-header {
  padding: calc(var(--header-height) + var(--space-12)) 0 var(--space-12);
  background: var(--color-gray-50);
  border-bottom: 1px solid var(--color-gray-200);
}

.page-header__content {
  max-width: 700px;
}

.page-header__breadcrumb {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  margin-bottom: var(--space-4);
}

.page-header__breadcrumb a {
  color: var(--color-gray-600);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.page-header__breadcrumb a:hover {
  color: var(--color-primary);
}

.page-header__breadcrumb span:not(:last-child) {
  color: var(--color-gray-400);
}

.page-header__title {
  font-family: var(--font-display);
  font-size: var(--text-5xl);
  font-weight: 700;
  color: var(--color-gray-900);
  margin-bottom: var(--space-4);
}

.page-header__description {
  font-size: var(--text-lg);
  color: var(--color-gray-600);
  line-height: 1.7;
}

/* Publications Toolbar */
.publications-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-4);
  padding: var(--space-4) 0;
  margin-bottom: var(--space-6);
  flex-wrap: wrap;
}

.publications-search {
  position: relative;
  flex: 1;
  max-width: 400px;
}

.publications-search__icon {
  position: absolute;
  left: var(--space-4);
  top: 50%;
  transform: translateY(-50%);
  color: var(--color-gray-400);
  pointer-events: none;
}

.publications-search__input {
  width: 100%;
  padding: var(--space-3) var(--space-4) var(--space-3) var(--space-12);
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-lg);
  font-size: var(--text-base);
  background: var(--color-white);
  transition: all var(--transition-fast);
}

.publications-search__input:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px var(--color-primary-muted);
}

.publications-toolbar__right {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.publications-sort {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.publications-sort__label {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  white-space: nowrap;
}

.publications-sort__select {
  padding: var(--space-2) var(--space-8) var(--space-2) var(--space-3);
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  background: var(--color-white)
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23737373'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E")
    no-repeat right 8px center;
  background-size: 16px;
  cursor: pointer;
  appearance: none;
}

.publications-view-toggle {
  display: flex;
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.view-toggle__btn {
  padding: var(--space-2) var(--space-3);
  background: var(--color-white);
  border: none;
  color: var(--color-gray-500);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.view-toggle__btn:hover {
  background: var(--color-gray-100);
  color: var(--color-gray-700);
}

.view-toggle__btn--active {
  background: var(--color-primary);
  color: var(--color-white);
}

/* Publications Layout */
.publications-layout {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: var(--space-8);
  align-items: start; /* Align items at the top */
}

/* Publications Content Area */
.publications-content {
  display: flex;
  flex-direction: column;
}

/* Publications Filters Sidebar */
.publications-filters {
  position: sticky;
  top: 0; /* Start at the top of the layout container */
  height: fit-content;
  max-height: 100vh;
  overflow-y: auto;
  background: linear-gradient(135deg, rgba(63, 147, 193, 0.03) 0%, rgba(112, 181, 68, 0.03) 100%);
  border: 2px solid var(--color-secondary);
  border-radius: var(--radius-xl);
  padding: var(--space-6);
  position: relative;
  overflow-x: hidden;
  align-self: start; /* Align to top of grid cell */
}

/* Subtle pattern on filters */
.publications-filters::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(circle at 1px 1px, var(--color-secondary) 1px, transparent 0);
  background-size: 20px 20px;
  opacity: 0.05;
  pointer-events: none;
}

.publications-filters__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-4);
  border-bottom: 1px solid var(--color-gray-200);
}

.publications-filters__title {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-gray-900);
}

.publications-filters__clear {
  font-size: var(--text-sm);
  color: var(--color-secondary);
  background: none;
  border: none;
  cursor: pointer;
  text-decoration: underline;
  transition: color var(--duration-fast);
}

.publications-filters__clear:hover {
  color: var(--color-secondary-dark);
}

.filter-group {
  margin-bottom: var(--space-5);
}

.filter-group__title {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-gray-800);
  margin-bottom: var(--space-3);
  cursor: pointer;
}

.filter-group__title svg {
  color: var(--color-gray-400);
  transition: transform var(--transition-fast);
}

.filter-group__options {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.filter-checkbox {
  display: flex;
  align-items: center;
  position: relative;
  gap: var(--space-2);
  cursor: pointer;
  font-size: var(--text-sm);
  color: var(--color-gray-700);
}

.filter-checkbox input {
  display: none;
}

.filter-checkbox__mark {
  width: 18px;
  height: 18px;
  border: 2px solid var(--color-gray-300);
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition-fast);
  flex-shrink: 0;
}

.filter-checkbox:hover .filter-checkbox__mark {
  border-color: var(--color-secondary);
}

.filter-checkbox input:checked + .filter-checkbox__mark {
  background: var(--color-secondary);
  border-color: var(--color-secondary);
  box-shadow: 0 0 0 3px rgba(112, 181, 68, 0.2);
}

.filter-checkbox input:checked + .filter-checkbox__mark::after {
  content: "";
  width: 5px;
  height: 9px;
  border: 2px solid white;
  border-top: none;
  border-left: none;
  transform: rotate(45deg) translateY(-1px);
}

.filter-checkbox__label {
  flex: 1;
}

.filter-checkbox__count {
  color: var(--color-gray-400);
  font-size: var(--text-xs);
}

.publications-filters__apply {
  margin-top: var(--space-6);
}

/* Publications Results */
.publications-results {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-4);
  margin-bottom: var(--space-6);
  flex-wrap: wrap;
}

.publications-results__count {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

.publications-results__count strong {
  color: var(--color-gray-900);
}

.publications-results__active-filters {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

/* Publications Grid */
.publications-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: var(--space-6);
}

/* Publication Card */
.publication-card {
  background: var(--color-white);
  border-radius: var(--radius-xl);
  overflow: hidden;
  border: 1px solid var(--color-gray-200);
  transition: all var(--transition-base);
  position: relative;
}

/* Alternating background colors for publication cards */
.publications-grid .publication-card:nth-child(3n+1),
.publications-feed__grid .publication-card:nth-child(3n+1) {
  background: linear-gradient(135deg, rgba(63, 147, 193, 0.08) 0%, rgba(63, 147, 193, 0.03) 100%);
  border-color: rgba(63, 147, 193, 0.2);
}

.publications-grid .publication-card:nth-child(3n+2),
.publications-feed__grid .publication-card:nth-child(3n+2) {
  background: linear-gradient(135deg, rgba(112, 181, 68, 0.08) 0%, rgba(112, 181, 68, 0.03) 100%);
  border-color: rgba(112, 181, 68, 0.2);
}

.publications-grid .publication-card:nth-child(3n+3),
.publications-feed__grid .publication-card:nth-child(3n+3) {
  background: linear-gradient(135deg, rgba(196, 163, 90, 0.08) 0%, rgba(196, 163, 90, 0.03) 100%);
  border-color: rgba(196, 163, 90, 0.2);
}

.publication-card:hover {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-lg);
  transform: translateY(-4px);
}

.publication-card__link {
  display: block;
  text-decoration: none;
  color: inherit;
}

.publication-card__image {
  position: relative;
  aspect-ratio: 16/10;
  overflow: hidden;
  background: var(--color-gray-100);
}

.publication-card__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--transition-base);
}

.publication-card:hover .publication-card__image img {
  transform: scale(1.05);
}

.publication-card__image--placeholder {
  background: linear-gradient(
    135deg,
    var(--color-primary) 0%,
    var(--color-primary-dark) 100%
  );
}

.publication-card__placeholder {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-3);
  color: var(--color-white);
}

.publication-card__placeholder img {
  width: 60px;
  height: 60px;
  object-fit: contain;
  filter: brightness(0) invert(1);
  opacity: 0.8;
}

.publication-card__placeholder span {
  font-size: var(--text-sm);
  opacity: 0.8;
}

.publication-card__badges {
  position: absolute;
  top: var(--space-3);
  left: var(--space-3);
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.publication-card__badge {
  padding: var(--space-1) var(--space-2);
  font-size: var(--text-xs);
  font-weight: 600;
  border-radius: var(--radius-sm);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.publication-card__badge--type {
  background: var(--color-white);
  color: var(--color-gray-700);
}

.publication-card__badge--free {
  background: var(--color-green);
  color: var(--color-white);
}

.publication-card__badge--premium {
  background: var(--color-accent);
  color: var(--color-white);
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.publication-card__format {
  position: absolute;
  bottom: var(--space-3);
  right: var(--space-3);
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-2);
  background: rgba(0, 0, 0, 0.7);
  color: var(--color-white);
  font-size: var(--text-xs);
  font-weight: 500;
  border-radius: var(--radius-sm);
}

.publication-card__content {
  padding: var(--space-5);
}

.publication-card__meta {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

.publication-card__date {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.publication-card__pillar {
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--color-primary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.publication-card__title {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 700;
  color: var(--color-gray-900);
  line-height: 1.4;
  margin-bottom: var(--space-3);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.publication-card__excerpt {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: 1.6;
  margin-bottom: var(--space-4);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.publication-card__footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-gray-100);
}

.publication-card__actions {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.publication-card__add-to-cart {
  display: inline-block;
}

.publication-card__cart-btn {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-gray-100);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  color: var(--color-gray-700);
  cursor: pointer;
  transition: all var(--duration-fast);
  padding: 0;
}

.publication-card__cart-btn:hover {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
  transform: scale(1.05);
}

.publication-card__cart-btn svg {
  width: 18px;
  height: 18px;
}

.publication-card__author {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

.publication-card__author svg {
  color: var(--color-gray-400);
}

.publication-card__cta {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
  transition: gap var(--transition-fast);
}

.publication-card:hover .publication-card__cta {
  gap: var(--space-2);
}

/* Compact Card Variant */
.publication-card--compact .publication-card__content {
  padding: var(--space-4);
}

.publication-card--compact .publication-card__title {
  font-size: var(--text-base);
  margin-bottom: 0;
}

.publication-card--compact .publication-card__excerpt,
.publication-card--compact .publication-card__footer {
  display: none;
}

/* Pagination */
.pagination {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  margin-top: var(--space-12);
}

.pagination__btn {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  background: var(--color-white);
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
  cursor: pointer;
  transition: all var(--transition-fast);
  text-decoration: none;
}

.pagination__btn[disabled] {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

.pagination__btn:hover:not(:disabled) {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

.pagination__btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.pagination__numbers {
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.pagination__number {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-white);
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.pagination__number:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

.pagination__number--active {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
}

.pagination__ellipsis {
  padding: 0 var(--space-2);
  color: var(--color-gray-400);
}

.pagination__pages {
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.pagination__page {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-white);
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
  cursor: pointer;
  transition: all var(--transition-fast);
  text-decoration: none;
}

.pagination__page:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

.pagination__page--active {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
}

/* Team Pagination */
.team-pagination {
  margin-top: var(--space-12);
}

.team-pagination .pagination {
  margin-top: 0;
}

.team-pagination .pagination__link {
  min-width: 40px;
  height: 40px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-2) var(--space-3);
  background: var(--color-white);
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
  cursor: pointer;
  transition: all var(--transition-fast);
  text-decoration: none;
  font-family: inherit;
}

.team-pagination .pagination__link:hover:not(:disabled) {
  border-color: var(--color-primary);
  color: var(--color-primary);
  background: var(--color-primary-muted);
}

.team-pagination .pagination__link--active {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
}

.team-pagination .pagination__link:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

.team-pagination .pagination__link--prev,
.team-pagination .pagination__link--next {
  padding: var(--space-2) var(--space-4);
}

/* Publications CTA - Enhanced Design */
.publications-cta {
  position: relative;
  padding: var(--space-20) 0;
  background: linear-gradient(135deg, var(--color-primary) 0%, #1a4a6b 100%);
  overflow: hidden;
}

.publications-cta--enhanced {
  background: linear-gradient(135deg, var(--color-primary) 0%, #1a4a6b 100%);
}

.publications-cta__bg {
  position: absolute;
  inset: 0;
  z-index: 0;
}

.publications-cta__bg img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

.publications-cta__overlay {
  position: absolute;
  inset: 0;
  z-index: 1;
  background: linear-gradient(
    135deg,
    rgba(54, 117, 176, 0.92) 0%,
    rgba(26, 74, 107, 0.95) 100%
  );
}

.publications-cta__inner {
  position: relative;
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-12);
  max-width: 1200px;
  margin: 0 auto;
}

.publications-cta__content {
  flex: 1;
  max-width: 640px;
}

.publications-cta__title {
  font-family: var(--font-display);
  font-size: var(--text-4xl);
  font-weight: 400;
  color: var(--color-white);
  line-height: var(--leading-tight);
  margin-bottom: var(--space-4);
}

.publications-cta__text {
  font-size: var(--text-lg);
  line-height: var(--leading-relaxed);
  color: rgba(255, 255, 255, 0.85);
  margin: 0;
}

.publications-cta__actions {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  flex-shrink: 0;
  align-items: flex-start;
}

.publications-cta__actions .btn {
  white-space: nowrap;
  min-width: 200px;
  justify-content: center;
}

.publications-cta__actions .btn--white {
  background: var(--color-white);
  color: var(--color-primary);
  font-weight: 600;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transition: all var(--transition-base);
}

.publications-cta__actions .btn--white:hover {
  background: var(--color-gray-50);
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
}

.publications-cta__actions .btn--outline-light {
  border-color: rgba(255, 255, 255, 0.4);
  color: var(--color-white);
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  transition: all var(--transition-base);
}

.publications-cta__actions .btn--outline-light:hover {
  border-color: rgba(255, 255, 255, 0.6);
  background: rgba(255, 255, 255, 0.2);
  color: var(--color-white);
}

@media (max-width: 1024px) {
  .publications-cta__inner {
    flex-direction: column;
    text-align: center;
    gap: var(--space-8);
  }

  .publications-cta__content {
    max-width: 100%;
  }

  .publications-cta__actions {
    flex-direction: row;
    justify-content: center;
    width: 100%;
    flex-wrap: wrap;
  }

  .publications-cta__actions .btn {
    min-width: auto;
    flex: 1;
    max-width: 250px;
  }
}

@media (max-width: 768px) {
  .publications-cta {
    padding: var(--space-16) 0;
  }

  .publications-cta__title {
    font-size: var(--text-3xl);
  }

  .publications-cta__text {
    font-size: var(--text-base);
  }

  .publications-cta__actions {
    flex-direction: column;
    width: 100%;
  }

  .publications-cta__actions .btn {
    width: 100%;
    max-width: 100%;
  }
}

/* ============================================
   PUBLICATION SINGLE PAGE
   ============================================ */

/* Publication Header - Split Layout */
.publication-header--split {
  display: grid;
  grid-template-columns: 1fr 1fr;
  min-height: 550px;
  margin-top: 80px; /* Account for fixed header */
}

.publication-header__content-block {
  background: var(--color-primary);
  display: flex;
  align-items: center;
  padding: var(--space-12) var(--space-6);
  padding-left: max(
    var(--space-6),
    calc((100vw - 1280px) / 2 + var(--space-6))
  );
}

.publication-header__content-inner {
  max-width: 640px;
  padding-right: var(--space-6);
}

.publication-header__breadcrumb {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.6);
  margin-bottom: var(--space-4);
}

.publication-header__breadcrumb a {
  color: rgba(255, 255, 255, 0.7);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.publication-header__breadcrumb a:hover {
  color: var(--color-white);
}

.publication-header__badges {
  display: flex;
  gap: var(--space-2);
  margin-bottom: var(--space-4);
  flex-wrap: wrap;
}

.publication-header__badge {
  padding: var(--space-1) var(--space-3);
  font-size: var(--text-xs);
  font-weight: 600;
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  text-decoration: none;
}

.publication-header__badge--type-light {
  background: rgba(255, 255, 255, 0.2);
  color: var(--color-white);
}

.publication-header__badge--pillar-light {
  background: rgba(255, 255, 255, 0.15);
  color: var(--color-white);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.publication-header__badge--pillar-light:hover {
  background: rgba(255, 255, 255, 0.25);
}

.publication-header__badge--free {
  background: var(--color-green);
  color: var(--color-white);
}

.publication-header__badge--premium {
  background: var(--color-accent);
  color: var(--color-white);
}

.publication-header__title {
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  font-weight: 600;
  color: var(--color-white);
  line-height: 1.2;
  margin-bottom: var(--space-6);
}

.publication-header__meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-4);
  margin-bottom: var(--space-8);
}

.publication-header__meta-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.8);
}

.publication-header__meta-item svg {
  opacity: 0.6;
}

.publication-header__actions {
  display: flex;
  align-items: center;
  gap: var(--space-6);
  flex-wrap: wrap;
}

.publication-header__share {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.publication-header__share span {
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.7);
}

.publication-header__share button {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--radius-md);
  color: var(--color-white);
  cursor: pointer;
  transition: all var(--transition-fast);
  padding: 0;
  margin: 0;
}

.publication-header__share button:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 255, 255, 0.4);
}

.publication-header__share button svg {
  width: 16px;
  height: 16px;
  display: block;
  color: var(--color-white);
}

/* Support both fill and stroke SVGs */
.publication-header__share button svg[fill] {
  fill: currentColor;
}

.publication-header__share button svg[stroke] {
  stroke: currentColor;
  fill: none;
}

.publication-header__image {
  position: relative;
  overflow: hidden;
}

.publication-header--split .publication-header__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Legacy full-width header (kept for reference) */
.publication-header {
  position: relative;
  min-height: 500px;
  display: flex;
  align-items: flex-end;
  padding: var(--space-20) 0;
}

.publication-header > .publication-header__image {
  position: absolute;
  inset: 0;
}

.publication-header > .publication-header__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.publication-header__overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.9) 0%,
    rgba(0, 0, 0, 0.4) 50%,
    rgba(0, 0, 0, 0.2) 100%
  );
}

.publication-header__content {
  position: relative;
  z-index: 1;
  max-width: 800px;
}

.publication-header__badge--type {
  background: var(--color-white);
  color: var(--color-gray-700);
}

.publication-header__badge--pillar {
  background: var(--color-primary);
  color: var(--color-white);
}

/* Publication Body Layout */
.publication-body {
  padding: var(--space-16) 0;
}

.publication-layout {
  display: grid;
  grid-template-columns: 1fr 340px;
  gap: var(--space-12);
}

/* Publication Content */
.publication-content {
  max-width: 100%;
}

/* Publication Actions */
.publication-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-4);
  padding: var(--space-4);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-8);
  flex-wrap: wrap;
}

.publication-actions__download {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.publication-actions__share {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.publication-actions__share-label {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

.publication-actions__share-btn {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-md);
  color: var(--color-gray-600);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.publication-actions__share-btn:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

/* Publication Abstract */
.publication-abstract {
  padding: var(--space-6);
  background: var(--color-primary-muted);
  border-left: 4px solid var(--color-primary);
  border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
  margin-bottom: var(--space-8);
}

.publication-abstract__title {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-primary-dark);
  margin-bottom: var(--space-3);
}

.publication-abstract__text {
  font-size: var(--text-base);
  color: var(--color-gray-700);
  line-height: 1.7;
}

/* Publication PDF Embed */
.publication-pdf-embed {
  margin: var(--space-8) 0;
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  position: relative;
}

.publication-pdf-embed__iframe,
.publication-pdf-embed__mobile {
  width: 100%;
  border: 0;
  display: block;
}

.publication-pdf-embed__mobile object,
.publication-pdf-embed__mobile embed {
  width: 100%;
  border: 0;
  display: block;
}

.publication-pdf-embed__iframe {
  min-height: 800px;
}

.publication-pdf-embed__mobile {
  min-height: 70vh;
  display: flex;
  align-items: center;
  justify-content: center;
}

.publication-pdf-embed__mobile-link {
  display: block;
  width: 100%;
  text-decoration: none;
  color: inherit;
}

.publication-pdf-embed__mobile-preview {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-8);
  background: var(--color-white);
  border: 2px dashed var(--color-gray-300);
  border-radius: var(--radius-lg);
  text-align: center;
  min-height: 300px;
  transition: all 0.2s ease;
}

.publication-pdf-embed__mobile-link:hover .publication-pdf-embed__mobile-preview,
.publication-pdf-embed__mobile-link:active .publication-pdf-embed__mobile-preview {
  border-color: var(--color-primary);
  background: var(--color-gray-50);
}

.publication-pdf-embed__mobile-preview svg {
  color: var(--color-primary);
  margin-bottom: var(--space-4);
}

.publication-pdf-embed__mobile-preview h3 {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-2);
}

.publication-pdf-embed__mobile-hint {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  margin-bottom: var(--space-6);
}

.publication-pdf-embed__mobile-canvas {
  width: 100%;
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  overflow: hidden;
  position: relative;
}

.publication-pdf-embed__mobile-canvas canvas {
  display: block;
  width: 100%;
  height: auto;
  max-width: 100%;
}

.pdf-controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-4);
  padding: var(--space-4);
  background: var(--color-gray-50);
  border-top: 1px solid var(--color-gray-200);
}

.pdf-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border: 1px solid var(--color-gray-300);
  background: var(--color-white);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all 0.2s ease;
  color: var(--color-gray-700);
}

.pdf-btn:hover:not(:disabled) {
  background: var(--color-gray-100);
  border-color: var(--color-gray-400);
}

.pdf-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.pdf-page-info {
  font-size: var(--text-sm);
  color: var(--color-gray-700);
  font-weight: 500;
  min-width: 60px;
  text-align: center;
}

.pdf-loading,
.pdf-error {
  padding: var(--space-8);
  text-align: center;
  color: var(--color-gray-600);
}

/* Desktop: Show direct PDF iframe, hide mobile viewer */
@media (min-width: 769px) {
  .publication-pdf-embed__iframe {
    display: block;
  }
  
  .publication-pdf-embed__mobile {
    display: none;
  }
}

/* Mobile: Hide direct PDF iframe, show Google Docs Viewer */
@media (max-width: 768px) {
  .publication-pdf-embed__iframe {
    display: none;
  }
  
  .publication-pdf-embed__mobile {
    display: block;
    min-height: 70vh;
  }
}

/* Publication Prose (Article Content) */
.publication-prose {
  font-size: var(--text-base);
  line-height: 1.8;
  color: var(--color-gray-700);
}

.publication-prose h2 {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-top: var(--space-10);
  margin-bottom: var(--space-4);
}

.publication-prose h3 {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-top: var(--space-8);
  margin-bottom: var(--space-3);
}

.publication-prose h4 {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-gray-800);
  margin-top: var(--space-6);
  margin-bottom: var(--space-3);
}

.publication-prose p {
  margin-bottom: var(--space-4);
}

.publication-prose ul,
.publication-prose ol {
  margin-bottom: var(--space-4);
  padding-left: var(--space-6);
}

.publication-prose li {
  margin-bottom: var(--space-2);
}

.publication-prose blockquote {
  margin: var(--space-8) 0;
  padding: var(--space-6);
  background: var(--color-gray-50);
  border-left: 4px solid var(--color-accent);
  border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
}

.publication-prose blockquote p {
  font-size: var(--text-lg);
  font-style: italic;
  color: var(--color-gray-800);
  margin-bottom: var(--space-3);
}

.publication-prose blockquote cite {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  font-style: normal;
}

.publication-prose hr {
  border: none;
  border-top: 1px solid var(--color-gray-200);
  margin: var(--space-10) 0;
}

.publication-figure {
  margin: var(--space-8) 0;
}

.publication-figure img {
  width: 100%;
  border-radius: var(--radius-lg);
}

.publication-figure figcaption {
  margin-top: var(--space-3);
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  text-align: center;
}

.publication-references {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

.publication-references li {
  margin-bottom: var(--space-3);
}

/* Publication Tags */
.publication-tags {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  padding: var(--space-6) 0;
  border-top: 1px solid var(--color-gray-200);
  margin-top: var(--space-8);
  flex-wrap: wrap;
}

.publication-tags__title {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-gray-700);
}

.publication-tags__list {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.publication-tag {
  padding: var(--space-1) var(--space-3);
  background: var(--color-gray-100);
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  text-decoration: none;
  transition: all var(--transition-fast);
}

.publication-tag:hover {
  background: var(--color-primary);
  color: var(--color-white);
}

/* Publication Author Bio */
.publication-author {
  margin-top: var(--space-8);
  padding-top: var(--space-8);
  border-top: 1px solid var(--color-gray-200);
}

.publication-author__heading {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-4);
}

.publication-author__list {
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

.publication-author__card {
  display: flex;
  gap: var(--space-5);
  padding: var(--space-5);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
}

.publication-author__image {
  width: 100px;
  height: 100px;
  border-radius: var(--radius-full);
  overflow: hidden;
  flex-shrink: 0;
}

.publication-author__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.publication-author__name {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-1);
}

.publication-author__role {
  font-size: var(--text-sm);
  color: var(--color-primary);
  margin-bottom: var(--space-3);
}

.publication-author__bio {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: 1.6;
  margin-bottom: var(--space-3);
}

.publication-author__links {
  display: flex;
  gap: var(--space-4);
}

.publication-author__link {
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-primary);
  text-decoration: none;
}

.publication-author__link:hover {
  text-decoration: underline;
}

/* Publication Sidebar */
.publication-sidebar {
  position: sticky;
  top: 100px;
  height: fit-content;
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

.publication-sidebar__card {
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-xl);
  padding: var(--space-5);
}

.publication-sidebar__title {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-4);
  padding-bottom: var(--space-3);
  border-bottom: 1px solid var(--color-gray-200);
}

/* Publication Details */
.publication-details {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.publication-details__row {
  display: flex;
  justify-content: space-between;
  gap: var(--space-4);
  font-size: var(--text-sm);
}

.publication-details__row dt {
  color: var(--color-gray-500);
}

.publication-details__row dd {
  color: var(--color-gray-900);
  font-weight: 500;
  text-align: right;
}

.publication-details__row dd a {
  color: var(--color-primary);
  text-decoration: none;
}

.publication-details__row dd a:hover {
  text-decoration: underline;
}

.badge {
  display: inline-flex;
  padding: var(--space-1) var(--space-2);
  font-size: var(--text-xs);
  font-weight: 600;
  border-radius: var(--radius-sm);
}

.badge--success {
  background: var(--color-green);
  color: var(--color-white);
}

.publication-sidebar__cta {
  margin-top: var(--space-4);
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-gray-200);
}

.publication-sidebar__price {
  display: flex;
  justify-content: space-between;
  margin-bottom: var(--space-3);
}

.publication-sidebar__price-label {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.publication-sidebar__price-value {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--color-gray-900);
}

/* Table of Contents */
.publication-toc__nav {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.publication-toc__link {
  padding: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  text-decoration: none;
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);
}

.publication-toc__link:hover {
  background: var(--color-gray-100);
  color: var(--color-gray-900);
}

.publication-toc__link--active {
  background: var(--color-primary-muted);
  color: var(--color-primary);
  font-weight: 500;
}

.publication-toc__link--sub {
  padding-left: var(--space-6);
  font-size: var(--text-xs);
}

/* Related Publications */
.related-publications {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.related-publication {
  display: flex;
  gap: var(--space-3);
  text-decoration: none;
  color: inherit;
}

.related-publication:hover .related-publication__title {
  color: var(--color-primary);
}

.related-publication__image {
  width: 60px;
  height: 60px;
  border-radius: var(--radius-md);
  overflow: hidden;
  flex-shrink: 0;
}

.related-publication__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.related-publication__title {
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-900);
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  transition: color var(--transition-fast);
}

.related-publication__date {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
}

.publication-sidebar__more {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-top: var(--space-4);
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-gray-200);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-primary);
  text-decoration: none;
}

.publication-sidebar__more:hover {
  text-decoration: underline;
}

/* Publication Navigation */
.publication-nav {
  background: var(--color-gray-900);
  padding: var(--space-6) 0;
}

.publication-nav__inner {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-6);
}

.publication-nav__link {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  padding: var(--space-4);
  background: var(--color-gray-800);
  border-radius: var(--radius-lg);
  text-decoration: none;
  transition: background var(--transition-fast);
}

.publication-nav__link:hover {
  background: var(--color-gray-700);
}

.publication-nav__link--next {
  text-align: right;
  align-items: flex-end;
}

.publication-nav__label {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-400);
}

.publication-nav__title {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 500;
  color: var(--color-white);
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* More Publications Grid */
.more-publications__grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-6);
}

/* White Button */
.btn--white {
  background: var(--color-white);
  color: var(--color-primary);
  border: none;
}

.btn--white:hover {
  background: var(--color-gray-100);
}

/* Responsive Publications */
@media (max-width: 1024px) {
  .publications-layout {
    grid-template-columns: 1fr;
  }

  .publications-filters {
    position: static;
    order: -1;
  }

  .publication-layout {
    grid-template-columns: 1fr;
  }

  .publication-sidebar {
    position: static;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
  }

  .more-publications__grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 1024px) {
  .publication-header--split {
    grid-template-columns: 1fr;
    min-height: auto;
  }

  .publication-header__content-block {
    padding: var(--space-16) var(--space-6);
    padding-left: var(--space-6);
  }

  .publication-header__content-inner {
    max-width: 100%;
    padding-right: 0;
  }

  .publication-header--split .publication-header__image {
    height: 300px;
  }
}

@media (max-width: 768px) {
  .page-header {
    padding: calc(var(--header-height) + var(--space-10)) 0 var(--space-8);
  }

  .page-header__title {
    font-size: var(--text-3xl);
  }

  .publications-toolbar {
    flex-direction: column;
    align-items: stretch;
  }

  .publications-search {
    max-width: 100%;
  }

  .publications-toolbar__right {
    justify-content: space-between;
  }

  .publications-grid {
    grid-template-columns: 1fr;
  }

  .publication-header--split {
    margin-top: 70px;
  }

  .publication-header__content-block {
    padding: var(--space-12) var(--space-5);
    padding-left: var(--space-5);
  }

  .publication-header__title {
    font-size: var(--text-2xl);
  }

  .publication-header__meta {
    gap: var(--space-3);
  }

  .publication-header__actions {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-4);
  }

  .publication-header--split .publication-header__image {
    height: 250px;
  }

  .publication-header {
    min-height: 400px;
    padding: var(--space-16) 0;
  }

  .publication-sidebar {
    grid-template-columns: 1fr;
  }

  .publication-nav__inner {
    grid-template-columns: 1fr;
  }

  .more-publications__grid {
    grid-template-columns: 1fr;
  }

  .publications-cta__inner {
    flex-direction: column;
    text-align: center;
  }

  .publications-cta__actions {
    flex-direction: column;
    width: 100%;
  }

  .publication-author__card {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .publication-author__links {
    justify-content: center;
  }
}

/* ============================================
   EVENTS SYSTEM
   ============================================ */

/* Events Tabs */
.events-tabs {
  background: var(--color-gray-50);
  padding: var(--space-4) 0;
  border-bottom: 1px solid var(--color-gray-200);
}

.events-tabs__wrapper {
  display: flex;
  gap: var(--space-2);
}

.events-tab {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-6);
  background: transparent;
  border: none;
  font-family: var(--font-primary);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-600);
  cursor: pointer;
  border-radius: var(--radius-full);
  transition: all var(--transition-fast);
}

.events-tab:hover {
  background: var(--color-gray-100);
  color: var(--color-gray-900);
}

.events-tab--active {
  background: var(--color-primary);
  color: var(--color-white);
}

.events-tab__indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--color-green);
}

.events-tab__indicator--live {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Events Filters */
.events-filters {
  padding: var(--space-6) 0;
  border-bottom: 1px solid var(--color-gray-200);
}

.events-filters__wrapper {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  overflow-x: auto;
  padding-bottom: var(--space-2);
}

.events-filters__label {
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-600);
  white-space: nowrap;
}

.events-filters__tags {
  display: flex;
  gap: var(--space-2);
}

.events-filter-tag {
  padding: var(--space-2) var(--space-4);
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  font-family: var(--font-primary);
  font-size: var(--text-xs);
  font-weight: 500;
  color: var(--color-gray-600);
  cursor: pointer;
  border-radius: var(--radius-full);
  white-space: nowrap;
  transition: all var(--transition-fast);
}

.events-filter-tag:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

.events-filter-tag--active {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
}

/* Featured Event */
.featured-event {
  padding: var(--space-12) 0;
  background: var(--color-gray-50);
}

.featured-event__card {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0;
  background: transparent;
  border-radius: var(--radius-xl);
  overflow: hidden;
  box-shadow: var(--shadow-lg);
}

.featured-event__image {
  position: relative;
  min-height: 400px;
  background: var(--color-white);
}

.featured-event__image img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.featured-event__image img.featured-event__image--placeholder-icon {
  width: auto;
  height: auto;
  max-width: 120px;
  max-height: 120px;
  object-fit: contain;
  padding: var(--space-10);
  background: var(--color-gray-50);
  border-radius: var(--radius-md);
  margin: auto;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  inset: auto;
}

.featured-event__badge {
  position: absolute;
  top: var(--space-4);
  left: var(--space-4);
  z-index: 10;
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  background: var(--color-primary);
  color: var(--color-white);
  font-size: var(--text-xs);
  font-weight: 600;
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.featured-event__badge .eyebrow,
.featured-event__badge span.eyebrow {
  color: var(--color-white) !important;
  display: inline;
}

.featured-event__badge-pulse {
  width: 8px;
  height: 8px;
  min-width: 8px;
  min-height: 8px;
  background: var(--color-green);
  border-radius: 50%;
  animation: pulse 2s ease-in-out infinite;
  flex-shrink: 0;
  display: block;
  opacity: 1;
}

.featured-event__content {
  padding: var(--space-10);
  display: flex;
  flex-direction: column;
  justify-content: center;
  background: var(--color-white);
  color: var(--color-gray-900);
}

.featured-event__meta {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  margin-bottom: var(--space-4);
}

.featured-event__meta-row {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  margin-bottom: var(--space-4);
}

.featured-event__type {
  padding: var(--space-1) var(--space-3);
  background: var(--color-primary-muted);
  color: var(--color-primary-dark);
  font-size: var(--text-xs);
  font-weight: 600;
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  display: inline-block;
}

.featured-event__date {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  margin-bottom: 0;
}

.featured-event__date svg {
  flex-shrink: 0;
  color: var(--color-gray-600);
}

.featured-event__title {
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  font-weight: 600;
  color: var(--color-gray-900);
  line-height: 1.2;
  margin-bottom: var(--space-4);
}

.featured-event__title a {
  color: var(--color-gray-900);
  text-decoration: none;
}

.featured-event__title a:hover {
  color: var(--color-primary);
}

.featured-event__description {
  font-size: var(--text-base);
  color: var(--color-gray-600);
  line-height: 1.6;
  margin-bottom: var(--space-6);
}

.featured-event__details {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  margin-bottom: var(--space-6);
}

.featured-event__detail {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

.featured-event__detail svg {
  color: var(--color-primary);
  flex-shrink: 0;
}

.featured-event__actions {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  margin-top: var(--space-6);
}

.featured-event__learn-more {
  color: var(--color-gray-900);
  text-decoration: none;
  font-weight: 500;
  transition: color var(--transition-base);
}

.featured-event__learn-more:hover {
  color: var(--color-primary);
  text-decoration: underline;
}

/* Events Listing */
.events-listing {
  padding: var(--space-12) 0;
}

.events-listing__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-8);
}

.events-listing__title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-gray-900);
}

.events-listing__count {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

/* Events Grid */
.events-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-6);
}

/* Event Card */
.event-card {
  background: var(--color-white);
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
  transition: all var(--transition-base);
  position: relative;
}

/* Alternating background colors for event cards */
.events-grid .event-card:nth-child(3n+1),
.event-grid .event-card:nth-child(3n+1) {
  background: linear-gradient(135deg, rgba(63, 147, 193, 0.08) 0%, rgba(63, 147, 193, 0.03) 100%);
}

.events-grid .event-card:nth-child(3n+2),
.event-grid .event-card:nth-child(3n+2) {
  background: linear-gradient(135deg, rgba(112, 181, 68, 0.08) 0%, rgba(112, 181, 68, 0.03) 100%);
}

.events-grid .event-card:nth-child(3n+3),
.event-grid .event-card:nth-child(3n+3) {
  background: linear-gradient(135deg, rgba(196, 163, 90, 0.08) 0%, rgba(196, 163, 90, 0.03) 100%);
}

.event-card:hover {
  box-shadow: var(--shadow-lg);
  transform: translateY(-4px);
}

.event-card__image {
  position: relative;
  display: block;
  aspect-ratio: 16/10;
  overflow: hidden;
}

.event-card__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--transition-base);
}

.event-card__image img.is-placeholder {
  object-fit: contain;
  padding: var(--space-8);
}

.event-card:hover .event-card__image img {
  transform: scale(1.05);
}

.event-card__image--placeholder {
  background: var(--color-gray-100);
}

.event-card__image--placeholder-icon {
  width: auto;
  height: auto;
  max-width: 80px;
  max-height: 80px;
  object-fit: contain;
  padding: var(--space-8);
  background: var(--color-gray-50);
  border-radius: var(--radius-md);
  margin: auto;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.featured-event__image--placeholder-icon {
  width: auto;
  height: auto;
  max-width: 120px;
  max-height: 120px;
  object-fit: contain;
  padding: var(--space-10);
  background: var(--color-gray-50);
  border-radius: var(--radius-md);
  margin: auto;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.event-card__placeholder {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(
    135deg,
    var(--color-gray-100) 0%,
    var(--color-gray-200) 100%
  );
}

.event-card__placeholder img {
  width: 80px;
  height: auto;
  opacity: 0.3;
}

.event-card__status {
  position: absolute;
  top: var(--space-3);
  left: var(--space-3);
  padding: var(--space-1) var(--space-3);
  font-size: var(--text-xs);
  font-weight: 600;
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.event-card__status--upcoming {
  background: var(--color-green);
  color: var(--color-white);
}

.event-card__status--past {
  background: var(--color-gray-600);
  color: var(--color-white);
}

.event-card__gallery-badge {
  position: absolute;
  bottom: var(--space-3);
  right: var(--space-3);
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-3);
  background: rgba(0, 0, 0, 0.7);
  color: var(--color-white);
  font-size: var(--text-xs);
  font-weight: 500;
  border-radius: var(--radius-md);
}

.event-card__content {
  padding: var(--space-5);
}

.event-card__meta {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

.event-card__type {
  padding: var(--space-1) var(--space-2);
  background: var(--color-primary-muted);
  color: var(--color-primary-dark);
  font-size: 10px;
  font-weight: 600;
  border-radius: var(--radius-sm);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.event-card__date {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
}

.event-card__title {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 700;
  line-height: 1.3;
  margin-bottom: var(--space-3);
}

.event-card__title a {
  color: var(--color-gray-900);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.event-card__title a:hover {
  color: var(--color-primary);
}

.event-card__excerpt {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: 1.5;
  margin-bottom: var(--space-4);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.event-card__footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-gray-100);
}

.event-card__location {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-xs);
  color: var(--color-gray-500);
}

.event-card__location svg {
  color: var(--color-primary);
}

.event-card__cta {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.event-card__cta:hover {
  color: var(--color-primary-dark);
}

/* ============================================
   JOBS/VACANCIES ARCHIVE PAGE
   ============================================ */

/* Vacancies Listing */
.vacancies-listing {
  margin-top: var(--space-12);
}

.vacancies-listing__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-8);
  flex-wrap: wrap;
  gap: var(--space-4);
}

.vacancies-listing__title {
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  font-weight: 700;
  color: var(--color-gray-900);
}

.vacancies-listing__count {
  font-size: var(--text-base);
  color: var(--color-gray-600);
  font-weight: 500;
}

/* Job Listing Items (List Layout) */
.vacancies-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.job-listing-item {
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-xl);
  transition: all var(--transition-base);
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.job-listing-item:hover {
  border-color: var(--color-primary);
  box-shadow: 0 8px 24px rgba(63, 147, 193, 0.15), 0 2px 8px rgba(0, 0, 0, 0.08);
  transform: translateY(-4px);
}

.job-listing-item__link {
  display: flex;
  align-items: center;
  gap: var(--space-6);
  padding: var(--space-6) var(--space-8);
  text-decoration: none;
  color: inherit;
  position: relative;
}

.job-listing-item__image {
  flex-shrink: 0;
  width: 90px;
  height: 90px;
  border-radius: var(--radius-lg);
  overflow: hidden;
  background: linear-gradient(135deg, var(--color-primary-muted) 0%, var(--color-gray-100) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid var(--color-gray-100);
  transition: all var(--transition-base);
}

.job-listing-item:hover .job-listing-item__image {
  border-color: var(--color-primary-light);
  box-shadow: 0 4px 12px rgba(63, 147, 193, 0.2);
}

.job-listing-item__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.job-listing-item__image img.is-placeholder {
  object-fit: contain;
  padding: var(--space-4);
  width: 60px;
  height: 60px;
}

.job-listing-item__content {
  flex: 1;
  min-width: 0;
}

.job-listing-item__header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: var(--space-4);
  margin-bottom: var(--space-2);
}

.job-listing-item__title {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 700;
  color: var(--color-gray-900);
  line-height: 1.3;
  margin: 0;
  transition: color var(--transition-fast);
}

.job-listing-item:hover .job-listing-item__title {
  color: var(--color-primary-dark);
}

.job-listing-item__badges {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex-shrink: 0;
  flex-wrap: wrap;
}

.job-listing-item__badge {
  padding: var(--space-1) var(--space-3);
  font-size: 11px;
  font-weight: 600;
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  white-space: nowrap;
  border: 1px solid transparent;
  transition: all var(--transition-fast);
}

.job-listing-item__badge--type {
  background: var(--color-primary-muted);
  color: var(--color-primary-dark);
}

.job-listing-item__badge--urgent {
  background: var(--color-error);
  color: var(--color-white);
}

.job-listing-item__badge--closed {
  background: var(--color-gray-400);
  color: var(--color-white);
}

.job-listing-item__excerpt {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: 1.6;
  margin-bottom: var(--space-3);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.job-listing-item__meta {
  display: flex;
  align-items: center;
  gap: var(--space-5);
  flex-wrap: wrap;
  margin-top: var(--space-2);
}

.job-listing-item__meta-item {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-700);
  font-weight: 500;
  padding: var(--space-1) var(--space-3);
  background: var(--color-gray-50);
  border-radius: var(--radius-full);
  border: 1px solid var(--color-gray-200);
  transition: all var(--transition-fast);
}

.job-listing-item:hover .job-listing-item__meta-item {
  background: var(--color-primary-muted);
  border-color: var(--color-primary-light);
  color: var(--color-primary-dark);
}

.job-listing-item__meta-item svg {
  flex-shrink: 0;
  color: var(--color-primary);
  stroke-width: 2.5;
}

.job-listing-item:hover .job-listing-item__meta-item svg {
  color: var(--color-primary-dark);
}

.job-listing-item__meta-item--time {
  color: var(--color-gray-500);
  background: transparent;
  border: none;
  padding: var(--space-1) 0;
  font-weight: 400;
}

.job-listing-item:hover .job-listing-item__meta-item--time {
  background: transparent;
  border: none;
  color: var(--color-gray-500);
}

.job-listing-item__meta-item--deadline {
  background: var(--color-green-light);
  border-color: var(--color-green);
  color: var(--color-green-dark);
}

.job-listing-item:hover .job-listing-item__meta-item--deadline {
  background: var(--color-green);
  border-color: var(--color-green-dark);
  color: var(--color-white);
}

.job-listing-item__arrow {
  flex-shrink: 0;
  color: var(--color-gray-400);
  transition: all var(--transition-fast);
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-full);
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-200);
}

.job-listing-item:hover .job-listing-item__arrow {
  color: var(--color-white);
  background: var(--color-primary);
  border-color: var(--color-primary);
  transform: translateX(4px);
  box-shadow: 0 4px 12px rgba(63, 147, 193, 0.3);
}

/* Empty State */
.vacancies-empty {
  text-align: center;
  padding: var(--space-20) var(--space-6);
  max-width: 600px;
  margin: var(--space-16) auto;
}

.vacancies-empty__icon {
  width: 80px;
  height: 80px;
  margin: 0 auto var(--space-6);
  color: var(--color-gray-300);
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-gray-50);
  border-radius: var(--radius-full);
}

.vacancies-empty__title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 700;
  color: var(--color-gray-900);
  margin-bottom: var(--space-4);
}

.vacancies-empty__message {
  font-size: var(--text-lg);
  color: var(--color-gray-600);
  line-height: 1.6;
  margin-bottom: var(--space-3);
}

.vacancies-empty__submessage {
  font-size: var(--text-base);
  color: var(--color-gray-500);
  line-height: 1.6;
}

/* Responsive */
@media (max-width: 768px) {
  .vacancies-listing__header {
    flex-direction: column;
    align-items: flex-start;
  }

  .vacancies-listing__title {
    font-size: var(--text-2xl);
  }

  .job-listing-item__link {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-4);
  }

  .job-listing-item__image {
    width: 60px;
    height: 60px;
  }

  .job-listing-item__header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
  }

  .job-listing-item__arrow {
    position: absolute;
    top: var(--space-6);
    right: var(--space-6);
  }

  .job-listing-item__link {
    position: relative;
  }
}

/* ============================================
   SINGLE JOB PAGE
   ============================================ */

.job-single__header {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--space-12);
  padding: var(--space-12) 0;
  border-bottom: 1px solid var(--color-gray-200);
}

.job-single__header-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.job-single__meta {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.job-single__badge {
  padding: var(--space-1) var(--space-3);
  font-size: 11px;
  font-weight: 600;
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.job-single__badge--type {
  background: var(--color-primary-muted);
  color: var(--color-primary-dark);
}

.job-single__badge--urgent {
  background: var(--color-error);
  color: var(--color-white);
}

.job-single__badge--closed {
  background: var(--color-gray-400);
  color: var(--color-white);
}

.job-single__title {
  font-family: var(--font-display);
  font-size: var(--text-4xl);
  font-weight: 700;
  color: var(--color-gray-900);
  line-height: 1.2;
  margin: 0;
}

.job-single__details {
  display: flex;
  align-items: center;
  gap: var(--space-6);
  flex-wrap: wrap;
}

.job-single__detail {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-base);
  color: var(--color-gray-700);
  font-weight: 500;
}

.job-single__detail svg {
  flex-shrink: 0;
  color: var(--color-primary);
  stroke-width: 2.5;
}

.job-single__actions {
  margin-top: var(--space-2);
}

.job-single__header-image {
  width: 200px;
  height: 200px;
  border-radius: var(--radius-lg);
  overflow: hidden;
  background: var(--color-gray-100);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.job-single__header-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.job-single__header-image img.is-placeholder {
  object-fit: contain;
  padding: var(--space-8);
  width: 120px;
  height: 120px;
}

.job-single__body {
  padding: var(--space-12) 0;
}

.job-single__layout {
  display: grid;
  grid-template-columns: 1fr 350px;
  gap: var(--space-12);
}

.job-single__content {
  min-width: 0;
}

.job-single__section {
  margin-bottom: var(--space-10);
}

.job-single__section h2 {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 700;
  color: var(--color-gray-900);
  margin-bottom: var(--space-6);
}

.job-single__writeup,
.job-single__content-text {
  font-size: var(--text-base);
  line-height: 1.8;
  color: var(--color-gray-700);
}

.job-single__writeup p,
.job-single__content-text p {
  margin-bottom: var(--space-4);
}

/* Lists in job content */
.job-single__writeup ul,
.job-single__content-text ul,
.job-single__writeup .wp-block-list,
.job-single__content-text .wp-block-list {
  list-style: none;
  padding-left: 0;
  margin-bottom: var(--space-6);
}

.job-single__writeup ul > li,
.job-single__content-text ul > li,
.job-single__writeup .wp-block-list > li,
.job-single__content-text .wp-block-list > li {
  position: relative;
  padding-left: var(--space-6);
  margin-bottom: var(--space-3);
  color: var(--color-gray-700);
}

.job-single__writeup ul > li::before,
.job-single__content-text ul > li::before,
.job-single__writeup .wp-block-list > li::before,
.job-single__content-text .wp-block-list > li::before {
  content: "";
  position: absolute;
  left: 0;
  color: var(--color-primary);
  font-weight: 700;
  font-size: 1.2em;
}

/* Hide bullet on list items that contain nested lists */
.job-single__writeup ul > li:has(> ul)::before,
.job-single__writeup ul > li:has(> .wp-block-list)::before,
.job-single__content-text ul > li:has(> ul)::before,
.job-single__content-text ul > li:has(> .wp-block-list)::before,
.job-single__writeup .wp-block-list > li:has(> ul)::before,
.job-single__writeup .wp-block-list > li:has(> .wp-block-list)::before,
.job-single__content-text .wp-block-list > li:has(> ul)::before,
.job-single__content-text .wp-block-list > li:has(> .wp-block-list)::before {
  content: none;
}

/* Nested lists - different styling */
.job-single__writeup ul ul,
.job-single__content-text ul ul,
.job-single__writeup .wp-block-list .wp-block-list,
.job-single__content-text .wp-block-list .wp-block-list {
  margin-top: var(--space-2);
  margin-bottom: var(--space-2);
  padding-left: var(--space-4);
}

.job-single__writeup ul ul > li,
.job-single__content-text ul ul > li,
.job-single__writeup .wp-block-list .wp-block-list > li,
.job-single__content-text .wp-block-list .wp-block-list > li {
  padding-left: var(--space-5);
}

.job-single__writeup ul ul > li::before,
.job-single__content-text ul ul > li::before,
.job-single__writeup .wp-block-list .wp-block-list > li::before,
.job-single__content-text .wp-block-list .wp-block-list > li::before {
  content: "";
  font-size: 1em;
  left: var(--space-1);
}

/* Override WordPress inline styles that might interfere */
.job-single__writeup ul[style*="list-style-type"],
.job-single__content-text ul[style*="list-style-type"],
.job-single__writeup li[style*="list-style-type"],
.job-single__content-text li[style*="list-style-type"] {
  list-style: none !important;
}

.job-single__writeup ol,
.job-single__content-text ol {
  list-style: none;
  padding-left: 0;
  margin-bottom: var(--space-6);
  counter-reset: list-counter;
}

.job-single__writeup ol li,
.job-single__content-text ol li {
  position: relative;
  padding-left: var(--space-8);
  margin-bottom: var(--space-3);
  color: var(--color-gray-700);
  counter-increment: list-counter;
}

.job-single__writeup ol li::before,
.job-single__content-text ol li::before {
  content: counter(list-counter) ".";
  position: absolute;
  left: 0;
  color: var(--color-primary);
  font-weight: 600;
  font-family: var(--font-display);
  min-width: var(--space-6);
  text-align: right;
}

.job-single__documents {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.job-single__document {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-4) var(--space-5);
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-md);
  text-decoration: none;
  color: var(--color-gray-900);
  transition: all var(--transition-fast);
}

.job-single__document:hover {
  background: var(--color-primary-muted);
  border-color: var(--color-primary);
  color: var(--color-primary-dark);
}

.job-single__document svg:first-child {
  flex-shrink: 0;
  color: var(--color-error);
}

.job-single__document span {
  flex: 1;
  font-weight: 500;
}

.job-single__document svg:last-child {
  flex-shrink: 0;
  color: var(--color-gray-400);
}

.job-single__sidebar {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

.job-single__sidebar-card {
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

.job-single__sidebar-card h3 {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 700;
  color: var(--color-gray-900);
  margin-bottom: var(--space-6);
}

.job-single__details-list {
  margin: 0;
  padding: 0;
  list-style: none;
}

.job-single__detail-item {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  padding-bottom: var(--space-4);
  margin-bottom: var(--space-4);
  border-bottom: 1px solid var(--color-gray-100);
}

.job-single__detail-item:last-child {
  border-bottom: none;
  margin-bottom: 0;
  padding-bottom: 0;
}

.job-single__detail-item dt {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--color-primary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.job-single__detail-item dt svg {
  flex-shrink: 0;
  color: var(--color-primary);
  stroke-width: 2.5;
}

.job-single__detail-item dd {
  font-size: var(--text-base);
  color: var(--color-gray-900);
  margin: 0;
  font-weight: 500;
}

.job-single__deadline--closed {
  color: var(--color-error);
  font-weight: 600;
}

.job-single__sidebar-cta {
  margin-top: var(--space-6);
}

.job-single__closed-message {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  text-align: center;
  padding: var(--space-4);
  background: var(--color-gray-50);
  border-radius: var(--radius-md);
}

.job-single__related {
  list-style: none;
  margin: 0;
  padding: 0;
}

.job-single__related li {
  padding: var(--space-3) 0;
  border-bottom: 1px solid var(--color-gray-100);
}

.job-single__related li:last-child {
  border-bottom: none;
}

.job-single__related a {
  color: var(--color-gray-700);
  text-decoration: none;
  font-size: var(--text-sm);
  transition: color var(--transition-fast);
}

.job-single__related a:hover {
  color: var(--color-primary);
}

/* Responsive */
@media (max-width: 1024px) {
  .job-single__layout {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }

  .job-single__header {
    grid-template-columns: 1fr;
    gap: var(--space-6);
  }

  .job-single__header-image {
    width: 150px;
    height: 150px;
  }
}

@media (max-width: 768px) {
  .job-single__title {
    font-size: var(--text-3xl);
  }

  .job-single__details {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-3);
  }

  .job-single__header-image {
    width: 120px;
    height: 120px;
  }
}

/* Events CTA */
.events-cta {
  padding: var(--space-12) 0;
  background: var(--color-primary);
}

.events-cta__inner {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-8);
}

.events-cta__title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-white);
  margin-bottom: var(--space-2);
}

.events-cta__text {
  color: rgba(255, 255, 255, 0.8);
  max-width: 500px;
}

.events-cta__actions {
  display: flex;
  gap: var(--space-4);
}

/* Event Single - Split Header */
.event-single {
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
}

.event-header--split {
  display: grid;
  grid-template-columns: 1fr 1fr;
  min-height: 550px;
  margin-top: 0;
  width: 100vw;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  padding-top: 0;
}

.event-header__content-block {
  background: var(--color-primary);
  display: flex;
  align-items: center;
  padding: var(--space-12) var(--space-6);
  padding-top: calc(var(--header-height) + var(--space-12));
  padding-left: max(
    var(--space-6),
    calc((100vw - 1280px) / 2 + var(--space-6))
  );
  width: 100%;
  min-height: 100%;
}

.event-header__content-inner {
  max-width: 640px;
  padding-right: var(--space-6);
}

.event-header__breadcrumb {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.6);
  margin-bottom: var(--space-4);
}

.event-header__breadcrumb a {
  color: rgba(255, 255, 255, 0.7);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.event-header__breadcrumb a:hover {
  color: var(--color-white);
}

.event-header__badges {
  display: flex;
  gap: var(--space-2);
  margin-bottom: var(--space-4);
  flex-wrap: wrap;
}

.event-header__badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-1) var(--space-3);
  font-size: var(--text-xs);
  font-weight: 600;
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.event-header__badge--upcoming {
  background: var(--color-green);
  color: var(--color-white);
}

.event-header__badge--past {
  background: var(--color-gray-600);
  color: var(--color-white);
}

.event-header__badge--type {
  background: rgba(255, 255, 255, 0.2);
  color: var(--color-white);
}

.event-header__badge-pulse {
  width: 6px;
  height: 6px;
  background: var(--color-white);
  border-radius: 50%;
  animation: pulse 2s infinite;
}

.event-header__title {
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  font-weight: 600;
  color: var(--color-white);
  line-height: 1.2;
  margin-bottom: var(--space-6);
}

.event-header__meta {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  margin-bottom: var(--space-8);
}

.event-header__meta-item {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.9);
}

.event-header__meta-item svg {
  flex-shrink: 0;
  opacity: 0.7;
  margin-top: 2px;
}

.event-header__meta-item div {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.event-header__meta-item strong {
  font-weight: 600;
  color: var(--color-white);
}

.event-header__meta-item span {
  font-size: var(--text-xs);
  opacity: 0.7;
}

.event-header__meta-item--date {
  padding: var(--space-3);
  background: rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-md);
}

.event-header__actions {
  display: flex;
  align-items: center;
  gap: var(--space-6);
  flex-wrap: wrap;
}

.event-header__share {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.event-header__share span {
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.7);
}

.event-header__share button {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--radius-md);
  color: var(--color-white);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.event-header__share button:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 255, 255, 0.4);
}

.event-header__image {
  position: relative;
  overflow: hidden;
}

.event-header__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Event Body */
.event-body {
  padding: var(--space-12) 0;
}

.event-layout {
  display: grid;
  grid-template-columns: 1fr 380px;
  gap: var(--space-10);
  align-items: start;
}

.event-content {
  max-width: 100%;
}

/* Event Description */
.event-description {
  margin-bottom: var(--space-10);
}

.event-description h2 {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-6);
}

.event-description h3 {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-top: var(--space-8);
  margin-bottom: var(--space-4);
}

/* Key Themes List - Enhanced Styling */
.event-description h3 + ul {
  background: var(--gradient-primary-secondary-subtle, linear-gradient(135deg, rgba(63, 147, 193, 0.03) 0%, rgba(112, 181, 68, 0.03) 100%));
  border-left: 4px solid var(--color-primary);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  margin-top: var(--space-4);
  margin-bottom: var(--space-6);
  position: relative;
  overflow: hidden;
}

.event-description h3 + ul::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(circle at 1px 1px, var(--color-secondary) 1px, transparent 0);
  background-size: 20px 20px;
  opacity: 0.05;
  pointer-events: none;
}

.event-description h3 + ul li {
  padding-left: var(--space-8);
  font-weight: 500;
  color: var(--color-gray-700);
}

.event-description h3 + ul li::before {
  color: var(--color-secondary);
  font-size: 1.2em;
  top: 0;
}

.event-description__lead {
  font-size: var(--text-lg);
  color: var(--color-gray-700);
  line-height: 1.7;
  margin-bottom: var(--space-6);
}

.event-description p {
  color: var(--color-gray-600);
  line-height: 1.7;
  margin-bottom: var(--space-4);
}

/* Unordered Lists - Long Dash Style */
.event-description ul,
.event-description__who-should-attend ul {
  margin-left: 0;
  margin-bottom: var(--space-6);
  padding-left: 0;
  list-style: none;
}

.event-description ul li,
.event-description__who-should-attend ul li {
  color: var(--color-gray-600);
  line-height: 1.7;
  margin-bottom: var(--space-3);
  padding-left: var(--space-6);
  position: relative;
}

.event-description ul li::before,
.event-description__who-should-attend ul li::before {
  content: '';
  position: absolute;
  left: 0;
  color: var(--color-primary);
  font-weight: 600;
}

/* Ordered Lists - Numbered Style */
.event-description ol,
.event-description__who-should-attend ol {
  margin-left: 0;
  margin-bottom: var(--space-6);
  padding-left: 0;
  counter-reset: list-counter;
  list-style: none;
}

.event-description ol li,
.event-description__who-should-attend ol li {
  color: var(--color-gray-600);
  line-height: 1.7;
  margin-bottom: var(--space-3);
  padding-left: var(--space-8);
  position: relative;
  counter-increment: list-counter;
}

.event-description ol li::before,
.event-description__who-should-attend ol li::before {
  content: counter(list-counter) '.';
  position: absolute;
  left: 0;
  color: var(--color-primary);
  font-weight: 600;
  font-family: var(--font-display);
  min-width: var(--space-6);
  text-align: right;
}

/* Event Speakers */
.event-speakers {
  margin-bottom: var(--space-10);
}

.event-speakers h2 {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-6);
}

.event-speakers__grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-6);
}

.event-speaker {
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-xl);
  padding: var(--space-6);
  text-align: center;
  transition: all var(--duration-base) var(--ease-out-quart);
  position: relative;
  overflow: hidden;
}

/* Subtle pattern overlay */
.event-speaker::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    linear-gradient(45deg, transparent 48%, var(--color-secondary) 48%, var(--color-secondary) 49%, transparent 49%);
  background-size: 20px 20px;
  opacity: 0.03;
  pointer-events: none;
}

.event-speaker:hover {
  border-color: var(--color-secondary);
  box-shadow: 0 8px 24px rgba(112, 181, 68, 0.15);
  transform: translateY(-4px);
}

.event-speaker__image {
  width: 100px;
  height: 100px;
  margin: 0 auto var(--space-4);
  border-radius: 50%;
  overflow: hidden;
  border: 3px solid var(--color-gray-100);
  transition: all var(--duration-base);
  position: relative;
  z-index: 1;
}

.event-speaker:hover .event-speaker__image {
  border-color: var(--color-secondary);
  box-shadow: 0 4px 12px rgba(112, 181, 68, 0.2);
  transform: scale(1.05);
}

.event-speaker__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--duration-base);
}

.event-speaker:hover .event-speaker__image img {
  transform: scale(1.05);
}

.event-speaker__info {
  position: relative;
  z-index: 1;
}

.event-speaker__name {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-2);
  transition: color var(--duration-base);
}

.event-speaker:hover .event-speaker__name {
  color: var(--color-secondary);
}

.event-speaker__title {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  line-height: 1.5;
}

/* Event Gallery */
.event-gallery {
  margin-bottom: var(--space-10);
}

.event-gallery h2 {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-6);
}

.event-gallery__grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-4);
  margin-bottom: var(--space-6);
}

.event-gallery__item {
  position: relative;
  aspect-ratio: 4/3;
  overflow: hidden;
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-gray-200);
  transition: all var(--duration-base);
}

.event-gallery__item:hover {
  border-color: var(--color-primary);
  box-shadow: 0 8px 24px rgba(63, 147, 193, 0.2);
  transform: translateY(-2px);
}

.event-gallery__link {
  display: block;
  width: 100%;
  height: 100%;
  position: relative;
}

.event-gallery__link::after {
  content: '';
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0);
  transition: background var(--duration-base);
  z-index: 1;
}

.event-gallery__item:hover .event-gallery__link::after {
  background: rgba(0, 0, 0, 0.1);
}

.event-gallery__link img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--duration-slow);
}

.event-gallery__item:hover .event-gallery__link img {
  transform: scale(1.05);
}

/* Thumbnail Navigation */
.event-gallery__thumbnails-wrapper {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-top: var(--space-6);
}

.event-gallery__thumbnails {
  flex: 1;
  overflow: hidden;
}

.event-gallery__thumbnails-track {
  display: flex;
  gap: var(--space-2);
  transition: transform 0.3s ease;
  will-change: transform;
}

.event-gallery__thumbnails-static {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
  justify-content: center;
  margin-top: var(--space-6);
}

.event-gallery__thumb {
  flex: 0 0 auto;
  width: 80px;
  height: 80px;
  border: 2px solid transparent;
  border-radius: var(--radius-md);
  overflow: hidden;
  background: var(--color-gray-100);
  cursor: pointer;
  transition: all var(--duration-base);
  padding: 0;
  position: relative;
}

.event-gallery__thumb:hover {
  border-color: var(--color-primary);
  transform: scale(1.05);
}

.event-gallery__thumb.active {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px rgba(63, 147, 193, 0.2);
}

.event-gallery__thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.event-gallery__thumb-btn {
  flex: 0 0 auto;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--duration-base);
  color: var(--color-gray-700);
  z-index: 10;
}

.event-gallery__thumb-btn:hover {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
  box-shadow: 0 4px 12px rgba(63, 147, 193, 0.3);
}

.event-gallery__thumb-btn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
  pointer-events: none;
}

.event-gallery__thumb-btn svg {
  width: 16px;
  height: 16px;
}

@media (max-width: 1024px) {
  .event-gallery__grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-3);
  }
  
  .event-gallery__thumb {
    width: 70px;
    height: 70px;
  }
}

@media (max-width: 768px) {
  .event-gallery__grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-2);
  }
  
  .event-gallery__thumbnails-wrapper {
    gap: var(--space-2);
  }
  
  .event-gallery__thumb {
    width: 60px;
    height: 60px;
  }
  
  .event-gallery__thumb-btn {
    width: 32px;
    height: 32px;
  }
}

@media (max-width: 480px) {
  .event-gallery__grid {
    grid-template-columns: 1fr;
  }
  
  .event-gallery__thumb {
    width: 50px;
    height: 50px;
  }
}

/* Who Should Attend Section */
.event-description__who-should-attend {
  margin-top: var(--space-4);
}

.event-description__who-should-attend p {
  color: var(--color-gray-600);
  line-height: 1.7;
  margin-bottom: var(--space-4);
}

/* Event Agenda */
.event-agenda {
  margin-bottom: var(--space-10);
}

.event-agenda h2 {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-6);
}

.event-agenda__day {
  margin-bottom: var(--space-8);
}

.event-agenda__day-title {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-primary);
  margin-bottom: var(--space-4);
  padding-bottom: var(--space-2);
  border-bottom: 2px solid var(--color-primary);
}

.event-agenda__items {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.event-agenda__item {
  display: grid;
  grid-template-columns: 100px 1fr;
  gap: var(--space-4);
  padding: var(--space-4);
  background: var(--color-gray-50);
  border-radius: var(--radius-md);
  border-left: 3px solid var(--color-primary-muted);
  transition: all var(--transition-fast);
}

.event-agenda__item:hover {
  border-left-color: var(--color-primary);
  background: var(--color-white);
  box-shadow: var(--shadow-sm);
}

.event-agenda__time {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
}

.event-agenda__content h4 {
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-1);
}

.event-agenda__content p {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

/* Event Publications */
.event-publications {
  margin-bottom: var(--space-10);
}

.event-publications h2 {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-6);
}

.event-publications__list {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.event-publication {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  padding: var(--space-4);
  background: var(--color-gray-50);
  border-radius: var(--radius-md);
  text-decoration: none;
  transition: all var(--transition-fast);
}

.event-publication:hover {
  background: var(--color-white);
  box-shadow: var(--shadow-sm);
}

.event-publication__type {
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--color-primary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.event-publication__title {
  font-size: var(--text-base);
  font-weight: 500;
  color: var(--color-gray-900);
}

/* Event Sidebar */
.event-sidebar {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
  position: sticky;
  top: 100px;
}

/* Event Details Card */
.event-details-card {
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
}

.event-details-card__title {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-4);
  padding-bottom: var(--space-3);
  border-bottom: 1px solid var(--color-gray-100);
}

.event-details-card__items {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.event-details-card__item {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.event-details-card__label {
  font-size: var(--text-xs);
  font-weight: 500;
  color: var(--color-gray-400);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.event-details-card__value {
  font-size: var(--text-sm);
  color: var(--color-gray-700);
}

.event-details-card__map {
  margin-top: var(--space-4);
  border-radius: var(--radius-md);
  overflow: hidden;
}

/* Event Registration Card */
.event-registration-card {
  background: var(--color-primary);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  color: var(--color-white);
}

.event-registration-card__title {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  margin-bottom: var(--space-4);
}

.event-registration-card__pricing {
  margin-bottom: var(--space-4);
}

.event-registration-card__price {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin-bottom: var(--space-2);
}

.event-registration-card__price-label {
  font-size: var(--text-xs);
  opacity: 0.7;
}

.event-registration-card__price-value {
  font-size: var(--text-2xl);
  font-weight: 700;
}

.event-registration-card__includes {
  font-size: var(--text-sm);
  opacity: 0.8;
}

.event-registration-card__deadline {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  margin-bottom: var(--space-4);
  padding: var(--space-3);
  background: rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-md);
}

.event-registration-card__note {
  font-size: var(--text-xs);
  text-align: center;
  opacity: 0.8;
  margin-top: var(--space-3);
}

/* Event Organizer Card */
.event-organizer-card {
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
}

.event-organizer-card__title {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-4);
}

.event-organizer-card__info {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.event-organizer-card__logo {
  width: 48px;
  height: 48px;
  object-fit: contain;
}

.event-organizer-card__info strong {
  font-size: var(--text-base);
  color: var(--color-gray-900);
  display: block;
}

.event-organizer-card__info p {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  margin: 0;
}

.event-organizer-card__link {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
  text-decoration: none;
}

.event-organizer-card__link:hover {
  text-decoration: underline;
}

/* Event Partners Card */
.event-partners-card {
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
}

.event-partners-card__title {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-4);
}

.event-partners-card__logos {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-4);
  align-items: center;
}

.event-partners-card__logos img {
  width: 100%;
  height: 80px;
  object-fit: contain;
  opacity: 0.5;
  filter: grayscale(100%);
  transition: all var(--transition-fast);
}

.event-partners-card__logos img:hover {
  opacity: 1;
  filter: grayscale(0%);
}

/* More Events */
.more-events {
  padding: var(--space-12) 0;
  background: var(--color-gray-50);
}

.more-events__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-8);
}

.more-events__title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-gray-900);
}

.more-events__link {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
  text-decoration: none;
}

.more-events__link:hover {
  text-decoration: underline;
}

.more-events__grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-6);
}

/* Events Responsive */
@media (max-width: 1200px) {
  .events-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .event-layout {
    grid-template-columns: 1fr 320px;
    gap: var(--space-8);
  }

  .event-speakers__grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .more-events__grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 1024px) {
  .event-header--split {
    grid-template-columns: 1fr;
    min-height: auto;
  }

  .event-header__content-block {
    padding: var(--space-16) var(--space-6);
    padding-top: calc(var(--header-height) + var(--space-16));
    padding-left: var(--space-6);
  }

  .event-header__content-inner {
    max-width: 100%;
    padding-right: 0;
  }

  .event-header__image {
    height: 300px;
  }

  .featured-event__card {
    grid-template-columns: 1fr;
  }

  .featured-event__image {
    min-height: 280px;
  }

  .event-layout {
    grid-template-columns: 1fr;
  }

  .event-sidebar {
    position: static;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-6);
  }
}

@media (max-width: 768px) {
  .events-tabs__wrapper {
    overflow-x: auto;
    padding-bottom: var(--space-2);
  }

  .events-tab {
    padding: var(--space-2) var(--space-4);
    font-size: var(--text-xs);
  }

  .events-filters__wrapper {
    flex-direction: column;
    align-items: flex-start;
  }

  .events-grid {
    grid-template-columns: 1fr;
  }

  .event-header--split {
    margin-top: 0;
  }

  .event-header__content-block {
    padding: var(--space-12) var(--space-5);
    padding-top: calc(var(--header-height) + var(--space-12));
    padding-left: var(--space-5);
  }

  .event-header__title {
    font-size: var(--text-2xl);
  }

  .event-header__actions {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-4);
  }

  .event-header__image {
    height: 250px;
  }

  .event-speakers__grid {
    grid-template-columns: 1fr 1fr;
    gap: var(--space-4);
  }

  .event-agenda__item {
    grid-template-columns: 80px 1fr;
    gap: var(--space-3);
  }

  .event-sidebar {
    grid-template-columns: 1fr;
  }

  .more-events__grid {
    grid-template-columns: 1fr;
  }

  .events-cta__inner {
    flex-direction: column;
    text-align: center;
  }

  .events-cta__actions {
    width: 100%;
    flex-direction: column;
  }

  .featured-event__content {
    padding: var(--space-6);
  }

  .featured-event__title {
    font-size: var(--text-2xl);
  }

  .featured-event__actions {
    flex-direction: column;
  }
}

/* ============================================
   RESEARCH LANDING PAGE COMPONENTS
   ============================================ */

/* COMPONENT: research-pillars-grid
   Grid of clickable pillar cards
   ============================================ */
.research-pillars-section {
  padding-top: var(--space-16);
  padding-bottom: var(--space-20);
}

.research-pillars-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-8);
}

.research-pillar-card {
  display: flex;
  flex-direction: column;
  padding: var(--space-8);
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-xl);
  text-decoration: none;
  color: inherit;
  transition: all var(--duration-base) var(--ease-out);
}

.research-pillar-card:hover {
  border-color: var(--color-primary);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
  transform: translateY(-4px);
}

.research-pillar-card__icon {
  width: 64px;
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-primary-muted);
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-6);
  transition: all var(--duration-base) var(--ease-out);
}

.research-pillar-card:hover .research-pillar-card__icon {
  background: var(--color-primary);
}

.research-pillar-card__icon svg {
  width: 32px;
  height: 32px;
  color: var(--color-primary);
  transition: color var(--duration-base) var(--ease-out);
}

.research-pillar-card:hover .research-pillar-card__icon svg {
  color: var(--color-white);
}

.research-pillar-card__title {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-3);
}

.research-pillar-card__description {
  font-size: var(--text-base);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-6);
  flex-grow: 1;
}

.research-pillar-card__cta {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
  margin-top: auto;
}

.research-pillar-card__cta svg {
  width: 18px;
  height: 18px;
  transition: transform var(--duration-base) var(--ease-out);
}

.research-pillar-card:hover .research-pillar-card__cta svg {
  transform: translateX(4px);
}

/* COMPONENT: research-cta
   CTA section for research collaboration
   ============================================ */
.research-cta-section {
  padding-top: var(--space-8);
  padding-bottom: var(--space-20);
}

.research-cta {
  background: linear-gradient(
    135deg,
    var(--color-primary) 0%,
    var(--color-primary-dark) 100%
  );
  border-radius: var(--radius-2xl);
  padding: var(--space-16);
  text-align: center;
}

.research-cta__content {
  max-width: 640px;
  margin: 0 auto;
}

.research-cta__title {
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  font-weight: 600;
  color: var(--color-white);
  margin-bottom: var(--space-4);
}

.research-cta__text {
  font-size: var(--text-lg);
  color: rgba(255, 255, 255, 0.85);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-8);
}

.research-cta .btn--primary {
  background: var(--color-white);
  color: var(--color-primary);
}

.research-cta .btn--primary:hover {
  background: var(--color-gray-100);
}

@media (max-width: 1024px) {
  .research-pillars-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .research-pillars-grid {
    grid-template-columns: 1fr;
    gap: var(--space-6);
  }

  .research-pillar-card {
    padding: var(--space-6);
  }

  .research-cta {
    padding: var(--space-10) var(--space-6);
  }

  .research-cta__title {
    font-size: var(--text-2xl);
  }
}

/* ============================================
   MEDIA PAGE COMPONENTS
   ============================================ */

/* Media Hero */
.media-hero {
  position: relative;
  padding: var(--space-20) 0 var(--space-16);
  min-height: 480px;
  display: flex;
  align-items: center;
  overflow: hidden;
}

.media-hero__bg {
  position: absolute;
  inset: 0;
  z-index: 0;
}

.media-hero__bg img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.media-hero__overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    rgba(0, 51, 102, 0.95) 0%,
    rgba(0, 51, 102, 0.8) 50%,
    rgba(0, 51, 102, 0.7) 100%
  );
  z-index: 1; /* Ensure overlay is above background but below content */
}

/* Subtle decorative graphics for media hero */
.media-hero__overlay::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(circle at 2px 2px, rgba(255, 255, 255, 0.12) 1px, transparent 0);
  background-size: 40px 40px;
  background-position: 0 0;
  opacity: 0.7;
  pointer-events: none;
  z-index: 1;
}

.media-hero__overlay::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 50%;
  height: 100%;
  background: 
    radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.15) 0%, transparent 50%),
    radial-gradient(circle at 60% 80%, rgba(255, 255, 255, 0.12) 0%, transparent 50%);
  pointer-events: none;
  opacity: 0.6;
  z-index: 1;
}

/* Decorative geometric shapes - positioned behind text */
.media-hero::before {
  content: '';
  position: absolute;
  top: 20%;
  right: 10%;
  width: 200px;
  height: 200px;
  border: 2px solid rgba(255, 255, 255, 0.15);
  border-radius: 50%;
  z-index: 0; /* Behind text container (z-index: 1) */
  pointer-events: none;
  opacity: 0.5;
}

.media-hero::after {
  content: '';
  position: absolute;
  bottom: 15%;
  right: 20%;
  width: 120px;
  height: 120px;
  border: 1.5px solid rgba(255, 255, 255, 0.12);
  border-radius: 50%;
  z-index: 0; /* Behind text container (z-index: 1) */
  pointer-events: none;
  opacity: 0.4;
}

/* Additional subtle diagonal line pattern */
.media-hero__bg::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 40%;
  height: 100%;
  background: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 20px,
    rgba(255, 255, 255, 0.03) 20px,
    rgba(255, 255, 255, 0.03) 22px
  );
  pointer-events: none;
  opacity: 0.6;
  z-index: 1;
}

.media-hero .container {
  position: relative;
  z-index: 1;
}

.media-hero .page-header__breadcrumb {
  margin-top: var(--space-4);
  padding-top: var(--space-2);
  background: none;
  padding: 0;
  margin-bottom: 0;
  display: inline-block; /* Only take width of content */
  border: none; /* Remove green border */
  box-shadow: none; /* Remove any shadow */
  position: relative;
  z-index: 10; /* Ensure breadcrumb is above overlay */
}

/* Media hero breadcrumb - white pill style on inner breadcrumbs element */
.media-hero .page-header__breadcrumb--light {
  display: inline-block; /* Only take width of content */
  border: none; /* Remove green border */
  box-shadow: none; /* Remove any shadow */
  background: none; /* Remove background */
  padding: 0; /* Remove padding */
}

.media-hero .page-header__breadcrumb--light .breadcrumbs {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-full);
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  margin-bottom: 0;
}

.media-hero .page-header__breadcrumb--light .breadcrumbs a {
  color: var(--color-gray-700);
  text-decoration: none;
  transition: color var(--duration-fast);
}

.media-hero .page-header__breadcrumb--light .breadcrumbs a:hover {
  color: var(--color-primary);
}

.media-hero .page-header__breadcrumb--light .breadcrumbs span {
  color: var(--color-gray-600);
}

.media-hero .page-header__breadcrumb--light .breadcrumbs__separator {
  color: var(--color-gray-400);
  margin: 0 var(--space-1);
}

.media-hero .page-header__breadcrumb--light .breadcrumbs__current {
  color: var(--color-gray-900);
  font-weight: 500;
}

.media-hero__content {
  max-width: 700px;
  margin-top: var(--space-6);
}

.media-hero__title {
  font-family: var(--font-display);
  font-size: clamp(2.5rem, 5vw, 4rem);
  font-weight: 700;
  color: var(--color-white);
  line-height: 1.1;
  margin-bottom: var(--space-4);
}

.media-hero__description {
  font-size: var(--text-xl);
  color: rgba(255, 255, 255, 0.85);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-10);
}

.media-hero__stats {
  display: flex;
  gap: var(--space-10);
}

.media-hero__stat {
  text-align: left;
}

.media-hero__stat-number {
  display: block;
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  font-weight: 700;
  color: var(--color-white);
  line-height: 1.2;
}

.media-hero__stat-label {
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.65);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

/* Media Categories Grid */
.media-categories-section {
  padding-top: var(--space-16);
  padding-bottom: var(--space-16);
  background: var(--color-gray-50);
}

.media-categories-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-6);
}

.media-category-card {
  position: relative;
  border-radius: var(--radius-2xl);
  overflow: hidden;
  aspect-ratio: 3/4;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  min-height: 400px;
  background: var(--color-gray-900);
}

.media-category-card,
.media-category-card.reveal {
  opacity: 1 !important;
  visibility: visible !important;
  transform: translateY(0) !important;
}

.media-category-card__bg {
  position: absolute;
  inset: 0;
  z-index: 0;
  background: transparent;
}

.media-category-card__bg img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--duration-slow) var(--ease-out);
  display: block;
  opacity: 1 !important;
  visibility: visible !important;
}

.media-category-card:hover .media-category-card__bg img {
  transform: scale(1.08);
}

.media-category-card__bg::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.75) 0%,
    rgba(0, 0, 0, 0.3) 50%,
    rgba(0, 0, 0, 0.1) 100%
  );
  z-index: 1;
}

.media-category-card__content {
  position: relative;
  z-index: 2;
  padding: var(--space-8);
  color: var(--color-white);
  opacity: 1 !important;
  visibility: visible !important;
}

.media-category-card__icon {
  width: 56px;
  height: 56px;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: var(--space-4);
  transition: all var(--duration-base);
  color: var(--color-white);
  opacity: 1;
  visibility: visible;
}

.media-category-card__icon svg {
  width: 28px;
  height: 28px;
  color: var(--color-white);
  fill: currentColor;
}

.media-category-card:hover .media-category-card__icon {
  background: var(--color-primary);
  transform: translateY(-4px);
}

.media-category-card__title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 700;
  color: var(--color-white);
  margin-bottom: var(--space-2);
  opacity: 1;
  visibility: visible;
}

.media-category-card__description {
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: var(--space-4);
  opacity: 1;
  visibility: visible;
}

.media-category-card__cta {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-white);
  opacity: 0;
  transform: translateY(8px);
  transition: all var(--duration-base);
}

.media-category-card__cta svg {
  width: 16px;
  height: 16px;
  transition: transform var(--duration-base);
}

.media-category-card:hover .media-category-card__cta {
  opacity: 1;
  transform: translateY(0);
}

.media-category-card:hover .media-category-card__cta svg {
  transform: translateX(4px);
}

@media (max-width: 1024px) {
  .media-categories-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .media-hero__stats {
    flex-wrap: wrap;
    gap: var(--space-6);
  }
}

@media (max-width: 768px) {
  .media-hero {
    padding: calc(var(--space-16) + 80px) 0 var(--space-12) 0;
    min-height: auto;
  }
  
  .media-hero .page-header__breadcrumb {
    margin-top: var(--space-6);
    padding-top: var(--space-2);
  }

  .media-hero__title {
    font-size: var(--text-3xl);
  }

  .media-hero__description {
    font-size: var(--text-lg);
  }

  .media-hero__stats {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-4);
  }

  .media-categories-section {
    padding-top: var(--space-8);
    padding-bottom: var(--space-8);
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
  }

  .media-categories-section .container {
    width: 100%;
    max-width: 100%;
    padding-left: var(--space-4);
    padding-right: var(--space-4);
  }

  .media-categories-grid {
    grid-template-columns: 1fr;
    gap: var(--space-4);
    width: 100%;
    max-width: 100%;
  }

  .media-category-card {
    aspect-ratio: 16/9;
    min-height: 280px;
    width: 100%;
    max-width: 100%;
  }

  .media-category-card__content {
    padding: var(--space-6);
  }

  .media-category-card__icon {
    width: 48px;
    height: 48px;
    margin-bottom: var(--space-3);
  }

  .media-category-card__icon svg {
    width: 24px;
    height: 24px;
  }

  .media-category-card__title {
    font-size: var(--text-xl);
    margin-bottom: var(--space-1);
  }

  .media-category-card__description {
    font-size: var(--text-xs);
    margin-bottom: var(--space-3);
  }

  .media-category-card__cta {
    opacity: 1;
    transform: translateY(0);
    font-size: var(--text-xs);
  }
}

/* Section Headers */
.section-header {
  margin-bottom: var(--space-8);
}

.section-header--with-link {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  gap: var(--space-6);
}

.section-header__title {
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  font-weight: 700;
  color: var(--color-primary);
  margin-bottom: var(--space-2);
}

.section-header__description {
  font-size: var(--text-lg);
  color: var(--color-gray-600);
}

.section-header--light .section-header__title {
  color: var(--color-white);
}

.section-header--light .section-header__description {
  color: rgba(255, 255, 255, 0.85);
}

.section--dark .section-header__title {
  color: var(--color-gray-900);
}

.section--dark .section-header__description {
  color: var(--color-gray-600);
}

/* Featured Video */
.featured-video {
  display: grid;
  grid-template-columns: 1.5fr 1fr;
  gap: var(--space-10);
  align-items: center;
}

.featured-video__wrapper {
  position: relative;
  border-radius: var(--radius-xl);
  overflow: hidden;
  aspect-ratio: 16/9;
}

.featured-video__thumbnail {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.featured-video__play {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 80px;
  height: 80px;
  background: var(--color-primary);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-white);
  transition: all var(--duration-base) var(--ease-out);
}

.featured-video__play svg {
  width: 32px;
  height: 32px;
  margin-left: 4px;
}

.featured-video__play:hover {
  transform: translate(-50%, -50%) scale(1.1);
  background: var(--color-primary-dark);
}

.featured-video__category {
  display: inline-block;
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  margin-bottom: var(--space-3);
}

.featured-video__title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-gray-900);
  line-height: var(--leading-tight);
  margin-bottom: var(--space-4);
}

.featured-video__description {
  font-size: var(--text-base);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-4);
}

.featured-video__meta {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  margin-bottom: var(--space-6);
}

/* Podcast Grid & Cards */
.podcast-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-6);
}

.podcast-card {
  background: var(--color-white);
  border-radius: var(--radius-xl);
  overflow: hidden;
  border: 1px solid var(--color-gray-200);
  transition: all var(--duration-base) var(--ease-out);
  position: relative;
}

/* Alternating background colors for podcast cards */
.podcast-grid .podcast-card:nth-child(3n+1),
.podcasts-grid .podcast-card:nth-child(3n+1) {
  background: linear-gradient(135deg, rgba(63, 147, 193, 0.08) 0%, rgba(63, 147, 193, 0.03) 100%);
  border-color: rgba(63, 147, 193, 0.2);
}

.podcast-grid .podcast-card:nth-child(3n+2),
.podcasts-grid .podcast-card:nth-child(3n+2) {
  background: linear-gradient(135deg, rgba(112, 181, 68, 0.08) 0%, rgba(112, 181, 68, 0.03) 100%);
  border-color: rgba(112, 181, 68, 0.2);
}

.podcast-grid .podcast-card:nth-child(3n+3),
.podcasts-grid .podcast-card:nth-child(3n+3) {
  background: linear-gradient(135deg, rgba(196, 163, 90, 0.08) 0%, rgba(196, 163, 90, 0.03) 100%);
  border-color: rgba(196, 163, 90, 0.2);
}

.podcast-card:hover {
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
  transform: translateY(-4px);
}

.podcast-card__image {
  position: relative;
  aspect-ratio: 16/9;
  overflow: hidden;
}

.podcast-card__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.podcast-card__image img.is-placeholder {
  object-fit: contain;
  padding: var(--space-8);
}

.podcast-card__duration {
  position: absolute;
  bottom: var(--space-3);
  right: var(--space-3);
  background: rgba(0, 0, 0, 0.8);
  color: var(--color-white);
  font-size: var(--text-xs);
  font-weight: 600;
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
}

.podcast-card__content {
  padding: var(--space-5) var(--space-6) var(--space-6);
}

.podcast-card__episode {
  display: inline-block;
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--color-primary);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  margin-bottom: var(--space-2);
}

.podcast-card__title {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 700;
  color: var(--color-gray-900);
  line-height: var(--leading-tight);
  margin-bottom: var(--space-3);
}

.podcast-card__excerpt {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-4);
}

.podcast-card__link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
}

.podcast-card__link svg {
  transition: transform var(--duration-base);
}

.podcast-card:hover .podcast-card__link svg {
  transform: translateX(4px);
}

/* Speech Grid & Cards */
.speech-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-6);
}

.speech-card {
  background: var(--color-white);
  border-radius: var(--radius-xl);
  overflow: hidden;
  border: 1px solid var(--color-gray-200);
  transition: all var(--duration-base) var(--ease-out);
  position: relative;
}

/* Alternating background colors for speech cards */
.speech-grid .speech-card:nth-child(3n+1),
.speeches-grid .speech-card:nth-child(3n+1) {
  background: linear-gradient(135deg, rgba(63, 147, 193, 0.08) 0%, rgba(63, 147, 193, 0.03) 100%);
  border-color: rgba(63, 147, 193, 0.2);
}

.speech-grid .speech-card:nth-child(3n+2),
.speeches-grid .speech-card:nth-child(3n+2) {
  background: linear-gradient(135deg, rgba(112, 181, 68, 0.08) 0%, rgba(112, 181, 68, 0.03) 100%);
  border-color: rgba(112, 181, 68, 0.2);
}

.speech-grid .speech-card:nth-child(3n+3),
.speeches-grid .speech-card:nth-child(3n+3) {
  background: linear-gradient(135deg, rgba(196, 163, 90, 0.08) 0%, rgba(196, 163, 90, 0.03) 100%);
  border-color: rgba(196, 163, 90, 0.2);
}

.speech-card:hover {
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
  transform: translateY(-4px);
}

.speech-card__image {
  position: relative;
  aspect-ratio: 16/9;
  overflow: hidden;
}

.speech-card__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.speech-card__image img.is-placeholder {
  object-fit: contain;
  padding: var(--space-8);
}

.speech-card__date {
  position: absolute;
  bottom: var(--space-3);
  right: var(--space-3);
  background: rgba(0, 0, 0, 0.8);
  color: var(--color-white);
  font-size: var(--text-xs);
  font-weight: 600;
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
}

.speech-card__content {
  padding: var(--space-5) var(--space-6) var(--space-6);
}

.speech-card__title {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 700;
  color: var(--color-gray-900);
  line-height: var(--leading-tight);
  margin-bottom: var(--space-3);
}

.speech-card__excerpt {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-4);
}

.speech-card__link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
  text-decoration: none;
  transition: color var(--duration-base);
}

.speech-card__link:hover {
  color: var(--color-primary-dark);
}

.speech-card__link svg {
  transition: transform var(--duration-base);
}

.speech-card:hover .speech-card__link svg {
  transform: translateY(2px);
}

/* Responsive: Speech Grid */
@media (max-width: 1024px) {
  .speech-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .speech-grid {
    grid-template-columns: 1fr;
  }
}

/* Gallery Preview Grid */
.gallery-preview-grid {
  display: grid;
  grid-template-columns: 1.5fr 1fr 1fr;
  gap: var(--space-5);
}

.gallery-preview-card {
  position: relative;
  border-radius: var(--radius-xl);
  overflow: hidden;
  aspect-ratio: 4/3;
}

.gallery-preview-card--large {
  grid-row: span 2;
  aspect-ratio: auto;
}

.gallery-preview-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--duration-slow) var(--ease-out);
}

.gallery-preview-card:hover img {
  transform: scale(1.05);
}

.gallery-preview-card__overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, transparent 50%);
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: var(--space-6);
  color: var(--color-white);
}

.gallery-preview-card__count {
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.8);
  margin-bottom: var(--space-2);
}

.gallery-preview-card__title {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-white);
}

.gallery-preview-card--large .gallery-preview-card__title {
  font-size: var(--text-2xl);
}

/* Article Grid & Cards */
.articles-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-6);
  margin-top: var(--space-8);
}

/* Articles Carousel */
.articles-carousel-wrapper {
  position: relative;
  margin-top: var(--space-8);
  display: flex;
  align-items: flex-start;
  gap: var(--space-4);
}

.articles-carousel {
  position: relative;
  flex: 1;
  overflow: hidden;
}

.articles-carousel__track {
  display: flex;
  gap: var(--space-6);
  transition: transform 0.5s ease;
  will-change: transform;
}

.articles-carousel__slide {
  flex: 0 0 auto;
  width: calc((100% - (var(--space-6) * 2)) / 3);
  min-width: 300px;
}

.articles-carousel__btn {
  position: relative;
  flex: 0 0 auto;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--duration-base);
  color: var(--color-gray-700);
  z-index: 10;
  margin-top: calc(var(--space-8) + 20px);
}

.articles-carousel__btn:hover {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
  box-shadow: 0 4px 12px rgba(63, 147, 193, 0.3);
}

.articles-carousel__btn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
  pointer-events: none;
}

.articles-carousel__btn svg {
  width: 20px;
  height: 20px;
}

/* Articles Pagination */
.articles-pagination {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  margin-top: var(--space-12);
  flex-wrap: wrap;
}

.articles-pagination__link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 40px;
  height: 40px;
  padding: 0 var(--space-3);
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-md);
  color: var(--color-gray-700);
  text-decoration: none;
  font-weight: 500;
  transition: all var(--duration-base);
}

.articles-pagination__link:hover {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
}

.articles-pagination__link--current {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
}

.articles-pagination__link--prev,
.articles-pagination__link--next {
  padding: 0 var(--space-4);
}

@media (max-width: 1024px) {
  .articles-carousel__slide {
    width: calc((100% - var(--space-6)) / 2);
    min-width: 280px;
  }
}

@media (max-width: 768px) {
  .articles-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .articles-carousel-wrapper {
    gap: var(--space-2);
  }
  
  .articles-carousel__slide {
    width: calc((100% - var(--space-4)) / 2);
    min-width: 250px;
  }
  
  .articles-carousel__btn {
    width: 36px;
    height: 36px;
    margin-top: calc(var(--space-6) + 20px);
  }
  
  .articles-pagination {
    gap: var(--space-1);
  }
  
  .articles-pagination__link {
    min-width: 36px;
    height: 36px;
    font-size: var(--text-sm);
  }
}

@media (max-width: 480px) {
  .articles-grid {
    grid-template-columns: 1fr;
  }
  
  .articles-carousel__slide {
    width: 100%;
    min-width: 100%;
  }
  
  .articles-carousel__btn {
    margin-top: calc(var(--space-4) + 20px);
  }
}

.article-card {
  background: var(--color-white);
  border-radius: var(--radius-xl);
  overflow: hidden;
  border: 1px solid var(--color-gray-200);
  transition: all var(--duration-base) var(--ease-out);
  position: relative;
}

/* Alternating background colors for article cards */
.articles-grid .article-card:nth-child(3n+1) {
  background: linear-gradient(135deg, rgba(63, 147, 193, 0.08) 0%, rgba(63, 147, 193, 0.03) 100%);
  border-color: rgba(63, 147, 193, 0.2);
}

.articles-grid .article-card:nth-child(3n+2) {
  background: linear-gradient(135deg, rgba(112, 181, 68, 0.08) 0%, rgba(112, 181, 68, 0.03) 100%);
  border-color: rgba(112, 181, 68, 0.2);
}

.articles-grid .article-card:nth-child(3n+3) {
  background: linear-gradient(135deg, rgba(196, 163, 90, 0.08) 0%, rgba(196, 163, 90, 0.03) 100%);
  border-color: rgba(196, 163, 90, 0.2);
}

.article-card:hover {
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
  transform: translateY(-4px);
}

.article-card__image {
  aspect-ratio: 16/10;
  overflow: hidden;
}

.article-card__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--duration-slow) var(--ease-out);
}

.article-card__image img.is-placeholder {
  object-fit: contain;
  padding: var(--space-8);
}

.article-card:hover .article-card__image img {
  transform: scale(1.05);
}

.article-card__content {
  padding: var(--space-5) var(--space-6) var(--space-6);
}

.article-card__meta {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

.article-card__category {
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--color-primary);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.article-card__date {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
}

.article-card__title {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 700;
  color: var(--color-gray-900);
  line-height: var(--leading-tight);
  margin-bottom: var(--space-3);
}

.article-card__excerpt {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-4);
}

.article-card__link {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
}

/* Video Grid for listing pages */
.video-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-6);
}

.video-card {
  display: block;
  background: var(--color-white);
  border-radius: var(--radius-xl);
  overflow: hidden;
  border: 1px solid var(--color-gray-200);
  transition: all var(--duration-base) var(--ease-out);
  cursor: pointer;
  text-decoration: none;
  color: inherit;
  position: relative;
}

/* Alternating background colors for video cards */
.video-grid .video-card:nth-child(3n+1) {
  background: linear-gradient(135deg, rgba(63, 147, 193, 0.08) 0%, rgba(63, 147, 193, 0.03) 100%);
  border-color: rgba(63, 147, 193, 0.2);
}

.video-grid .video-card:nth-child(3n+2) {
  background: linear-gradient(135deg, rgba(112, 181, 68, 0.08) 0%, rgba(112, 181, 68, 0.03) 100%);
  border-color: rgba(112, 181, 68, 0.2);
}

.video-grid .video-card:nth-child(3n+3) {
  background: linear-gradient(135deg, rgba(196, 163, 90, 0.08) 0%, rgba(196, 163, 90, 0.03) 100%);
  border-color: rgba(196, 163, 90, 0.2);
}

.video-card:hover {
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
  transform: translateY(-4px);
}

.video-card__thumbnail {
  position: relative;
  aspect-ratio: 16/9;
  overflow: hidden;
}

.video-card__thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.video-card__thumbnail img.is-placeholder {
  object-fit: contain;
  padding: var(--space-8);
}

.video-card__play {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 56px;
  height: 56px;
  background: var(--color-primary);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-white);
  opacity: 0;
  transition: all var(--duration-base) var(--ease-out);
}

.video-card:hover .video-card__play {
  opacity: 1;
}

.video-card__play svg {
  width: 24px;
  height: 24px;
  margin-left: 2px;
}

.video-card__duration {
  position: absolute;
  bottom: var(--space-3);
  right: var(--space-3);
  background: rgba(0, 0, 0, 0.8);
  color: var(--color-white);
  font-size: var(--text-xs);
  font-weight: 600;
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
}

.video-card__content {
  padding: var(--space-5) var(--space-5) var(--space-6);
}

.video-card__category {
  display: inline-block;
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--color-primary);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  margin-bottom: var(--space-2);
}

.video-card__title {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 700;
  color: var(--color-gray-900);
  line-height: var(--leading-tight);
  margin-bottom: var(--space-2);
}

.video-card__meta {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
}

/* Video Modal */
.video-modal {
  position: fixed;
  inset: 0;
  z-index: 99999;
  background: rgba(0, 0, 0, 0.95);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity var(--duration-base), visibility var(--duration-base);
}

.video-modal--open {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

.video-modal__close {
  position: absolute;
  top: var(--space-6);
  right: var(--space-6);
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  color: var(--color-white);
  cursor: pointer;
  transition: all var(--duration-fast);
  z-index: 10;
}

.video-modal__close:hover {
  background: rgba(255, 255, 255, 0.2);
}

.video-modal__content {
  position: relative;
  max-width: 90vw;
  max-height: 90vh;
  width: 100%;
  padding: var(--space-6);
}

.video-modal__player {
  position: relative;
  width: 100%;
  aspect-ratio: 16/9;
  background: var(--color-black);
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.video-modal__player iframe,
.video-modal__player video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: none;
}

.video-modal__title {
  color: var(--color-white);
  font-size: var(--text-lg);
  font-weight: 600;
  margin-top: var(--space-4);
  text-align: center;
}

@media (max-width: 768px) {
  .video-modal__content {
    padding: var(--space-4);
  }
  
  .video-modal__close {
    top: var(--space-4);
    right: var(--space-4);
    width: 40px;
    height: 40px;
  }
  
  .video-grid {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }
}

/* Podcast Modal */
.podcast-modal {
  position: fixed;
  inset: 0;
  z-index: 99999;
  background: rgba(0, 0, 0, 0.95);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity var(--duration-base), visibility var(--duration-base);
}

.podcast-modal--open {
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto;
}

.podcast-modal__close {
  position: absolute;
  top: var(--space-6);
  right: var(--space-6);
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  color: var(--color-white);
  cursor: pointer;
  transition: all var(--duration-fast);
  z-index: 10;
}

.podcast-modal__close:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 255, 255, 0.3);
}

.podcast-modal__content {
  position: relative;
  width: 90vw;
  max-width: 1000px;
  background: var(--color-black);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.podcast-modal__player {
  position: relative;
  width: 100%;
  min-height: 232px;
  background: var(--color-gray-900);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.podcast-modal__player iframe,
.podcast-modal__player audio {
  width: 100%;
  height: 100%;
  border: 0;
}

.podcast-modal__title {
  color: var(--color-white);
  font-size: var(--text-lg);
  font-weight: 600;
  margin: 0;
  text-align: center;
}

@media (max-width: 768px) {
  .podcast-modal__close {
    top: var(--space-4);
    right: var(--space-4);
    width: 36px;
    height: 36px;
  }
  .podcast-modal__content {
    padding: var(--space-3);
    gap: var(--space-3);
  }
  .podcast-modal__title {
    font-size: var(--text-base);
  }
}

/* Gallery Grid */
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-5);
}

.gallery-card {
  position: relative;
  border-radius: var(--radius-xl);
  overflow: hidden;
  aspect-ratio: 4/3;
}

.gallery-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--duration-slow) var(--ease-out);
}

.gallery-card:hover img {
  transform: scale(1.05);
}

.gallery-card__overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.85) 0%,
    rgba(0, 0, 0, 0.4) 40%,
    transparent 70%
  );
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: var(--space-5) var(--space-6) var(--space-6);
  color: var(--color-white);
}

.gallery-card__count {
  font-size: var(--text-xs);
  font-weight: 500;
  color: rgba(255, 255, 255, 0.95);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  align-self: flex-start;
  margin-top: 0;
  margin-bottom: 0;
  padding: var(--space-1) var(--space-2);
  background: rgba(0, 0, 0, 0.4);
  border-radius: var(--radius-sm);
  backdrop-filter: blur(4px);
  line-height: 1.4;
}

.gallery-card__overlay > *:last-child {
  margin-bottom: 0;
}

.gallery-card__title {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--color-white);
}

.gallery-card__date {
  font-size: var(--text-xs);
  color: rgba(255, 255, 255, 0.7);
  margin-top: var(--space-1);
  margin-bottom: 0;
}

@media (max-width: 768px) {
  .section--filters {
    padding-bottom: var(--space-2);
  }
  
  .section--filters + .section {
    padding-top: var(--space-6);
  }
  
  .gallery-card__overlay {
    padding: var(--space-4) var(--space-4) var(--space-4);
  }
  
  .gallery-card__count {
    font-size: var(--text-xs);
    padding: var(--space-1) var(--space-2);
    margin-top: 0;
    background: rgba(0, 0, 0, 0.5);
    line-height: 1.4;
  }
  
  .gallery-grid {
    grid-template-columns: 1fr !important;
    gap: var(--space-4);
  }
}

/* Podcast Subscribe Banner */
.podcast-subscribe-banner {
  position: relative;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: var(--space-8);
  background: linear-gradient(
    135deg,
    var(--color-primary) 0%,
    #1a4a5e 50%,
    var(--color-gray-900) 100%
  );
  padding: var(--space-10) var(--space-10);
  border-radius: var(--radius-2xl);
  color: var(--color-white);
  overflow: hidden;
}

.podcast-subscribe-banner__bg {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.podcast-subscribe-banner__bg svg {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.podcast-subscribe-banner__icon {
  width: 80px;
  height: 80px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-xl);
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.podcast-subscribe-banner__icon svg {
  width: 40px;
  height: 40px;
  color: var(--color-white);
}

.podcast-subscribe-banner__content {
  position: relative;
  z-index: 1;
}

.podcast-subscribe-banner__label {
  display: inline-block;
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: var(--space-2);
}

.podcast-subscribe-banner h3 {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 700;
  margin-bottom: var(--space-2);
  color: var(--color-white);
}

.podcast-subscribe-banner p {
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.75);
  max-width: 400px;
  line-height: 1.6;
}

.podcast-subscribe-banner__platforms {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.podcast-platform-link {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-5);
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: var(--radius-lg);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-white);
  backdrop-filter: blur(10px);
  transition: all var(--duration-base);
}

.podcast-platform-link svg {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

.podcast-platform-link:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: translateX(4px);
  border-color: rgba(255, 255, 255, 0.3);
}

.podcast-subscribe-banner__waveform {
  position: absolute;
  bottom: var(--space-4);
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: flex-end;
  gap: 3px;
  height: 30px;
  opacity: 0.15;
}

.podcast-subscribe-banner__waveform span {
  width: 4px;
  background: var(--color-white);
  border-radius: 2px;
  animation: waveform 1.2s ease-in-out infinite;
}

.podcast-subscribe-banner__waveform span:nth-child(1) {
  height: 40%;
  animation-delay: 0s;
}
.podcast-subscribe-banner__waveform span:nth-child(2) {
  height: 70%;
  animation-delay: 0.1s;
}
.podcast-subscribe-banner__waveform span:nth-child(3) {
  height: 50%;
  animation-delay: 0.2s;
}
.podcast-subscribe-banner__waveform span:nth-child(4) {
  height: 90%;
  animation-delay: 0.3s;
}
.podcast-subscribe-banner__waveform span:nth-child(5) {
  height: 60%;
  animation-delay: 0.4s;
}
.podcast-subscribe-banner__waveform span:nth-child(6) {
  height: 80%;
  animation-delay: 0.5s;
}
.podcast-subscribe-banner__waveform span:nth-child(7) {
  height: 45%;
  animation-delay: 0.6s;
}
.podcast-subscribe-banner__waveform span:nth-child(8) {
  height: 100%;
  animation-delay: 0.7s;
}
.podcast-subscribe-banner__waveform span:nth-child(9) {
  height: 55%;
  animation-delay: 0.8s;
}
.podcast-subscribe-banner__waveform span:nth-child(10) {
  height: 75%;
  animation-delay: 0.9s;
}
.podcast-subscribe-banner__waveform span:nth-child(11) {
  height: 35%;
  animation-delay: 1s;
}
.podcast-subscribe-banner__waveform span:nth-child(12) {
  height: 65%;
  animation-delay: 1.1s;
}

@keyframes waveform {
  0%,
  100% {
    transform: scaleY(1);
  }
  50% {
    transform: scaleY(0.5);
  }
}

/* ============================================
   CONTACT PAGE
   ============================================ */

/* Contact Hero */
.contact-hero {
  padding: calc(var(--header-height) + var(--space-16)) 0 var(--space-16);
  background: var(--color-gray-50);
  min-height: 100vh;
}

.contact-hero__grid {
  display: grid;
  grid-template-columns: 1fr 1.1fr;
  gap: var(--space-16);
  align-items: start;
}

.contact-hero__content {
  padding-top: var(--space-8);
}

.contact-hero__label {
  display: inline-block;
  font-size: var(--text-sm);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-primary);
  margin-bottom: var(--space-4);
}

.contact-hero__title {
  font-family: var(--font-display);
  font-size: clamp(2.5rem, 5vw, 3.5rem);
  font-weight: 700;
  line-height: 1.1;
  color: var(--color-gray-900);
  margin-bottom: var(--space-6);
}

.contact-hero__title em {
  font-style: italic;
  color: var(--color-primary);
}

.contact-hero__description {
  font-size: var(--text-lg);
  color: var(--color-gray-600);
  line-height: 1.7;
  margin-bottom: var(--space-10);
  max-width: 500px;
}

/* Contact Info Items */
.contact-hero__info {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-6);
  margin-bottom: var(--space-10);
}

.contact-info-item {
  display: flex;
  gap: var(--space-4);
}

.contact-info-item__icon {
  width: 48px;
  height: 48px;
  background: var(--color-white);
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.contact-info-item__icon svg {
  width: 22px;
  height: 22px;
  color: var(--color-primary);
}

.contact-info-item__content {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.contact-info-item__content strong {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-gray-900);
}

.contact-info-item__content span,
.contact-info-item__content a {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: 1.5;
}

.contact-info-item__content a:hover {
  color: var(--color-primary);
}

/* Contact Social */
.contact-hero__social {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.contact-hero__social > span {
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-500);
}

.contact-hero__social-links {
  display: flex;
  gap: var(--space-2);
}

.contact-hero__social-links a {
  width: 40px;
  height: 40px;
  background: var(--color-white);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-gray-600);
  transition: all var(--duration-base);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.contact-hero__social-links a:hover {
  background: var(--color-primary);
  color: var(--color-white);
  transform: translateY(-2px);
}

.contact-hero__social-links svg {
  width: 18px;
  height: 18px;
}

/* Contact Form */
.contact-hero__form-wrapper {
  background: var(--color-white);
  border-radius: var(--radius-2xl);
  padding: var(--space-10);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.1);
  border: 1px solid var(--color-gray-100);
}

.contact-form__title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 700;
  color: var(--color-gray-900);
  margin-bottom: var(--space-2);
}

.contact-form__subtitle {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  margin-bottom: var(--space-8);
}

.contact-form__row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-4);
}

.contact-form__field {
  margin-bottom: var(--space-5);
}

.contact-form__field label {
  display: block;
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
  margin-bottom: var(--space-2);
}

.contact-form__field input,
.contact-form__field select,
.contact-form__field textarea {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-base);
  font-family: var(--font-body);
  color: var(--color-gray-900);
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  transition: all var(--duration-fast);
}

.contact-form__field input::placeholder,
.contact-form__field textarea::placeholder {
  color: var(--color-gray-400);
}

.contact-form__field input:focus,
.contact-form__field select:focus,
.contact-form__field textarea:focus {
  outline: none;
  border-color: var(--color-primary);
  background: var(--color-white);
  box-shadow: 0 0 0 3px rgba(56, 152, 178, 0.1);
}

.contact-form__field select {
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%236B7280' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right var(--space-4) center;
  padding-right: var(--space-10);
  cursor: pointer;
}

.contact-form__field textarea {
  resize: vertical;
  min-height: 120px;
}

.btn--full {
  width: 100%;
  justify-content: center;
}

.btn--full svg {
  margin-left: var(--space-2);
}

/* Contact Map */
.contact-map {
  position: relative;
  height: 450px;
  background: var(--color-gray-200);
}

.contact-map__wrapper {
  position: absolute;
  inset: 0;
}

.contact-map__wrapper iframe {
  width: 100%;
  height: 100%;
  filter: grayscale(30%);
}

.contact-map__overlay {
  position: absolute;
  top: var(--space-8);
  left: var(--space-8);
  z-index: 10;
}

.contact-map__card {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  background: var(--color-white);
  padding: var(--space-5) var(--space-6);
  border-radius: var(--radius-xl);
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
}

.contact-map__card-icon {
  width: 50px;
  height: 50px;
  background: var(--color-primary);
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.contact-map__card-icon svg {
  width: 24px;
  height: 24px;
  color: var(--color-white);
}

.contact-map__card-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.contact-map__card-content strong {
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--color-gray-900);
}

.contact-map__card-content > span {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.contact-map__card-content .btn {
  margin-top: var(--space-2);
}

/* FAQ Grid */
.faq-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-8);
  max-width: 1000px;
  margin: 0 auto;
}

.faq-item {
  background: var(--color-white);
  padding: var(--space-8);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
}

.faq-item__question {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 700;
  color: var(--color-gray-900);
  margin-bottom: var(--space-3);
}

.faq-item__answer {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: 1.7;
}

/* Contact Page Responsive */
@media (max-width: 1024px) {
  .contact-hero__grid {
    grid-template-columns: 1fr;
    gap: var(--space-10);
  }

  .contact-hero__content {
    padding-top: 0;
  }

  .contact-hero__description {
    max-width: 100%;
  }
}

@media (max-width: 768px) {
  .contact-hero {
    padding-top: calc(var(--header-height) + var(--space-10));
    padding-bottom: var(--space-10);
    min-height: auto;
  }

  .contact-hero__info {
    grid-template-columns: 1fr;
    gap: var(--space-5);
  }

  .contact-hero__form-wrapper {
    padding: var(--space-6);
  }

  .contact-form__row {
    grid-template-columns: 1fr;
  }

  .contact-map {
    height: 350px;
  }

  .contact-map__overlay {
    top: var(--space-4);
    left: var(--space-4);
    right: var(--space-4);
  }

  .contact-map__card {
    flex-direction: column;
    text-align: center;
    padding: var(--space-4);
  }

  .faq-grid {
    grid-template-columns: 1fr;
    gap: var(--space-5);
  }

  .faq-item {
    padding: var(--space-6);
  }
}

/* ============================================
   CART PAGE
   ============================================ */

.cart-hero {
  padding-top: var(--space-8);
  padding-bottom: var(--space-8);
  background: var(--color-gray-50);
  margin-top: var(--header-height);
}

.cart-hero__title {
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  font-weight: 700;
  margin-bottom: var(--space-2);
}

.cart-hero__subtitle {
  color: var(--color-gray-600);
}

.cart-layout {
  display: grid;
  grid-template-columns: 1fr 380px;
  gap: var(--space-10);
  align-items: start;
}

.cart-items {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.cart-item {
  display: grid;
  grid-template-columns: 100px 1fr 120px auto 60px;
  gap: var(--space-5);
  align-items: center;
  background: var(--color-white);
  padding: var(--space-5);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
}

.cart-item__remove-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  grid-column: 5;
}

.cart-item__image {
  width: 100px;
  height: 80px;
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.cart-item__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.cart-item__details {
  display: flex;
  flex-direction: column;
  gap: 0;
  min-width: 0; /* Allow text truncation */
}

.cart-item__category {
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-primary);
  margin-bottom: var(--space-1);
}

.cart-item__title {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 600;
  margin-bottom: var(--space-2);
  line-height: 1.4;
}

.cart-item__title a {
  color: var(--color-gray-900);
  text-decoration: none;
  transition: color var(--duration-fast);
}

.cart-item__title a:hover {
  color: var(--color-primary);
}

.cart-item__meta {
  display: flex;
  gap: var(--space-3);
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.cart-item__meta span {
  white-space: nowrap;
}

.cart-item__quantity {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2);
  text-align: center;
}

.cart-item__quantity-label {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.cart-item__quantity-controls {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.cart-item__quantity-controls .quantity {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.cart-item__quantity-controls input[type="number"] {
  width: 60px;
  padding: var(--space-2);
  text-align: center;
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-md);
  font-size: var(--text-base);
  font-weight: 600;
}

.cart-item__quantity-controls input[type="number"]:focus {
  outline: none;
  border-color: var(--color-primary);
}

.cart-item__quantity-controls button {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-gray-100);
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-md);
  color: var(--color-gray-700);
  cursor: pointer;
  transition: all var(--duration-fast);
  font-size: var(--text-lg);
  font-weight: 600;
}

.cart-item__quantity-controls button:hover {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
}

.cart-item__price {
  text-align: right;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: var(--space-1);
  min-width: 120px;
}

.cart-item__price-amount {
  display: block;
  font-weight: 700;
  font-size: var(--text-lg);
  color: var(--color-gray-900);
  line-height: 1.2;
}

.cart-item__price-usd {
  display: block;
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  font-weight: 400;
  line-height: 1.2;
}

.cart-item__remove {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-gray-100);
  border: none;
  border-radius: var(--radius-lg);
  color: var(--color-gray-500);
  cursor: pointer;
  transition: all var(--duration-fast);
  text-decoration: none;
}

.cart-item__remove:hover {
  background: var(--color-error);
  color: var(--color-white);
  text-decoration: none;
}

.cart-empty {
  text-align: center;
  padding: var(--space-16) var(--space-8);
  background: var(--color-white);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
}

.cart-empty__icon {
  color: var(--color-gray-300);
  margin-bottom: var(--space-6);
}

.cart-empty__title {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  margin-bottom: var(--space-2);
}

.cart-empty__text,
.cart-empty__message {
  color: var(--color-gray-600);
  margin-bottom: var(--space-6);
  font-size: var(--text-base);
}

.cart-continue {
  margin-top: var(--space-4);
}

.cart-actions {
  margin-top: var(--space-4);
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-gray-200);
}

.cart-actions .button {
  display: none; /* Hide default update button, quantity controls handle updates via AJAX */
}

.cart-actions .btn--outline {
  margin-top: var(--space-4);
}

/* WooCommerce Notices Styling - Cart Page */
.cart-notices {
  margin-bottom: var(--space-6);
  grid-column: 1 / -1; /* Span full width if inside grid */
  width: 100%;
}

.cart-notices .woocommerce-message,
.cart-notices .woocommerce-error,
.cart-notices .woocommerce-info {
  background: var(--color-white);
  color: var(--color-gray-900);
  padding: var(--space-6) var(--space-8) var(--space-6) calc(var(--space-8) + 32px + var(--space-4));
  border-radius: var(--radius-xl);
  margin-bottom: var(--space-6);
  margin-top: 0;
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-size: var(--text-base);
  line-height: 1.5;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  border: 1px solid var(--color-gray-200);
  border-left: 4px solid var(--color-green);
  min-height: auto;
}

/* General WooCommerce Notices (for other pages) */
.woocommerce-message,
.woocommerce-error,
.woocommerce-info {
  background: var(--color-white);
  color: var(--color-gray-900);
  padding: var(--space-4) var(--space-5) var(--space-4) calc(var(--space-5) + 32px + var(--space-3));
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-6);
  margin-top: var(--space-4);
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-size: var(--text-base);
  line-height: 1.5;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border-left: 4px solid var(--color-green);
  min-height: 56px;
}

.cart-notices .woocommerce-message::before {
  content: '';
  width: 32px;
  height: 32px;
  background: var(--color-green);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  position: absolute;
  left: var(--space-8);
  top: 50%;
  transform: translateY(-50%);
}

.cart-notices .woocommerce-message::after {
  content: '';
  position: absolute;
  left: calc(var(--space-8) + 16px);
  top: 50%;
  transform: translate(-50%, -50%);
  color: var(--color-white);
  font-weight: 700;
  font-size: var(--text-lg);
  line-height: 1;
}

.woocommerce-message::before {
  content: '';
  width: 32px;
  height: 32px;
  background: var(--color-green);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  position: absolute;
  left: var(--space-5);
  top: 50%;
  transform: translateY(-50%);
}

.woocommerce-message::after {
  content: '';
  position: absolute;
  left: calc(var(--space-5) + 16px);
  top: 50%;
  transform: translate(-50%, -50%);
  color: var(--color-white);
  font-weight: 700;
  font-size: var(--text-lg);
  line-height: 1;
}

.woocommerce-error {
  border-left-color: var(--color-error);
}

.cart-notices .woocommerce-error::before {
  content: '';
  width: 32px;
  height: 32px;
  background: var(--color-error);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  position: absolute;
  left: var(--space-8);
  top: 50%;
  transform: translateY(-50%);
}

.cart-notices .woocommerce-error::after {
  content: '';
  position: absolute;
  left: calc(var(--space-8) + 16px);
  top: 50%;
  transform: translate(-50%, -50%);
  color: var(--color-white);
  font-weight: 700;
  font-size: var(--text-lg);
  line-height: 1;
}

.woocommerce-error::before {
  content: '';
  width: 32px;
  height: 32px;
  background: var(--color-error);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  position: absolute;
  left: var(--space-5);
  top: 50%;
  transform: translateY(-50%);
}

.woocommerce-error::after {
  content: '';
  position: absolute;
  left: calc(var(--space-5) + 16px);
  top: 50%;
  transform: translate(-50%, -50%);
  color: var(--color-white);
  font-weight: 700;
  font-size: var(--text-lg);
  line-height: 1;
}

.woocommerce-info {
  border-left-color: var(--color-primary);
}

.cart-notices .woocommerce-info::before {
  content: '';
  width: 32px;
  height: 32px;
  background: var(--color-primary);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  position: absolute;
  left: var(--space-8);
  top: 50%;
  transform: translateY(-50%);
}

.cart-notices .woocommerce-info::after {
  content: '';
  position: absolute;
  left: calc(var(--space-8) + 16px);
  top: 50%;
  transform: translate(-50%, -50%);
  color: var(--color-white);
  font-weight: 700;
  font-size: var(--text-lg);
  line-height: 1;
}

.woocommerce-info::before {
  content: '';
  width: 32px;
  height: 32px;
  background: var(--color-primary);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  position: absolute;
  left: var(--space-5);
  top: 50%;
  transform: translateY(-50%);
}

.woocommerce-info::after {
  content: '';
  position: absolute;
  left: calc(var(--space-5) + 16px);
  top: 50%;
  transform: translate(-50%, -50%);
  color: var(--color-white);
  font-weight: 700;
  font-size: var(--text-lg);
  line-height: 1;
}

.woocommerce-message a,
.woocommerce-error a,
.woocommerce-info a {
  color: var(--color-primary);
  text-decoration: none;
  font-weight: 600;
  margin-left: var(--space-2);
}

.woocommerce-message a:hover,
.woocommerce-error a:hover,
.woocommerce-info a:hover {
  text-decoration: underline;
}

/* Close button for notices */
.cart-notices .woocommerce-message .woocommerce-notice-dismiss,
.cart-notices .woocommerce-error .woocommerce-notice-dismiss,
.cart-notices .woocommerce-info .woocommerce-notice-dismiss {
  position: absolute;
  right: var(--space-8);
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: none;
  color: var(--color-gray-400);
  cursor: pointer;
  padding: var(--space-2);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: var(--radius-md);
  transition: all var(--duration-fast);
}

.cart-notices .woocommerce-message .woocommerce-notice-dismiss:hover,
.cart-notices .woocommerce-error .woocommerce-notice-dismiss:hover,
.cart-notices .woocommerce-info .woocommerce-notice-dismiss:hover {
  background: var(--color-gray-100);
  color: var(--color-gray-900);
}

.woocommerce-message .woocommerce-notice-dismiss,
.woocommerce-error .woocommerce-notice-dismiss,
.woocommerce-info .woocommerce-notice-dismiss {
  position: absolute;
  right: var(--space-4);
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: none;
  color: var(--color-gray-400);
  cursor: pointer;
  padding: var(--space-2);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: var(--radius-md);
  transition: all var(--duration-fast);
}

.woocommerce-message .woocommerce-notice-dismiss:hover,
.woocommerce-error .woocommerce-notice-dismiss:hover,
.woocommerce-info .woocommerce-notice-dismiss:hover {
  background: var(--color-gray-100);
  color: var(--color-gray-900);
}

.cart-summary__card {
  background: var(--color-white);
  padding: var(--space-8);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
  position: sticky;
  top: calc(var(--header-height) + var(--space-4));
}

.cart-summary__title {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 600;
  margin-bottom: var(--space-6);
}

.cart-summary__rows {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  padding-bottom: var(--space-5);
  border-bottom: 1px solid var(--color-gray-200);
  margin-bottom: var(--space-5);
}

.cart-summary__row {
  display: flex;
  justify-content: space-between;
  font-size: var(--text-sm);
}

.cart-summary__row--muted {
  color: var(--color-gray-500);
}

.cart-summary__total {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--space-6);
}

.cart-summary__total > span:first-child {
  font-weight: 600;
  font-size: var(--text-lg);
}

.cart-summary__total-amount {
  text-align: right;
}

.cart-summary__total-kes {
  display: block;
  font-size: var(--text-2xl);
  font-weight: 700;
}

.cart-summary__total-usd {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.cart-summary__security {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  margin-top: var(--space-4);
  justify-content: center;
}

.cart-trust {
  margin-top: var(--space-6);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.cart-trust__item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

.cart-trust__item svg {
  color: var(--color-primary);
}

/* ============================================
   CHECKOUT PAGE
   ============================================ */

.checkout-header {
  padding: calc(var(--header-height) + var(--space-6)) 0 var(--space-6);
  background: var(--color-gray-50);
}

.checkout-steps {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0;
  margin-top: var(--space-4);
}

.checkout-step {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2);
}

.checkout-step__number {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-gray-200);
  color: var(--color-gray-500);
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  font-weight: 600;
}

.checkout-step--active .checkout-step__number {
  background: var(--color-primary);
  color: var(--color-white);
}

.checkout-step--active .checkout-step__number span {
  color: var(--color-white);
}

.checkout-step--completed .checkout-step__number {
  background: var(--color-success);
  color: var(--color-white);
}

.checkout-step__label {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.checkout-step--active .checkout-step__label {
  color: var(--color-gray-900);
  font-weight: 500;
}

.checkout-step__line {
  width: 60px;
  height: 2px;
  background: var(--color-gray-200);
  margin: 0 var(--space-2);
  margin-bottom: var(--space-6);
}

.checkout-step__line--completed {
  background: var(--color-success);
}

.checkout-section-main {
  padding-top: var(--space-6);
}

.checkout-container {
  max-width: 1600px;
  width: 100%;
  padding-left: var(--space-6);
  padding-right: var(--space-6);
}

.checkout-layout {
  display: grid;
  grid-template-columns: 1fr 420px;
  gap: var(--space-10);
  align-items: start;
}

.checkout-form-wrapper {
  background: var(--color-white);
  padding: var(--space-8);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
}

/* Hide duplicate breadcrumbs inside checkout form */
.checkout-form-wrapper .breadcrumbs,
.checkout-form-wrapper .woocommerce-breadcrumb,
.checkout-summary .breadcrumbs,
.checkout-summary .woocommerce-breadcrumb {
  display: none;
}

.checkout-return {
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-6);
  border-bottom: 1px solid var(--color-gray-100);
}

.checkout-return__link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  text-decoration: none;
  transition: color var(--duration-fast);
}

.checkout-return__link:hover {
  color: var(--color-primary);
}

.checkout-return__link svg {
  flex-shrink: 0;
}

/* Coupon Form Styling */
.checkout-coupon {
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-6);
  border-bottom: 1px solid var(--color-gray-100);
}

.checkout-coupon-toggle {
  margin-bottom: var(--space-4);
}

.checkout-coupon-toggle__link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  text-decoration: none;
  transition: color var(--duration-fast);
}

.checkout-coupon-toggle__link:hover {
  color: var(--color-primary);
}

.checkout-coupon-toggle__text {
  color: var(--color-primary);
  text-decoration: underline;
}

.checkout-coupon-form {
  margin-top: var(--space-4);
}

.checkout-coupon-form__fields {
  display: flex;
  gap: var(--space-3);
  align-items: stretch;
}

.checkout-coupon-form__input {
  flex: 1;
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-base);
  font-family: var(--font-body);
  color: var(--color-gray-900);
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  transition: all var(--duration-fast);
}

.checkout-coupon-form__input:focus {
  outline: none;
  border-color: var(--color-primary);
  background: var(--color-white);
  box-shadow: 0 0 0 3px rgba(56, 152, 178, 0.1);
}

.checkout-coupon-form__button {
  padding: var(--space-3) var(--space-6);
  white-space: nowrap;
}

.checkout-section {
  margin-bottom: var(--space-8);
  padding-bottom: var(--space-8);
  border-bottom: 1px solid var(--color-gray-100);
}

.checkout-section:last-child {
  margin-bottom: 0;
  padding-bottom: 0;
  border-bottom: none;
}

.checkout-section__title {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  margin-bottom: var(--space-2);
}

.checkout-section__icon {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-primary);
  color: var(--color-white);
  border-radius: var(--radius-lg);
}

.checkout-section__icon svg {
  color: var(--color-white);
  stroke: var(--color-white);
}

.checkout-section__subtitle {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  margin-bottom: var(--space-6);
  margin-left: calc(36px + var(--space-3));
}

.checkout-form__row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-4);
}

.checkout-form__field {
  margin-bottom: var(--space-5);
}

.checkout-form__field label {
  display: block;
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
  margin-bottom: var(--space-2);
}

.checkout-form__field label .required {
  color: var(--color-error);
}

.checkout-form__field input:not([type="checkbox"]):not([type="radio"]),
.checkout-form__field select {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-base);
  font-family: var(--font-body);
  color: var(--color-gray-900);
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  transition: all var(--duration-fast);
}

.checkout-form__field input:not([type="checkbox"]):not([type="radio"]):focus,
.checkout-form__field select:focus {
  outline: none;
  border-color: var(--color-primary);
  background: var(--color-white);
  box-shadow: 0 0 0 3px rgba(56, 152, 178, 0.1);
}

.checkout-form__hint {
  display: block;
  font-size: var(--text-xs);
  color: var(--color-gray-500);
  margin-top: var(--space-1);
}

.phone-input {
  display: flex;
  align-items: center;
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.phone-input:focus-within {
  border-color: var(--color-primary);
  background: var(--color-white);
  box-shadow: 0 0 0 3px rgba(56, 152, 178, 0.1);
}

.phone-input__prefix {
  padding: var(--space-3) var(--space-4);
  background: var(--color-gray-100);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  border-right: 1px solid var(--color-gray-200);
}

.phone-input input {
  border: none;
  background: transparent;
  flex: 1;
}

.phone-input input:focus {
  box-shadow: none;
  outline: none;
}

.phone-input input {
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-base);
  font-family: var(--font-body);
}

.checkout-form__field--half {
  grid-column: span 1;
}

.checkout-form__field--wide {
  grid-column: 1 / -1;
}

.checkout-form__field--checkbox {
  margin-bottom: var(--space-4);
}

.checkbox-label {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  cursor: pointer;
  font-size: var(--text-sm);
}

.checkbox-label input[type="checkbox"] {
  width: 20px;
  height: 20px;
  cursor: pointer;
}

.checkout-submit {
  margin-top: var(--space-6);
}

.checkout-submit__text {
  display: inline-block;
}

/* WooCommerce Form Field Overrides */
.woocommerce-billing-fields__field-wrapper {
  display: flex;
  flex-direction: column;
  gap: 0;
}

.woocommerce-billing-fields .form-row,
.woocommerce-billing-fields .checkout-form__field {
  margin: 0 0 var(--space-5) 0;
  padding: 0;
  float: none;
  width: 100%;
}

.woocommerce-billing-fields .form-row label {
  display: block;
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
  margin-bottom: var(--space-2);
}

.woocommerce-billing-fields .form-row label .required {
  color: var(--color-error);
  margin-left: 2px;
}

.woocommerce-billing-fields .form-row input.input-text,
.woocommerce-billing-fields .form-row select,
.woocommerce-billing-fields .form-row textarea {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-base);
  font-family: var(--font-primary);
  color: var(--color-gray-900);
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  transition: all var(--duration-fast);
}

.woocommerce-billing-fields .form-row input.input-text:focus,
.woocommerce-billing-fields .form-row select:focus,
.woocommerce-billing-fields .form-row textarea:focus {
  outline: none;
  border-color: var(--color-primary);
  background: var(--color-white);
  box-shadow: 0 0 0 3px rgba(63, 147, 193, 0.1);
}

.woocommerce-billing-fields .form-row-first,
.woocommerce-billing-fields .form-row-last {
  width: 100%;
  float: none;
}

.woocommerce-billing-fields .form-row-wide {
  width: 100%;
}

/* Hide WooCommerce default field wrappers */
.woocommerce-billing-fields .form-row::after {
  display: none;
}

.woocommerce-billing-fields .form-row::before {
  display: none;
}

/* Payment Methods */
.payment-methods {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.payment-method-card {
  background: var(--color-white);
  border: 2px solid var(--color-gray-200);
  border-radius: var(--radius-xl);
  transition: all var(--duration-fast);
  overflow: hidden;
}

.payment-method-card--selected {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(56, 152, 178, 0.1);
}

.payment-method {
  cursor: pointer;
  display: block;
}

.payment-method input[type="radio"] {
  display: none;
}

.payment-method__content {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: var(--space-4);
  align-items: center;
  padding: var(--space-5);
  background: var(--color-gray-50);
  transition: all var(--duration-fast);
}

.payment-method-card--selected .payment-method__content {
  background: var(--color-white);
}

.payment-method__icon {
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  gap: var(--space-1);
  background: var(--color-white);
  border-radius: var(--radius-lg);
}

.payment-method__icon svg {
  width: 24px;
  height: 24px;
}

.payment-method__icon span {
  font-size: 8px;
  font-weight: 600;
  text-transform: uppercase;
}

.payment-method__icon--mpesa {
  color: #4caf50;
}

.payment-method__icon--paypal {
  color: #003087;
}

.payment-method__details strong {
  display: block;
  margin-bottom: var(--space-1);
}

.payment-method__details span {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.payment-method__check {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid var(--color-gray-300);
  border-radius: var(--radius-full);
  color: transparent;
  transition: all var(--duration-fast);
}

.payment-method-card--selected .payment-method__check {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
}

.payment-method__info {
  display: none;
  padding: var(--space-4) var(--space-5);
  background: var(--color-gray-50);
  border-top: 1px solid var(--color-gray-200);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
}

.payment-method-card--selected .payment-method__info {
  display: block;
}

.payment-method__icon {
  background: var(--color-gray-100);
  border-radius: var(--radius-full);
  padding: var(--space-2);
}

.payment-method__icon--pesapal,
.payment-method__icon--mpesa {
  background: rgba(76, 175, 80, 0.1);
  color: #4caf50;
}

.payment-method__icon--paypal {
  background: rgba(0, 48, 135, 0.1);
  color: #003087;
}

#payment ul.payment_methods {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

#payment ul.payment_methods li {
  margin: 0;
  padding: 0;
  list-style: none;
}

#payment .woocommerce-checkout-payment {
  margin-top: var(--space-6);
}

/* Hide default WooCommerce order review table (we show it in sidebar) */
.woocommerce-checkout-review-order-table {
  display: none;
}

/* Ensure payment methods are visible */
#payment {
  margin-top: var(--space-6);
}

#payment .payment-method input[type="radio"]:checked ~ .payment-method__info {
  display: block;
}

#payment .payment-method input[type="radio"]:checked + .payment-method__content .payment-method__check {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
}

#payment .payment-method input[type="radio"]:checked + .payment-method__content {
  background: var(--color-white);
  border-color: var(--color-primary);
}

.payment-method__info p {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

/* Payment Box (for gateway fields like MPesa phone number) */
.payment_box {
  margin-top: var(--space-4);
  padding: var(--space-5);
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
}

.payment_box:empty {
  display: none !important;
}

/* Hide payment_box for non-selected gateways */
.payment_box[style*="display:none"] {
  display: none !important;
}

/* MPesa specific styling */
.payment_box.payment_method_mpesa {
  background: var(--color-white);
  border-color: var(--color-primary);
}

.payment-method__fields {
  margin: 0;
}

.payment-method__fields .checkout-form__field {
  margin-bottom: 0;
}

.payment-method__fields .checkout-form__label {
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
  margin-bottom: var(--space-2);
  display: block;
}

/* Ensure payment_box descriptions don't duplicate card descriptions */
.payment_box p:first-child {
  display: none; /* Hide first paragraph (usually description) as it's already in the card */
}

/* But show descriptions if they're different from card description */
.payment_box .payment-method__fields ~ p {
  display: block;
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  margin-top: var(--space-3);
}

/* Checkbox styling */
.checkout-form__field--checkbox {
  margin-bottom: var(--space-3);
}

.checkbox-label {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  cursor: pointer;
  font-size: var(--text-sm);
  color: var(--color-gray-700);
  line-height: 1.4;
}

/* Style native checkbox to look like a proper checkbox */
.checkbox-label input[type="checkbox"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  min-width: 16px;
  min-height: 16px;
  flex-shrink: 0;
  background: var(--color-white);
  border: 1.5px solid var(--color-gray-400);
  border-radius: 3px;
  cursor: pointer;
  position: relative;
  margin: 0;
  transition: all 0.15s ease;
}

.checkbox-label input[type="checkbox"]:hover {
  border-color: var(--color-primary);
}

.checkbox-label input[type="checkbox"]:checked {
  background: var(--color-primary);
  border-color: var(--color-primary);
}

.checkbox-label input[type="checkbox"]:checked::after {
  content: "";
  position: absolute;
  top: 1px;
  left: 5px;
  width: 4px;
  height: 8px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

.checkbox-label input[type="checkbox"]:focus {
  outline: 2px solid rgba(56, 152, 178, 0.3);
  outline-offset: 2px;
}

/* Hide the custom span since we're styling native checkbox */
.checkbox-custom {
  display: none;
}

.checkbox-label a {
  color: var(--color-primary);
  text-decoration: underline;
}

.checkout-submit {
  position: relative;
}

.spinner {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Checkout Summary */
.checkout-summary__card {
  background: var(--color-white);
  padding: var(--space-6);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
  position: sticky;
  top: calc(var(--header-height) + var(--space-4));
}

.checkout-summary__title {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  margin-bottom: var(--space-5);
}

.checkout-summary__items {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  margin-bottom: var(--space-4);
}

.checkout-summary__item {
  display: grid;
  grid-template-columns: 50px 1fr auto;
  gap: var(--space-3);
  align-items: center;
}

.checkout-summary__item img {
  width: 50px;
  height: 40px;
  object-fit: cover;
  border-radius: var(--radius-md);
}

.checkout-summary__item-title {
  font-size: var(--text-sm);
  font-weight: 500;
  display: block;
}

.checkout-summary__item-type {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
}

.checkout-summary__item-price {
  font-size: var(--text-sm);
  font-weight: 600;
}

.checkout-summary__edit {
  display: block;
  text-align: center;
  font-size: var(--text-sm);
  color: var(--color-primary);
  margin-bottom: var(--space-5);
  padding-bottom: var(--space-5);
  border-bottom: 1px solid var(--color-gray-100);
}

.checkout-summary__totals {
  margin-bottom: var(--space-5);
}

.checkout-summary__row {
  display: flex;
  justify-content: space-between;
  font-size: var(--text-sm);
  margin-bottom: var(--space-2);
}

.checkout-summary__row--total {
  font-weight: 600;
  font-size: var(--text-base);
  padding-top: var(--space-3);
  border-top: 1px solid var(--color-gray-200);
  margin-top: var(--space-3);
}

.checkout-summary__row--total > div {
  text-align: right;
}

.checkout-summary__total-kes {
  display: block;
  font-size: var(--text-lg);
}

.checkout-summary__total-usd {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
  font-weight: 400;
}

.checkout-summary__security {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  font-size: var(--text-xs);
  color: var(--color-gray-500);
  padding: var(--space-4);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
}

.checkout-features {
  margin-top: var(--space-6);
  padding: var(--space-5);
  background: var(--color-gray-50);
  border-radius: var(--radius-xl);
}

.checkout-features h4 {
  font-size: var(--text-sm);
  font-weight: 600;
  margin-bottom: var(--space-4);
}

.checkout-features ul {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.checkout-features li {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

.checkout-help {
  margin-top: var(--space-5);
  text-align: center;
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.checkout-help a {
  color: var(--color-primary);
}

/* ============================================
   ORDER COMPLETE PAGE
   ============================================ */

.order-complete {
  padding: calc(var(--header-height) + var(--space-20)) 0 var(--space-16);
  background: linear-gradient(
    180deg,
    var(--color-gray-50) 0%,
    var(--color-white) 100%
  );
}

.order-complete__wrapper {
  max-width: 700px;
  margin: 0 auto;
  text-align: center;
  padding-top: var(--space-12); /* ~50px equivalent */
  padding-bottom: var(--space-12); /* ~50px equivalent */
}

.order-complete__icon {
  margin-bottom: var(--space-8);
  margin-top: var(--space-8); /* Add top spacing to prevent overlap with menu */
}

.order-complete__checkmark {
  width: 80px;
  height: 80px;
  margin: 0 auto;
}

.order-complete__circle {
  stroke: var(--color-success);
  stroke-width: 2;
  stroke-dasharray: 166;
  stroke-dashoffset: 166;
  animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
}

.order-complete__check {
  stroke: var(--color-success);
  stroke-width: 3;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 48;
  stroke-dashoffset: 48;
  animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.4s forwards;
}

@keyframes stroke {
  100% {
    stroke-dashoffset: 0;
  }
}

.order-complete__title {
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  font-weight: 700;
  margin-bottom: var(--space-4);
}

.order-complete__message {
  font-size: var(--text-lg);
  color: var(--color-gray-600);
  margin-bottom: var(--space-10);
}

.order-details {
  background: var(--color-gray-50);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
  overflow: hidden;
  text-align: left;
  margin-bottom: var(--space-8);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.order-details__header {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-6);
  padding: var(--space-6);
  background: var(--color-gray-50);
  border-bottom: 1px solid var(--color-gray-200);
}

@media (max-width: 768px) {
  .order-details__header {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }
}

.order-details__info {
  text-align: left;
}

.order-details__label {
  display: block;
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-600);
  margin-bottom: var(--space-2);
}

.order-details__value {
  font-weight: 600;
  font-size: var(--text-base);
  color: var(--color-gray-900);
}

.order-details__value--highlight {
  color: var(--color-primary);
  font-size: var(--text-lg);
}

.order-details__items {
  padding: var(--space-6);
  background: var(--color-white);
}

.order-details__items h3 {
  font-size: var(--text-sm);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-600);
  margin-bottom: var(--space-4);
}

.order-item {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: var(--space-4);
  align-items: center;
  padding: var(--space-4);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-3);
}

.order-item:last-child {
  margin-bottom: 0;
}

.order-item__icon {
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-white);
  border-radius: var(--radius-lg);
  color: var(--color-primary);
  flex-shrink: 0;
}

.order-item__details {
  flex: 1;
}

.order-item__details strong {
  display: block;
  font-size: var(--text-base);
  font-weight: 600;
  margin-bottom: var(--space-1);
  color: var(--color-gray-900);
}

.order-item__details span {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

.order-complete__email-notice {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-5) var(--space-6);
  background: rgba(56, 152, 178, 0.1);
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-6);
}

.order-complete__email-icon {
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-white);
  border-radius: var(--radius-lg);
  color: var(--color-primary);
  flex-shrink: 0;
}

.order-complete__email-content {
  font-size: var(--text-sm);
  color: var(--color-gray-700);
  line-height: var(--leading-relaxed);
}

.order-complete__email-content strong {
  color: var(--color-gray-900);
}

.order-complete__actions {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: var(--space-4);
  margin-bottom: var(--space-6);
  flex-wrap: wrap;
}

.order-complete__resend-link {
  font-size: var(--text-sm);
  color: var(--color-primary);
  text-decoration: underline;
  transition: color var(--duration-fast);
}

.order-complete__resend-link:hover {
  color: var(--color-primary-dark);
}

.order-complete__receipt {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  margin-top: var(--space-4);
  text-align: center;
}

.order-complete__receipt a {
  color: var(--color-primary);
  text-decoration: underline;
  margin-left: var(--space-1);
}

.order-complete__related {
  margin-top: var(--space-16);
  padding-top: var(--space-12);
  border-top: 1px solid var(--color-gray-200);
}

.order-complete__related-title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 700;
  text-align: center;
  margin-bottom: var(--space-2);
  color: var(--color-gray-900);
}

/* Hide WooCommerce default order details and billing sections on thank you page */
.woocommerce-order-details,
.woocommerce-customer-details {
  display: none !important;
}

/* Style publication cards in related section - smaller, better balanced design */
.order-complete__related-grid .publication-card {
  display: flex;
  flex-direction: column;
  height: 100%;
  max-width: 260px;
  margin: 0 auto;
}

.order-complete__related-grid .publication-card__image {
  aspect-ratio: 16/10;
  height: 140px;
  flex-shrink: 0;
}

.order-complete__related-grid .publication-card__image--placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
  padding: var(--space-4);
}

.order-complete__related-grid .publication-card__image--placeholder img {
  width: 50px;
  height: 50px;
  object-fit: contain;
  filter: brightness(0) invert(1);
  opacity: 0.9;
}

.order-complete__related-grid .publication-card__content {
  display: flex;
  flex-direction: column;
  flex: 1;
  padding: var(--space-4);
  gap: var(--space-2);
  min-height: 160px;
}

.order-complete__related-grid .publication-card__type {
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-primary);
  margin: 0;
  order: 1;
}

.order-complete__related-grid .publication-card__title {
  font-size: var(--text-sm);
  font-weight: 600;
  line-height: 1.4;
  margin: 0;
  order: 2;
  flex: 1;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.order-complete__related-grid .publication-card__title a {
  color: var(--color-gray-900);
  text-decoration: none;
  transition: color var(--duration-fast);
}

.order-complete__related-grid .publication-card__title a:hover {
  color: var(--color-primary);
}

.order-complete__related-grid .publication-card__meta {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
  margin: 0 auto;
  order: 3;
  text-align: center;
  width: 100%;
  display: block;
}

.order-complete__related-grid .publication-card__price {
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--color-primary);
  margin: 0;
  order: 4;
  text-align: center;
}

.order-complete__related-grid .publication-card__content .btn {
  margin-top: var(--space-3);
  align-self: center;
  margin-left: auto;
  margin-right: auto;
  order: 5;
  font-size: var(--text-xs);
  padding: var(--space-2) var(--space-4);
}

.order-complete__related-subtitle {
  text-align: center;
  font-size: var(--text-base);
  color: var(--color-gray-600);
  margin-bottom: var(--space-8);
}

.order-complete__related-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: var(--space-6);
  margin-top: var(--space-8);
}

/* Smaller, better-designed cards for related publications */
.order-complete__related-grid .publication-card {
  max-width: 280px;
  margin: 0 auto;
}

.order-complete__related-grid .publication-card__image {
  aspect-ratio: 16/10;
  height: 160px;
}

.order-complete__related-grid .publication-card__content {
  padding: var(--space-4);
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  min-height: 180px;
}

.order-complete__related-grid .publication-card__type {
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-primary);
  margin-bottom: var(--space-1);
  order: 1;
}

.order-complete__related-grid .publication-card__title {
  font-size: var(--text-base);
  font-weight: 600;
  line-height: 1.4;
  margin: 0;
  order: 2;
  flex: 1;
}

.order-complete__related-grid .publication-card__title a {
  color: var(--color-gray-900);
  text-decoration: none;
  transition: color var(--duration-fast);
}

.order-complete__related-grid .publication-card__title a:hover {
  color: var(--color-primary);
}

.order-complete__related-grid .publication-card__meta {
  font-size: var(--text-xs);
  color: var(--color-gray-600);
  margin: 0 auto;
  order: 3;
  text-align: center;
  width: 100%;
  display: block;
}

.order-complete__related-grid .publication-card__price {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
  margin: 0;
  order: 4;
}

.order-complete__related-grid .publication-card__content .btn {
  margin-top: var(--space-2);
  align-self: flex-start;
  order: 5;
}

/* ============================================
   ORDER RECEIPT PAGE
   ============================================ */
.order-receipt {
  padding: calc(var(--header-height) + var(--space-16)) 0 var(--space-16);
  background: var(--color-white);
}

.order-receipt__actions {
  max-width: 800px;
  margin: 0 auto var(--space-6);
  text-align: right;
}

.order-receipt__actions .btn {
  display: inline-flex;
  align-items: center;
}

.order-receipt__wrapper {
  max-width: 800px;
  margin: 0 auto;
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-xl);
  padding: var(--space-8);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.order-receipt__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--space-8);
  padding-bottom: var(--space-6);
  border-bottom: 2px solid var(--color-gray-200);
  gap: var(--space-6);
}

.order-receipt__logo {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: var(--space-3);
  flex: 1;
  min-width: 0;
}

.order-receipt__logo-img {
  width: auto;
  height: 80px;
  max-width: 250px;
  object-fit: contain;
  flex-shrink: 0;
  display: block;
}

.order-receipt__logo-text {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  min-width: 0;
  flex: 1;
}

.order-receipt__logo h1,
.order-receipt__logo h2 {
  font-size: var(--text-base);
  font-weight: 600;
  margin: 0;
  color: var(--color-primary);
  line-height: 1.4;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.order-receipt__logo p {
  font-size: var(--text-xs);
  color: var(--color-gray-600);
  margin: 0;
  line-height: 1.4;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.order-receipt__title {
  text-align: right;
  flex-shrink: 0;
  min-width: fit-content;
}

.order-receipt__title h2 {
  font-size: var(--text-2xl);
  margin: 0 0 var(--space-2) 0;
  white-space: nowrap;
}

@media (max-width: 1024px) {
  .order-receipt__header {
    flex-wrap: wrap;
  }

  .order-receipt__logo {
    flex: 1 1 100%;
    max-width: 100%;
  }

  .order-receipt__title {
    flex: 1 1 100%;
    text-align: left;
    margin-top: var(--space-4);
  }
}

.order-receipt__status {
  display: inline-block;
  padding: var(--space-1) var(--space-3);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
}

.order-receipt__status--completed,
.order-receipt__status--processing {
  background: var(--color-success);
  color: var(--color-white);
}

.order-receipt__status--pending,
.order-receipt__status--on-hold {
  background: var(--color-warning);
  color: var(--color-white);
}

.order-receipt__status--failed,
.order-receipt__status--cancelled {
  background: var(--color-error);
  color: var(--color-white);
}

.order-receipt__info {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-4);
  margin-bottom: var(--space-8);
  padding: var(--space-6);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
}

.order-receipt__info-item {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.order-receipt__info-item strong {
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-600);
}

.order-receipt__info-item span {
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--color-gray-900);
}

.order-receipt__payment-status {
  display: inline-block;
  padding: var(--space-1) var(--space-3);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
}

.order-receipt__payment-status--paid {
  background: var(--color-success);
  color: var(--color-white);
}

.order-receipt__payment-status--unpaid {
  background: var(--color-error);
  color: var(--color-white);
}

.order-receipt__billing {
  margin-bottom: var(--space-8);
}

.order-receipt__billing h3 {
  font-size: var(--text-lg);
  font-weight: 600;
  margin-bottom: var(--space-3);
}

.order-receipt__address {
  font-style: normal;
  font-size: var(--text-base);
  line-height: 1.6;
  color: var(--color-gray-700);
}

.order-receipt__address a {
  color: var(--color-primary);
  text-decoration: none;
}

.order-receipt__address a:hover {
  text-decoration: underline;
}

.order-receipt__items {
  margin-bottom: var(--space-8);
}

.order-receipt__items h3 {
  font-size: var(--text-lg);
  font-weight: 600;
  margin-bottom: var(--space-4);
}

.order-receipt__table {
  width: 100%;
  border-collapse: collapse;
}

.order-receipt__table thead {
  background: var(--color-gray-50);
}

.order-receipt__table th {
  padding: var(--space-3) var(--space-4);
  text-align: left;
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-700);
  border-bottom: 2px solid var(--color-gray-200);
}

.order-receipt__table th.text-right {
  text-align: right;
}

.order-receipt__table td {
  padding: var(--space-4);
  border-bottom: 1px solid var(--color-gray-200);
  font-size: var(--text-sm);
}

.order-receipt__table tbody tr:last-child td {
  border-bottom: 2px solid var(--color-gray-200);
}

.order-receipt__table td.text-right {
  text-align: right;
}

.order-receipt__item-meta {
  margin-top: var(--space-1);
  font-size: var(--text-xs);
  color: var(--color-gray-600);
}

.order-receipt__table tfoot td {
  font-weight: 600;
  background: var(--color-gray-50);
}

.order-receipt__total td {
  font-size: var(--text-lg);
  color: var(--color-primary);
  border-top: 2px solid var(--color-gray-200);
}

.order-receipt__footer {
  padding-top: var(--space-6);
  border-top: 2px solid var(--color-gray-200);
  text-align: center;
}

.order-receipt__footer p {
  margin: 0 0 var(--space-2) 0;
  font-size: var(--text-base);
  color: var(--color-gray-700);
}

.order-receipt__note {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  font-style: italic;
}

.order-receipt__error {
  text-align: center;
  padding: var(--space-16) var(--space-8);
}

.order-receipt__error h1 {
  margin-bottom: var(--space-4);
}

.order-receipt__error p {
  margin-bottom: var(--space-6);
  color: var(--color-gray-600);
}

@media (max-width: 768px) {
  .order-receipt__wrapper {
    padding: var(--space-6);
  }

  .order-receipt__header {
    flex-direction: column;
    gap: var(--space-4);
    align-items: flex-start;
  }

  .order-receipt__logo {
    width: 100%;
    flex-direction: row;
    align-items: center;
  }

  .order-receipt__logo-img {
    height: 60px;
    max-width: 180px;
  }

  .order-receipt__logo h1,
  .order-receipt__logo h2 {
    font-size: var(--text-sm);
  }

  .order-receipt__logo p {
    font-size: 0.7rem;
  }

  .order-receipt__title {
    text-align: left;
    width: 100%;
  }

  .order-receipt__info {
    grid-template-columns: 1fr;
  }

  .order-receipt__table {
    font-size: var(--text-xs);
  }

  .order-receipt__table th,
  .order-receipt__table td {
    padding: var(--space-2) var(--space-3);
  }

  .order-receipt__actions {
    text-align: center;
    margin-bottom: var(--space-4);
  }

  .order-receipt__actions .btn {
    width: 100%;
    justify-content: center;
  }
}

/* Print Styles for Receipt */
@media print {
  body {
    background: white;
  }

  .header,
  .footer,
  .order-receipt__actions,
  .breadcrumbs,
  nav,
  .site-navigation {
    display: none !important;
  }

  .order-receipt {
    padding: 0;
    background: white;
  }

  .order-receipt__wrapper {
    box-shadow: none;
    border: none;
    max-width: 100%;
    margin: 0;
    padding: 20px;
  }

  .order-receipt__header {
    page-break-inside: avoid;
  }

  .order-receipt__items {
    page-break-inside: avoid;
  }

  .order-receipt__table {
    page-break-inside: avoid;
  }
}

/* ============================================
   ORDER PAY PAGE (Payment Gateway Page)
   ============================================ */

/* Order Pay Page - Ensure content is not cut off by fixed header */
body.woocommerce-order-pay {
  padding-top: 0 !important;
}

/* CRITICAL: Ensure main content area has proper spacing for fixed header */
body.woocommerce-order-pay #main.site-main,
body.woocommerce-order-pay main#main.site-main,
body.woocommerce-order-pay main#main,
body.woocommerce-order-pay .site-main {
  padding-top: calc(var(--header-height) + var(--space-12)) !important;
  padding-bottom: var(--space-16) !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  min-height: 0 !important;
  display: block !important;
}

/* WooCommerce wrapper - add container padding and styling */
body.woocommerce-order-pay .site-main .woocommerce,
body.woocommerce-order-pay main .woocommerce {
  max-width: var(--container-max) !important;
  width: 100% !important;
  margin: 0 auto !important;
  padding: var(--space-8) var(--space-6) !important;
  background: var(--color-white);
}

/* Order details list - style it properly to match our design */
body.woocommerce-order-pay ul.order_details,
body.woocommerce-order-pay .order_details,
body.woocommerce-order-pay .woocommerce ul.order_details,
body.woocommerce-order-pay main .woocommerce ul.order_details {
  list-style: none !important;
  padding: var(--space-8) var(--space-6) !important;
  margin: 0 0 var(--space-8) 0 !important;
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important;
  gap: var(--space-6) !important;
  background: var(--color-primary) !important;
  color: var(--color-white) !important;
  border-radius: var(--radius-lg) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
}

body.woocommerce-order-pay ul.order_details li,
body.woocommerce-order-pay .order_details li {
  display: flex !important;
  flex-direction: column !important;
  gap: var(--space-2) !important;
  padding: 0 !important;
  margin: 0 !important;
}

body.woocommerce-order-pay ul.order_details strong,
body.woocommerce-order-pay .order_details strong {
  font-size: var(--text-xs) !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
  letter-spacing: var(--tracking-wide) !important;
  opacity: 0.9 !important;
  color: var(--color-white) !important;
  margin-bottom: var(--space-1) !important;
}

body.woocommerce-order-pay ul.order_details span:not(strong),
body.woocommerce-order-pay .order_details span:not(strong),
body.woocommerce-order-pay ul.order_details li:not(:has(strong)),
body.woocommerce-order-pay .order_details li:not(:has(strong)) {
  font-size: var(--text-lg) !important;
  font-weight: 600 !important;
  color: var(--color-white) !important;
  line-height: 1.4 !important;
}

/* Style PesaPal loading message */
body.woocommerce-order-pay .pesapal_container,
body.woocommerce-order-pay .pesapal_loading_preloader {
  margin: var(--space-6) 0 !important;
}

body.woocommerce-order-pay .pesapal_container p {
  margin-bottom: var(--space-4) !important;
  color: var(--color-gray-700) !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  body.woocommerce-order-pay .site-main .woocommerce,
  body.woocommerce-order-pay main .woocommerce {
    padding: var(--space-6) var(--space-4) !important;
  }

  body.woocommerce-order-pay ul.order_details,
  body.woocommerce-order-pay .order_details {
    grid-template-columns: 1fr !important;
    gap: var(--space-4) !important;
    padding: var(--space-6) var(--space-4) !important;
  }
}

/* Wrapper div (backup) */
body.woocommerce-order-pay .order-pay-page-wrapper {
  padding-top: 0 !important;
  padding-bottom: 0 !important;
  display: block !important;
}

.order-pay {
  padding: 0 !important;
  margin: 0 !important;
  background: var(--color-white);
  min-height: calc(100vh - var(--header-height));
  position: relative;
  display: block;
}

.order-pay__header {
  margin-top: 0 !important;
  margin-bottom: var(--space-8) !important;
}

.order-pay .container {
  max-width: var(--container-max);
  width: 100%;
  margin: 0 auto;
  padding: 0 var(--space-6);
}

.order-pay__wrapper {
  background: var(--color-white);
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.order-pay__header {
  background: var(--color-primary);
  color: var(--color-white);
  padding: var(--space-8) var(--space-6);
  margin-bottom: var(--space-8);
}

.order-pay__info {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-6);
}

.order-pay__info-item {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.order-pay__label {
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  opacity: 0.9;
}

.order-pay__value {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--color-white);
}

.order-pay__value--highlight {
  font-size: var(--text-xl);
  color: var(--color-white);
}

.order-pay__form {
  padding: 0 var(--space-6) var(--space-8);
}

.order-pay__items {
  margin-bottom: var(--space-8);
}

.order-pay__items h3 {
  font-size: var(--text-xl);
  font-weight: 600;
  margin-bottom: var(--space-6);
  color: var(--color-gray-900);
}

.order-pay__table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: var(--space-6);
}

.order-pay__table thead {
  background: var(--color-gray-100);
  border-bottom: 2px solid var(--color-gray-200);
}

.order-pay__table th {
  padding: var(--space-4) var(--space-4);
  text-align: left;
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-gray-700);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.order-pay__table td {
  padding: var(--space-4);
  border-bottom: 1px solid var(--color-gray-200);
  font-size: var(--text-base);
  color: var(--color-gray-700);
}

.order-pay__table tbody tr:hover {
  background: var(--color-gray-50);
}

.order-pay__table tfoot {
  border-top: 2px solid var(--color-gray-200);
  background: var(--color-gray-50);
}

.order-pay__table tfoot th {
  font-weight: 600;
  color: var(--color-gray-900);
}

.order-pay__table tfoot td {
  font-weight: 600;
  color: var(--color-gray-900);
  font-size: var(--text-lg);
}

.order-pay__payment {
  background: var(--color-gray-50);
  padding: var(--space-6);
  border-radius: var(--radius-md);
  margin-top: var(--space-8);
}

.order-pay__payment .wc_payment_methods {
  list-style: none;
  padding: 0;
  margin: 0 0 var(--space-6);
}

.order-pay__payment .form-row {
  margin-top: var(--space-6);
}

.order-pay__payment .btn {
  width: 100%;
  justify-content: center;
}

/* Responsive */
@media (max-width: 768px) {
  .order-pay {
    padding: calc(var(--header-height) + var(--space-6)) 0 var(--space-12);
  }

  .order-pay__header {
    padding: var(--space-6) var(--space-4);
  }

  .order-pay__info {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }

  .order-pay__form {
    padding: 0 var(--space-4) var(--space-6);
  }

  .order-pay__table {
    font-size: var(--text-sm);
  }

  .order-pay__table th,
  .order-pay__table td {
    padding: var(--space-3) var(--space-2);
  }
}

/* ============================================
   RESEND PUBLICATIONS PAGE
   ============================================ */

.resend-publications {
  padding: calc(var(--header-height) + var(--space-16)) 0 var(--space-16);
  min-height: 100vh;
  background: var(--color-gray-50);
}

.resend-publications__layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-12);
  max-width: 1200px;
  margin: 0 auto;
  align-items: start;
}

/* Ensure blocks render in correct columns */
.resend-publications__layout > .resend-publications__form-panel {
  grid-column: 1;
}

.resend-publications__layout > .resend-publications__help-panel {
  grid-column: 2;
}

.resend-publications__form-panel {
  background: var(--color-white);
  padding: var(--space-10);
  border-radius: var(--radius-2xl);
  border: 1px solid var(--color-gray-200);
}

.resend-publications__help-panel {
  padding: 0;
  background: transparent;
  border: none;
}

.resend-publications__icon {
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-primary); /* Primary blue background */
  color: var(--color-white);
  border-radius: var(--radius-lg);
  margin: 0 0 var(--space-6) 0; /* Left align - remove auto margins */
  box-shadow: 0 2px 8px rgba(56, 152, 178, 0.2);
}

.resend-publications__icon svg {
  width: 40px;
  height: 40px;
  stroke: var(--color-white);
  fill: none;
  stroke-width: 2.5;
}

.resend-publications__title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 700;
  margin-bottom: var(--space-3);
  text-align: left; /* Left align */
}

.resend-publications__description {
  color: var(--color-gray-600);
  margin-bottom: var(--space-8);
  line-height: 1.6;
  text-align: left; /* Left align */
}

.resend-publications__form .form-group {
  margin-bottom: var(--space-5);
}

.resend-publications__form .form-label {
  display: block;
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
  margin-bottom: var(--space-2);
}

.resend-publications__form .form-label .required {
  color: var(--color-error);
}

.resend-publications__form .form-input {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-base);
  font-family: var(--font-body);
  color: var(--color-gray-900);
  background: var(--color-white);
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-lg);
  transition: all var(--duration-fast);
}

.resend-publications__form .form-input:focus {
  outline: none;
  border-color: var(--color-primary);
  background: var(--color-white);
  box-shadow: 0 0 0 3px rgba(56, 152, 178, 0.1);
}

.resend-publications__form .form-hint {
  display: block;
  font-size: var(--text-xs);
  color: var(--color-gray-500);
  margin-top: var(--space-1);
  font-style: italic;
}

.resend-publications__submit-btn {
  background: var(--color-gray-900);
  color: var(--color-white);
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
}

.resend-publications__submit-btn:hover {
  background: var(--color-black);
  color: var(--color-white);
}

.resend-publications__submit-btn svg {
  stroke: var(--color-white);
}

.form-messages {
  margin-bottom: var(--space-4);
  padding: var(--space-4);
  border-radius: var(--radius-lg);
}

.form-messages--success {
  background: var(--color-success-light);
  color: var(--color-success-dark);
  border: 1px solid var(--color-success);
}

.form-messages--error {
  background: var(--color-error-light);
  color: var(--color-error-dark);
  border: 1px solid var(--color-error);
}

.resend-publications__help-title {
  font-size: var(--text-xl);
  font-weight: 700;
  margin-bottom: var(--space-6);
}

.resend-publications__help-item {
  display: flex;
  gap: var(--space-4);
  margin-bottom: var(--space-6);
  align-items: flex-start;
}

.resend-publications__help-icon {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  color: var(--color-primary);
  border-radius: var(--radius-lg);
  flex-shrink: 0;
}

.resend-publications__help-icon svg {
  stroke: var(--color-primary);
  fill: none;
}

.resend-publications__help-content {
  flex: 1;
}

.resend-publications__help-content strong {
  display: block;
  margin-bottom: var(--space-1);
  color: var(--color-gray-900);
}

.resend-publications__help-content a {
  color: var(--color-primary);
  text-decoration: none;
  display: block;
  margin-top: var(--space-1);
}

.resend-publications__help-content a:hover {
  text-decoration: underline;
}

.resend-publications__help-hours {
  display: block;
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  margin-top: var(--space-1);
}

/* FAQ section inside help panel */
.resend-publications__help-panel .resend-publications__faq {
  margin-top: var(--space-8);
  padding-top: var(--space-8);
  border-top: 1px solid var(--color-gray-200);
}

.resend-publications__faq-title {
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-500);
  margin-bottom: var(--space-4);
}

.resend-publications__faq-item {
  margin-bottom: var(--space-3);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-gray-200);
  overflow: hidden;
  transition: all var(--duration-fast);
}

.resend-publications__faq-item:hover {
  border-color: var(--color-gray-300);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.resend-publications__faq-question {
  width: 100%;
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-4);
  background: none;
  border: none;
  text-align: left;
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-gray-900);
  cursor: pointer;
  transition: color var(--duration-fast);
}

.resend-publications__faq-question:hover {
  color: var(--color-gray-900);
}

.resend-publications__faq-icon {
  flex-shrink: 0;
  color: var(--color-gray-900);
  transition: transform var(--duration-fast);
  width: 16px;
  height: 16px;
  fill: currentColor;
  stroke: none;
}

.resend-publications__faq-question:hover .resend-publications__faq-icon {
  color: var(--color-gray-900);
}

.resend-publications__faq-item[aria-expanded="true"] .resend-publications__faq-icon {
  transform: rotate(90deg);
}

.resend-publications__faq-question span {
  flex: 1;
}

.resend-publications__faq-answer {
  display: none;
  padding: 0 var(--space-4) var(--space-4) calc(16px + var(--space-4) + var(--space-3));
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: 1.6;
  background: var(--color-white);
}

.resend-publications__faq-answer p {
  margin: 0;
}

.resend-publications__faq-item[aria-expanded="true"] .resend-publications__faq-answer {
  display: block;
}

@media (max-width: 768px) {
  .resend-publications__layout {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }
}

.resend-section {
  padding: calc(var(--header-height) + var(--space-16)) 0 var(--space-16);
  min-height: 100vh;
  background: var(--color-gray-50);
}

.resend-wrapper {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-12);
  max-width: 1000px;
  margin: 0 auto;
}

.resend-content {
  background: var(--color-white);
  padding: var(--space-10);
  border-radius: var(--radius-2xl);
  border: 1px solid var(--color-gray-200);
}

.resend-icon {
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-primary-light);
  color: var(--color-primary);
  border-radius: var(--radius-xl);
  margin-bottom: var(--space-6);
}

.resend-title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 700;
  margin-bottom: var(--space-3);
}

.resend-description {
  color: var(--color-gray-600);
  margin-bottom: var(--space-8);
  line-height: 1.6;
}

.resend-form__field {
  margin-bottom: var(--space-5);
}

.resend-form__field label {
  display: block;
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
  margin-bottom: var(--space-2);
}

.resend-form__field .required {
  color: var(--color-error);
}

.resend-form__field input {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-base);
  font-family: var(--font-body);
  color: var(--color-gray-900);
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  transition: all var(--duration-fast);
}

.resend-form__field input:focus {
  outline: none;
  border-color: var(--color-primary);
  background: var(--color-white);
  box-shadow: 0 0 0 3px rgba(56, 152, 178, 0.1);
}

.resend-form__hint {
  display: block;
  font-size: var(--text-xs);
  color: var(--color-gray-500);
  margin-top: var(--space-1);
}

.resend-success,
.resend-error {
  text-align: center;
  padding: var(--space-8);
}

.resend-success__icon {
  color: var(--color-success);
  margin-bottom: var(--space-4);
}

.resend-error__icon {
  color: var(--color-error);
  margin-bottom: var(--space-4);
}

.resend-success h2,
.resend-error h2 {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  margin-bottom: var(--space-3);
}

.resend-success p,
.resend-error p {
  color: var(--color-gray-600);
  margin-bottom: var(--space-6);
}

.resend-help {
  padding-top: var(--space-6);
}

.resend-help h3 {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 600;
  margin-bottom: var(--space-5);
}

.resend-help__items {
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
  margin-bottom: var(--space-8);
}

.resend-help__item {
  display: flex;
  gap: var(--space-4);
}

.resend-help__item svg {
  color: var(--color-primary);
  flex-shrink: 0;
  margin-top: var(--space-1);
}

.resend-help__item strong {
  display: block;
  margin-bottom: var(--space-1);
}

.resend-help__item a {
  color: var(--color-primary);
}

.resend-help__item span {
  display: block;
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.resend-faq h4 {
  font-size: var(--text-sm);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-500);
  margin-bottom: var(--space-4);
}

.resend-faq details {
  margin-bottom: var(--space-3);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.resend-faq summary {
  padding: var(--space-4);
  font-weight: 500;
  cursor: pointer;
  background: var(--color-gray-50);
}

.resend-faq summary:hover {
  background: var(--color-gray-100);
}

.resend-faq details[open] summary {
  border-bottom: 1px solid var(--color-gray-200);
}

.resend-faq details p {
  padding: var(--space-4);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: 1.6;
  background: var(--color-white);
}

/* Cart/Checkout Responsive */
@media (max-width: 1024px) {
  .cart-layout,
  .checkout-layout {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }

  .cart-summary__card,
  .checkout-summary__card {
    position: static;
    margin-bottom: var(--space-8);
  }
  
  .checkout-summary {
    order: -1; /* Show summary first on mobile */
  }
  
  .checkout-form-wrapper {
    order: 1;
  }

  .resend-wrapper {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }
  
  .checkout-container {
    padding-left: var(--space-4);
    padding-right: var(--space-4);
  }
}

@media (max-width: 768px) {
  .cart-item {
    grid-template-columns: 80px 1fr;
    gap: var(--space-4);
  }

  .cart-item__price {
    grid-column: 2;
  }
  
  .cart-item__remove-wrapper {
    grid-column: 2;
    justify-self: end;
  }

  .cart-item__price {
    text-align: left;
  }

  .checkout-steps {
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .checkout-step__line {
    width: 30px;
    margin-bottom: var(--space-4);
  }

  .checkout-form__row {
    grid-template-columns: 1fr;
  }

  .order-details__header {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }

  .order-complete__actions {
    flex-direction: column;
  }

  .order-complete__resend-link {
    margin-top: var(--space-2);
  }

  .order-complete__related-grid {
    grid-template-columns: 1fr;
  }

  .resend-content {
    padding: var(--space-6);
  }

  .order-complete__wrapper {
    padding-top: var(--space-10); /* Slightly less on mobile but still good spacing */
    padding-bottom: var(--space-10);
  }

  .resend-publications__layout {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }

  .resend-publications__layout > .resend-publications__form-panel,
  .resend-publications__layout > .resend-publications__help-panel {
    grid-column: 1;
  }

  .resend-publications__form-panel,
  .resend-publications__help-panel {
    padding: var(--space-6);
  }

  .resend-publications__icon {
    width: 64px;
    height: 64px;
  }

  .resend-publications__icon svg {
    width: 32px;
    height: 32px;
  }
}

/* Video Single Page */
.video-single {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: var(--space-10);
}

.video-single__wrapper {
  position: relative;
  border-radius: var(--radius-xl);
  overflow: hidden;
  aspect-ratio: 16/9;
}

.video-single__thumbnail {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.video-single__play-btn {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100px;
  height: 100px;
  background: var(--color-primary);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-white);
  cursor: pointer;
  transition: all var(--duration-base);
}

.video-single__play-btn svg {
  width: 40px;
  height: 40px;
  margin-left: 4px;
}

.video-single__play-btn:hover {
  transform: translate(-50%, -50%) scale(1.1);
  background: var(--color-primary-dark);
}

.video-single__meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.video-single__category {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.video-single__duration,
.video-single__date {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.video-single__title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-6);
}

.video-single__description {
  margin-bottom: var(--space-8);
}

.video-single__description p {
  margin-bottom: var(--space-4);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
}

.video-single__description h3 {
  font-size: var(--text-lg);
  font-weight: 600;
  margin-top: var(--space-6);
  margin-bottom: var(--space-3);
}

.video-single__description ul {
  list-style: disc;
  padding-left: var(--space-6);
  color: var(--color-gray-600);
}

.video-single__description li {
  margin-bottom: var(--space-2);
}

.video-single__speakers h3 {
  font-size: var(--text-lg);
  font-weight: 600;
  margin-bottom: var(--space-4);
}

.video-single__speakers-grid {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-4);
}

.video-single__speaker {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.video-single__speaker-image {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  overflow: hidden;
}

.video-single__speaker-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.video-single__speaker strong {
  display: block;
  font-size: var(--text-sm);
  font-weight: 600;
}

.video-single__speaker span {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
}

.video-single__share {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  margin-top: var(--space-8);
  padding-top: var(--space-6);
  border-top: 1px solid var(--color-gray-200);
}

.video-single__share span {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.video-single__share a {
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
}

.video-single__share a:hover {
  color: var(--color-primary);
}

/* Podcast Single Page */
.podcast-single__player {
  display: grid;
  grid-template-columns: 300px 1fr;
  gap: var(--space-8);
  background: var(--color-gray-900);
  padding: var(--space-8);
  border-radius: var(--radius-2xl);
  margin-bottom: var(--space-10);
}

.podcast-single__cover {
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.podcast-single__cover img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.podcast-single__controls {
  display: flex;
  flex-direction: column;
  justify-content: center;
  color: var(--color-white);
}

.podcast-single__episode {
  font-size: var(--text-sm);
  color: var(--color-primary-light);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  margin-bottom: var(--space-2);
}

.podcast-single__title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  margin-bottom: var(--space-3);
}

.podcast-single__meta {
  display: flex;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-400);
  margin-bottom: var(--space-6);
}

.podcast-single__audio {
  margin-bottom: var(--space-6);
}

.podcast-single__progress {
  height: 6px;
  background: var(--color-gray-700);
  border-radius: 3px;
  margin-bottom: var(--space-2);
}

.podcast-single__progress-bar {
  height: 100%;
  width: 30%;
  background: var(--color-primary);
  border-radius: 3px;
}

.podcast-single__time {
  display: flex;
  justify-content: space-between;
  font-size: var(--text-xs);
  color: var(--color-gray-500);
  margin-bottom: var(--space-4);
}

.podcast-single__buttons {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-4);
}

.podcast-single__btn {
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-gray-800);
  border-radius: 50%;
  color: var(--color-white);
  cursor: pointer;
  transition: background var(--duration-base);
}

.podcast-single__btn:hover {
  background: var(--color-gray-700);
}

.podcast-single__btn--play {
  width: 64px;
  height: 64px;
  background: var(--color-primary);
}

.podcast-single__btn--play:hover {
  background: var(--color-primary-dark);
}

.podcast-single__platforms {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  font-size: var(--text-sm);
}

.podcast-single__platforms span {
  color: var(--color-gray-500);
}

.podcast-single__platforms a {
  color: var(--color-white);
  font-weight: 500;
}

.podcast-single__platforms a:hover {
  color: var(--color-primary-light);
}

.podcast-single__content h2,
.podcast-single__content h3 {
  font-family: var(--font-display);
  font-weight: 600;
  margin-bottom: var(--space-4);
}

.podcast-single__content h2 {
  font-size: var(--text-xl);
}

.podcast-single__content h3 {
  font-size: var(--text-lg);
  margin-top: var(--space-8);
}

.podcast-single__description ul {
  list-style: disc;
  padding-left: var(--space-6);
  color: var(--color-gray-600);
}

.podcast-single__description li {
  margin-bottom: var(--space-2);
}

.podcast-single__guest {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

.podcast-single__guest img {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  object-fit: cover;
}

.podcast-single__guest strong {
  display: block;
  font-size: var(--text-sm);
}

.podcast-single__guest span {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
}

/* Gallery Single Page */
/* Gallery Single Grid */
.gallery-single-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-4);
}

.gallery-single-item {
  aspect-ratio: 1;
  border-radius: var(--radius-lg);
  overflow: hidden;
  cursor: pointer;
  display: block;
}

.gallery-single-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--duration-slow);
}

.gallery-single-item:hover img {
  transform: scale(1.05);
}

.gallery-load-more-wrapper {
  text-align: center;
  margin-top: var(--space-10);
}

/* Gallery Info */
.gallery-info {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: var(--space-10);
}

.gallery-info h2 {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 600;
  margin-bottom: var(--space-4);
  color: var(--color-gray-900);
}

.gallery-info p {
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-4);
}

.gallery-info__details {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-3);
  margin-top: var(--space-6);
  padding-top: var(--space-6);
  border-top: 1px solid var(--color-gray-200);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

.gallery-info__details strong {
  color: var(--color-gray-900);
  font-weight: 600;
}

.gallery-info__share h3 {
  font-size: var(--text-lg);
  font-weight: 600;
  margin-bottom: var(--space-4);
  color: var(--color-gray-900);
}

.gallery-info__share-buttons {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.gallery-info__share-buttons .btn {
  width: 100%;
  justify-content: center;
  text-align: center;
}

@media (max-width: 768px) {
  .gallery-info {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }
  
  .gallery-info__details {
    grid-template-columns: 1fr;
  }
}

/* Lightbox */
.lightbox {
  position: fixed;
  inset: 0;
  z-index: 99999;
  background: rgba(0, 0, 0, 0.95);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity var(--duration-base), visibility var(--duration-base);
}

.lightbox--open {
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
  display: flex !important;
}

.lightbox__close {
  position: absolute;
  top: var(--space-6);
  right: var(--space-6);
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  color: var(--color-white);
  cursor: pointer;
  transition: all var(--duration-fast);
  z-index: 10;
}

.lightbox__close:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 255, 255, 0.3);
}

.lightbox__nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  color: var(--color-white);
  cursor: pointer;
  transition: all var(--duration-fast);
  z-index: 10;
}

.lightbox__nav:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 255, 255, 0.3);
}

.lightbox__nav--prev {
  left: var(--space-6);
}

.lightbox__nav--next {
  right: var(--space-6);
}

.lightbox__content {
  max-width: 90vw;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.lightbox__image {
  max-width: 100%;
  max-height: 85vh;
  object-fit: contain;
  border-radius: var(--radius-lg);
}

.lightbox__caption {
  margin-top: var(--space-4);
  color: var(--color-white);
  text-align: center;
  font-size: var(--text-base);
}

.lightbox__counter {
  position: absolute;
  bottom: var(--space-6);
  left: 50%;
  transform: translateX(-50%);
  color: var(--color-white);
  font-size: var(--text-sm);
  background: rgba(0, 0, 0, 0.5);
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-full);
}

@media (max-width: 1024px) {
  .gallery-info-layout {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }

  .gallery-share {
    position: static;
    margin-top: var(--space-8);
    padding-top: var(--space-8);
    border-top: 1px solid var(--color-gray-200);
  }
}

@media (max-width: 768px) {
  .gallery-single-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .gallery-info__details {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .gallery-single-grid {
    grid-template-columns: 1fr;
  }
}

/* Page Header Minimal */
.page-header--minimal {
  padding-top: calc(var(--header-height) + var(--space-6));
  padding-bottom: var(--space-2);
  background: linear-gradient(135deg, var(--color-gray-50) 0%, var(--color-white) 100%);
  position: relative;
  overflow: hidden;
}

.page-header--minimal::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(circle at 20% 50%, rgba(63, 147, 193, 0.03) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(63, 147, 193, 0.02) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

/* Page header with background image (dark) */
.page-header--has-bg {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-color: var(--color-gray-900);
}

.page-header--has-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  z-index: 1;
}

.page-header--has-bg .page-header__content {
  position: relative;
  z-index: 2;
}

/* Override default page-header background when has-bg is present */
.page-header--has-bg {
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  background-color: var(--color-gray-900) !important;
}

.page-header--has-bg::after {
  display: none; /* Hide the gradient line on dark backgrounds */
}

/* Dark background styling for breadcrumbs */
.page-header--has-bg .breadcrumbs,
.page-header--has-bg .page-header__breadcrumb {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.3);
  color: var(--color-white);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.page-header--has-bg .breadcrumbs a,
.page-header--has-bg .page-header__breadcrumb a {
  color: var(--color-white);
}

.page-header--has-bg .breadcrumbs a:hover,
.page-header--has-bg .page-header__breadcrumb a:hover {
  color: var(--color-gray-200);
  opacity: 0.9;
}

.page-header--has-bg .breadcrumbs__separator {
  color: rgba(255, 255, 255, 0.6);
}

.page-header--has-bg .breadcrumbs__current {
  color: var(--color-white);
}

/* Dark background styling for title and description */
.page-header--has-bg .page-header__title {
  color: var(--color-white);
}

.page-header--has-bg .page-header__description {
  color: rgba(255, 255, 255, 0.9);
}

.page-header--minimal .page-header__content {
  position: relative;
  z-index: 1;
}

/* Article Single Page */
.article-single__header {
  padding: var(--space-4) 0 var(--space-8);
}

.article-single__meta {
  display: flex;
  gap: var(--space-4);
  margin-bottom: var(--space-4);
}

.article-single__category {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-primary);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.article-single__date,
.article-single__read-time {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.article-single__title {
  font-family: var(--font-display);
  font-size: var(--text-4xl);
  font-weight: 700;
  color: var(--color-gray-900);
  line-height: var(--leading-tight);
  margin-bottom: var(--space-6);
  max-width: 800px;
}

.article-single__lead {
  font-size: var(--text-xl);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
  max-width: 700px;
  margin-bottom: var(--space-8);
}

.article-single__author {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.article-single__author-image {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}

.article-single__author-multiple {
  display: flex;
  align-items: center;
  gap: calc(var(--space-2) * -1);
  position: relative;
}

.article-single__author-multiple .article-single__author-image {
  width: 48px;
  height: 48px;
  border: 2px solid var(--color-white);
  margin-left: calc(var(--space-2) * -1);
}

.article-single__author-multiple .article-single__author-image:first-child {
  margin-left: 0;
}

.article-single__author-count {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: var(--color-gray-200);
  border: 2px solid var(--color-white);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--color-gray-700);
  margin-left: calc(var(--space-2) * -1);
}

.article-single__author-info strong {
  display: block;
  font-weight: 600;
}

.article-single__author-info span {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.article-single__featured {
  margin-bottom: var(--space-10);
}

.article-single__featured img {
  width: 100%;
  max-height: 500px;
  object-fit: cover;
  border-radius: var(--radius-xl);
}

.article-single__body .container {
  display: grid;
  grid-template-columns: 1fr 320px;
  gap: var(--space-12);
  align-items: start;
}

.article-single__content {
  max-width: 100%;
  padding: var(--space-6) var(--space-8) var(--space-6) 0;
}

.article-single__intro {
  font-size: var(--text-lg);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-6);
}

.article-single__content p {
  color: var(--color-gray-700);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-5);
}

.article-single__content h2 {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  margin-top: var(--space-10);
  margin-bottom: var(--space-4);
}

.article-single__content ul,
.entry-content ul,
.wp-block-post-content ul,
.wp-block-list {
  list-style: none;
  padding-left: 0;
  margin-bottom: var(--space-6);
}

.article-single__content ul > li,
.entry-content ul > li,
.wp-block-post-content ul > li,
.wp-block-list > li {
  position: relative;
  padding-left: var(--space-6);
  margin-bottom: var(--space-3);
  color: var(--color-gray-700);
}

.article-single__content ul > li::before,
.entry-content ul > li::before,
.wp-block-post-content ul > li::before,
.wp-block-list > li::before {
  content: "";
  position: absolute;
  left: 0;
  color: var(--color-primary);
  font-weight: 700;
  font-size: 1.2em;
}

/* Hide bullet on list items that contain nested lists */
.article-single__content ul > li:has(> ul)::before,
.article-single__content ul > li:has(> .wp-block-list)::before,
.entry-content ul > li:has(> ul)::before,
.entry-content ul > li:has(> .wp-block-list)::before,
.wp-block-post-content ul > li:has(> ul)::before,
.wp-block-post-content ul > li:has(> .wp-block-list)::before,
.wp-block-list > li:has(> ul)::before,
.wp-block-list > li:has(> .wp-block-list)::before {
  content: none;
}

/* Nested lists - different styling */
.article-single__content ul ul,
.entry-content ul ul,
.wp-block-post-content ul ul,
.wp-block-list .wp-block-list {
  margin-top: var(--space-2);
  margin-bottom: var(--space-2);
  padding-left: var(--space-4);
}

.article-single__content ul ul > li,
.entry-content ul ul > li,
.wp-block-post-content ul ul > li,
.wp-block-list .wp-block-list > li {
  padding-left: var(--space-5);
}

.article-single__content ul ul > li::before,
.entry-content ul ul > li::before,
.wp-block-post-content ul ul > li::before,
.wp-block-list .wp-block-list > li::before {
  content: "";
  font-size: 1em;
  left: var(--space-1);
}

/* Override WordPress inline styles that might interfere */
.article-single__content ul[style*="list-style-type"],
.entry-content ul[style*="list-style-type"],
.wp-block-post-content ul[style*="list-style-type"],
.article-single__content li[style*="list-style-type"],
.entry-content li[style*="list-style-type"],
.wp-block-post-content li[style*="list-style-type"] {
  list-style: none !important;
}

/* Ordered lists */
.article-single__content ol,
.entry-content ol,
.wp-block-post-content ol {
  list-style: none;
  padding-left: 0;
  margin-bottom: var(--space-6);
  counter-reset: list-counter;
}

.article-single__content ol li,
.entry-content ol li,
.wp-block-post-content ol li {
  position: relative;
  padding-left: var(--space-8);
  margin-bottom: var(--space-3);
  color: var(--color-gray-700);
  counter-increment: list-counter;
}

.article-single__content ol li::before,
.entry-content ol li::before,
.wp-block-post-content ol li::before {
  content: counter(list-counter) ".";
  position: absolute;
  left: 0;
  color: var(--color-primary);
  font-weight: 600;
  font-family: var(--font-display);
  min-width: var(--space-6);
  text-align: right;
}

.article-single__content blockquote {
  border-left: 4px solid var(--color-primary);
  padding-left: var(--space-6);
  margin: var(--space-8) 0;
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-style: italic;
  color: var(--color-gray-800);
}

.article-single__tags {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-2);
  margin-top: var(--space-10);
  padding-top: var(--space-6);
  border-top: 1px solid var(--color-gray-200);
}

.article-single__tags span {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  margin-right: var(--space-2);
}

.article-single__tags a {
  font-size: var(--text-sm);
  padding: var(--space-1) var(--space-3);
  background: var(--color-gray-100);
  border-radius: var(--radius-full);
  color: var(--color-gray-700);
}

.article-single__tags a:hover {
  background: var(--color-primary-muted);
  color: var(--color-primary);
}

.article-single__share {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  margin-top: var(--space-6);
  padding-bottom: var(--space-8);
}

.article-single__share span {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.article-single__share a {
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-gray-700);
}

.article-single__share a:hover {
  color: var(--color-primary);
}

.article-single__sidebar {
  position: sticky;
  top: calc(var(--header-height) + var(--space-6));
  align-self: start;
}

.article-single__authors {
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
  margin-bottom: var(--space-6);
}

.article-single__author-card {
  background: var(--color-gray-50);
  padding: var(--space-6);
  border-radius: var(--radius-xl);
  text-align: center;
}

.article-single__author-card img {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  object-fit: cover;
  margin: 0 auto var(--space-4);
  display: block;
}

.article-single__author-card h3 {
  font-size: var(--text-lg);
  font-weight: 600;
  margin-bottom: var(--space-2);
}

.article-single__author-card p {
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  margin-bottom: var(--space-4);
}

.article-single__related {
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  margin-top: var(--space-8);
}

.article-single__related h3 {
  font-size: var(--text-lg);
  font-weight: 700;
  color: var(--color-gray-900);
  margin-bottom: var(--space-4);
  font-family: var(--font-display);
}

.article-single__related ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.article-single__related li {
  margin-bottom: var(--space-3);
  padding-bottom: var(--space-3);
  border-bottom: 1px solid var(--color-gray-200);
}

.article-single__related li:last-child {
  margin-bottom: 0;
  padding-bottom: 0;
  border-bottom: none;
}

.article-single__related a {
  font-size: var(--text-base);
  font-weight: 500;
  color: var(--color-gray-900);
  line-height: var(--leading-snug);
  text-decoration: none;
  display: block;
  transition: color var(--duration-fast);
}

.article-single__related a:hover {
  color: var(--color-primary);
}

/* ============================================
   EDITOR CONTENT (TinyMCE / Gutenberg)
   ============================================ */
/* Style links in editor content - ensure they're visible and styled correctly */
.article-single__content a,
.entry-content a,
.wp-block-post-content a,
.wp-block-group a,
.has-global-color a {
  color: var(--color-primary);
  text-decoration: underline;
  text-decoration-color: var(--color-primary);
  text-underline-offset: 2px;
  transition: color var(--duration-fast), text-decoration-color var(--duration-fast);
}

.article-single__content a:hover,
.entry-content a:hover,
.wp-block-post-content a:hover,
.wp-block-group a:hover,
.has-global-color a:hover {
  color: var(--color-primary-dark);
  text-decoration-color: var(--color-primary-dark);
}

/* Links on dark backgrounds */
.section--dark .article-single__content a,
.section--dark .entry-content a,
.section--dark .wp-block-post-content a,
.section--dark .wp-block-group a,
.page-header--dark .article-single__content a,
.page-header--dark .entry-content a {
  color: var(--color-primary-light);
  text-decoration-color: var(--color-primary-light);
}

.section--dark .article-single__content a:hover,
.section--dark .entry-content a:hover,
.section--dark .wp-block-post-content a:hover,
.section--dark .wp-block-group a:hover,
.page-header--dark .article-single__content a:hover,
.page-header--dark .entry-content a:hover {
  color: var(--color-white);
  text-decoration-color: var(--color-white);
}

/* Prevent inline styles from overriding (lock editor styles) */
.article-single__content a[style*="color"],
.entry-content a[style*="color"],
.wp-block-post-content a[style*="color"] {
  color: var(--color-primary) !important;
  text-decoration: underline !important;
}

/* ============================================
   TEXT TRUNCATION
   ============================================ */
/* Truncation is controlled via dynamic CSS from theme settings */
/* Default: truncation disabled - will be overridden by dynamic CSS if enabled */

/* Media Responsive */
@media (max-width: 1024px) {
  .featured-video {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }

  .podcast-grid,
  .articles-grid,
  .video-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .gallery-preview-grid {
    grid-template-columns: 1fr 1fr;
  }

  .gallery-preview-card--large {
    grid-column: span 2;
    grid-row: span 1;
    aspect-ratio: 21/9;
  }

  .gallery-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .section-header--with-link {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-4);
  }

  .podcast-grid,
  .articles-grid,
  .video-grid {
    grid-template-columns: 1fr;
    gap: var(--space-5);
  }

  .gallery-preview-grid {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }

  .gallery-preview-card--large {
    grid-column: span 1;
    aspect-ratio: 16/9;
  }

  .featured-video__play {
    width: 60px;
    height: 60px;
  }

  .featured-video__play svg {
    width: 24px;
    height: 24px;
  }

  .podcast-subscribe-banner {
    grid-template-columns: 1fr;
    text-align: center;
    gap: var(--space-6);
    padding: var(--space-8) var(--space-6);
  }

  .podcast-subscribe-banner__icon {
    margin: 0 auto;
    width: 64px;
    height: 64px;
  }

  .podcast-subscribe-banner__icon svg {
    width: 32px;
    height: 32px;
  }

  .podcast-subscribe-banner p {
    max-width: 100%;
  }

  .podcast-subscribe-banner__platforms {
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
  }

  .podcast-platform-link:hover {
    transform: translateY(-2px);
  }

  .podcast-subscribe-banner__waveform {
    display: none;
  }

  .video-single {
    grid-template-columns: 1fr;
    gap: var(--space-6);
  }

  .video-single__title {
    font-size: var(--text-xl);
  }

  .video-single__play-btn {
    width: 70px;
    height: 70px;
  }

  .video-single__play-btn svg {
    width: 28px;
    height: 28px;
  }

  .podcast-single__player {
    grid-template-columns: 1fr;
    padding: var(--space-6);
  }

  .podcast-single__cover {
    max-width: 200px;
    margin: 0 auto var(--space-6);
  }

  .podcast-single__title {
    font-size: var(--text-xl);
  }


  .article-single__title {
    font-size: var(--text-2xl);
  }

  .article-single__lead {
    font-size: var(--text-lg);
  }

  .article-single__body .container {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }

  .article-single__content {
    padding: var(--space-6) 0;
  }

  .article-single__sidebar {
    position: static;
    width: 100%;
    max-width: 100%;
  }

  .article-single__authors {
    display: flex;
    flex-direction: column;
    gap: var(--space-5);
    margin-bottom: var(--space-6);
  }

  .article-single__author-card {
    width: 100%;
    max-width: 100%;
  }

  .article-single__related {
    width: 100%;
    max-width: 100%;
  }
}

/* ============================================
   CART SLIDE-IN PANEL
   ============================================ */

.cart-slide {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9999;
  pointer-events: none;
  opacity: 0;
  visibility: hidden;
  transition: opacity var(--duration-normal), visibility var(--duration-normal);
}

.cart-slide.is-open {
  opacity: 1;
  visibility: visible;
  pointer-events: all;
}

.cart-slide__overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
}

.cart-slide__panel {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  max-width: 420px;
  height: 100%;
  background: var(--color-white);
  box-shadow: 0 0 40px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  transform: translateX(-100%);
  transition: transform var(--duration-normal) var(--ease-out);
}

.cart-slide.is-open .cart-slide__panel {
  transform: translateX(0);
}

.cart-slide__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-6);
  border-bottom: 1px solid var(--color-gray-200);
}

.cart-slide__title {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 600;
}

.cart-slide__close {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: var(--radius-lg);
  color: var(--color-gray-600);
  cursor: pointer;
  transition: all var(--duration-fast);
}

.cart-slide__close:hover {
  background: var(--color-gray-100);
  color: var(--color-gray-900);
}

.cart-slide__content {
  flex: 1;
  overflow-y: auto;
  padding: var(--space-6);
}

.cart-slide__empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-12) var(--space-6);
  text-align: center;
}

.cart-slide__empty-icon {
  color: var(--color-gray-300);
  margin-bottom: var(--space-6);
}

.cart-slide__empty-text {
  color: var(--color-gray-600);
  margin-bottom: var(--space-6);
}

.cart-slide__items {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  margin-bottom: var(--space-6);
}

.cart-slide__item {
  display: flex;
  gap: var(--space-4);
  padding: var(--space-4);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
}

.cart-slide__item-image {
  width: 80px;
  height: 80px;
  flex-shrink: 0;
  border-radius: var(--radius-md);
  overflow: hidden;
}

.cart-slide__item-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.cart-slide__item-details {
  flex: 1;
  min-width: 0;
}

.cart-slide__item-title {
  font-size: var(--text-sm);
  font-weight: 600;
  margin-bottom: var(--space-1);
  line-height: 1.4;
}

.cart-slide__item-title a {
  color: inherit;
  text-decoration: none;
}

.cart-slide__item-meta {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
  margin-bottom: var(--space-2);
}

.cart-slide__item-quantity {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-1);
  text-align: center;
  margin-right: var(--space-2);
}

.cart-slide__item-quantity-label {
  font-size: var(--text-xs);
  color: var(--color-gray-500);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.cart-slide__item-quantity-value {
  font-size: var(--text-base);
  font-weight: 700;
  color: var(--color-gray-900);
}

.cart-slide__item-price {
  font-size: var(--text-sm);
  font-weight: 700;
  color: var(--color-gray-900);
}

.cart-slide__item-remove {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: var(--radius-md);
  color: var(--color-gray-400);
  cursor: pointer;
  transition: all var(--duration-fast);
  flex-shrink: 0;
}

.cart-slide__item-remove:hover {
  background: var(--color-error);
  color: var(--color-white);
}

.cart-slide__summary {
  padding: var(--space-6);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-6);
}

.cart-slide__summary-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: var(--space-3);
  font-size: var(--text-sm);
}

.cart-slide__summary-total {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-gray-200);
  font-weight: 700;
  font-size: var(--text-lg);
}

.cart-slide__actions {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

@media (max-width: 768px) {
  .cart-slide__panel {
    max-width: 100%;
  }
}

/* ============================================
   ADD TO CART NOTIFICATION
   ============================================ */

.add-to-cart-notification {
  position: fixed;
  top: var(--space-6);
  right: var(--space-6);
  z-index: 10000;
  max-width: 400px;
  background: var(--color-white);
  border-radius: var(--radius-xl);
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
  opacity: 0;
  visibility: hidden;
  transform: translateY(-20px);
  transition: all var(--duration-normal) var(--ease-out);
  pointer-events: none;
}

.add-to-cart-notification.is-visible {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: all;
}

.add-to-cart-notification__content {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-5);
  border-bottom: 1px solid var(--color-gray-200);
}

.add-to-cart-notification__icon {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-green);
  border-radius: var(--radius-full);
  color: var(--color-white);
  flex-shrink: 0;
}

.add-to-cart-notification__message {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.add-to-cart-notification__message strong {
  display: block;
  font-weight: 600;
  font-size: var(--text-base);
  color: var(--color-gray-900);
  line-height: 1.4;
}

.add-to-cart-notification__product-name {
  display: block;
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  line-height: 1.4;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.add-to-cart-notification__close {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: var(--radius-md);
  color: var(--color-gray-400);
  cursor: pointer;
  transition: all var(--duration-fast);
  flex-shrink: 0;
}

.add-to-cart-notification__close:hover {
  background: var(--color-gray-100);
  color: var(--color-gray-900);
}

.add-to-cart-notification__actions {
  display: flex;
  gap: var(--space-2);
  padding: var(--space-4);
  align-items: stretch;
}

.add-to-cart-notification__action {
  flex: 1;
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-sm);
  font-weight: 500;
  text-align: center;
  border-radius: var(--radius-md);
  text-decoration: none;
  transition: all var(--duration-fast);
  border: none;
  background: transparent;
  cursor: pointer;
  white-space: nowrap;
  min-width: 0;
}

.add-to-cart-notification__action--close {
  color: var(--color-gray-600);
}

.add-to-cart-notification__action--close:hover {
  background: var(--color-gray-100);
}

.add-to-cart-notification__action--cart {
  color: var(--color-primary);
  background: var(--color-primary-muted);
}

.add-to-cart-notification__action--cart:hover {
  background: var(--color-primary);
  color: var(--color-white);
}

.add-to-cart-notification__action--checkout {
  color: var(--color-white);
  background: var(--color-gray-900);
}

.add-to-cart-notification__action--checkout:hover {
  background: var(--color-gray-800);
}

@media (max-width: 768px) {
  .add-to-cart-notification {
    top: var(--space-4);
    right: var(--space-4);
    left: var(--space-4);
    max-width: none;
  }
  
  .add-to-cart-notification__actions {
    flex-direction: column;
  }
  
  /* Cart Page Responsive */
  .cart-hero {
    padding-top: var(--space-6);
    padding-bottom: var(--space-6);
    margin-top: var(--header-height);
  }
  
  .cart-layout {
    grid-template-columns: 1fr;
    gap: var(--space-6);
    display: flex;
    flex-direction: column;
  }
  
  .cart-items {
    order: 1; /* Items first on mobile */
  }
  
  .cart-summary {
    order: 2; /* Summary second on mobile */
  }
  
  .cart-summary__card {
    padding: var(--space-6);
    position: static; /* Remove sticky on mobile */
  }
  
  .cart-summary__card .btn--lg {
    padding: var(--space-3) var(--space-5);
    font-size: var(--text-base);
  }
  
  .cart-item {
    grid-template-columns: 80px 1fr;
    gap: var(--space-4);
  }
  
  .cart-item__price {
    grid-column: 1 / -1;
    justify-self: start;
    flex-direction: row;
    align-items: center;
    gap: var(--space-2);
    min-width: auto;
  }
  
  .cart-item__remove-wrapper {
    grid-column: 1 / -1;
    justify-self: end;
    margin-top: var(--space-2);
  }
}

@media (max-width: 1024px) {
  .cart-layout {
    grid-template-columns: 1fr 340px;
    gap: var(--space-8);
  }
}

/* ============================================
   SEARCH PAGE
   ============================================ */

/* Search Page Header */
.page-header--search {
  background: var(--color-gray-50);
  padding: var(--space-16) 0 var(--space-12);
}

.page-header--search .page-header__title {
  font-size: var(--text-4xl);
  font-weight: 700;
  color: var(--color-gray-900);
  margin-bottom: var(--space-4);
}

.page-header--search .page-header__description {
  font-size: var(--text-lg);
  color: var(--color-gray-600);
}

/* Search Page Container */
.search-page {
  padding: var(--space-12) 0 var(--space-20);
  background: var(--color-white);
}

/* Search Bar */
.search-page__bar {
  margin-bottom: var(--space-8);
}

.search-page__form {
  display: flex;
  gap: var(--space-4);
  align-items: stretch;
  max-width: 800px;
}

.search-page__input-wrapper {
  position: relative;
  flex: 1;
  display: flex;
  align-items: center;
}

.search-page__icon {
  position: absolute;
  left: var(--space-4);
  color: var(--color-gray-400);
  pointer-events: none;
  z-index: 1;
}

.search-page__input {
  width: 100%;
  padding: var(--space-4) var(--space-4) var(--space-4) calc(var(--space-4) * 2 + 20px);
  font-size: var(--text-base);
  border: 2px solid var(--color-gray-300);
  border-radius: var(--radius-lg);
  background: var(--color-white);
  color: var(--color-gray-900);
  transition: all var(--duration-fast);
}

.search-page__input:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px var(--color-primary-muted);
}

.search-page__submit {
  padding: var(--space-4) var(--space-8);
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--color-white);
  background: var(--color-primary);
  border: none;
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: all var(--duration-fast);
  white-space: nowrap;
}

.search-page__submit:hover {
  background: var(--color-primary-dark);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(63, 147, 193, 0.3);
}

/* Search Filters */
.search-page__filters {
  margin-bottom: var(--space-8);
  padding: var(--space-6);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
}

.search-page__filter-group {
  position: relative;
}

.search-page__filter-toggle {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--color-gray-900);
  background: var(--color-white);
  border: 2px solid var(--color-gray-300);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--duration-fast);
}

.search-page__filter-toggle:hover {
  border-color: var(--color-primary);
}

.search-page__filter-toggle svg {
  transition: transform var(--duration-fast);
}

.search-page__filter-toggle[aria-expanded="true"] svg {
  transform: rotate(180deg);
}

.search-page__filter-options {
  display: none;
  margin-top: var(--space-4);
  padding: var(--space-4);
  background: var(--color-white);
  border: 2px solid var(--color-gray-200);
  border-radius: var(--radius-md);
}

.search-page__filter-options--open {
  display: block;
}

.search-page__filter-checkbox {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  cursor: pointer;
  border-radius: var(--radius-sm);
  transition: background var(--duration-fast);
}

.search-page__filter-checkbox:hover {
  background: var(--color-gray-50);
}

.search-page__filter-checkbox input[type="checkbox"] {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

.search-page__filter-checkbox-mark {
  width: 20px;
  height: 20px;
  border: 2px solid var(--color-gray-400);
  border-radius: var(--radius-sm);
  position: relative;
  flex-shrink: 0;
  transition: all var(--duration-fast);
}

.search-page__filter-checkbox input:checked + .search-page__filter-checkbox-mark {
  background: var(--color-primary);
  border-color: var(--color-primary);
}

.search-page__filter-checkbox input:checked + .search-page__filter-checkbox-mark::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 6px;
  height: 10px;
  border: solid var(--color-white);
  border-width: 0 2px 2px 0;
  transform: translate(-50%, -60%) rotate(45deg);
}

.search-page__filter-label {
  flex: 1;
  font-size: var(--text-base);
  color: var(--color-gray-900);
}

.search-page__filter-count {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

/* Results Header */
.search-page__results-header {
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-4);
  border-bottom: 2px solid var(--color-gray-200);
}

.search-page__results-count {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-gray-600);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* Search Results List */
.search-results-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

.search-result-item {
  padding: var(--space-6);
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  transition: all var(--duration-fast);
}

.search-result-item:hover {
  border-color: var(--color-primary);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  transform: translateY(-2px);
}

.search-result-item__content {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.search-result-item__header {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.search-result-item__type {
  display: inline-block;
  padding: var(--space-1) var(--space-3);
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--color-primary);
  background: var(--color-primary-muted);
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  width: fit-content;
}

.search-result-item__title {
  font-size: var(--text-xl);
  font-weight: 700;
  color: var(--color-gray-900);
  margin: 0;
  line-height: var(--leading-tight);
}

.search-result-item__title a {
  color: inherit;
  text-decoration: none;
  transition: color var(--duration-fast);
}

.search-result-item__title a:hover {
  color: var(--color-primary);
}

.search-result-item__excerpt {
  font-size: var(--text-base);
  color: var(--color-gray-600);
  line-height: var(--leading-relaxed);
  margin: 0;
}

.search-result-item__meta {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  margin-top: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.search-result-item__date {
  display: flex;
  align-items: center;
}

.search-result-item__category {
  padding: var(--space-1) var(--space-2);
  background: var(--color-gray-100);
  border-radius: var(--radius-sm);
  font-size: var(--text-xs);
  font-weight: 500;
}

/* No Results */
.search-page__no-results {
  padding: var(--space-12);
  text-align: center;
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
}

.search-page__no-results-text {
  font-size: var(--text-lg);
  color: var(--color-gray-600);
  margin: 0;
}

/* Pagination */
.search-page__pagination {
  margin-top: var(--space-12);
}

.search-page__pagination .page-numbers {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  list-style: none;
  margin: 0;
  padding: 0;
}

.search-page__pagination .page-numbers li {
  margin: 0;
}

.search-page__pagination .page-numbers a,
.search-page__pagination .page-numbers span {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 40px;
  height: 40px;
  padding: 0 var(--space-3);
  font-size: var(--text-base);
  font-weight: 500;
  color: var(--color-gray-700);
  background: var(--color-white);
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-md);
  text-decoration: none;
  transition: all var(--duration-fast);
}

.search-page__pagination .page-numbers a:hover {
  color: var(--color-primary);
  border-color: var(--color-primary);
  background: var(--color-primary-muted);
}

.search-page__pagination .page-numbers .current {
  color: var(--color-white);
  background: var(--color-primary);
  border-color: var(--color-primary);
}

/* Responsive */
@media (max-width: 768px) {
  .search-page__form {
    flex-direction: column;
  }

  .search-page__submit {
    width: 100%;
  }

  .search-result-item {
    padding: var(--space-4);
  }

  .search-result-item__title {
    font-size: var(--text-lg);
  }

  .search-result-item__excerpt {
    font-size: var(--text-sm);
  }

  .search-page__pagination .page-numbers {
    flex-wrap: wrap;
  }
}

/* ============================================
   ERROR PAGES (404 & 500)
   ============================================ */

/* 404 Page Styles */
.error-page {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background: linear-gradient(
    135deg,
    var(--color-gray-50) 0%,
    var(--color-white) 100%
  );
}

.error-page__main {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-8);
  padding-top: calc(var(--header-height) + var(--space-12));
}

.error-page__content {
  text-align: center;
  max-width: 600px;
}

.error-page__illustration {
  position: relative;
  margin-bottom: var(--space-8);
}

.error-page__number {
  font-family: var(--font-heading);
  font-size: clamp(120px, 20vw, 200px);
  font-weight: 700;
  line-height: 1;
  background: linear-gradient(
    135deg,
    var(--color-primary) 0%,
    var(--color-primary-dark) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  position: relative;
}

.error-page__number::after {
  content: attr(data-number);
  position: absolute;
  top: 4px;
  left: 4px;
  right: -4px;
  font-family: var(--font-heading);
  font-size: clamp(120px, 20vw, 200px);
  font-weight: 700;
  -webkit-text-fill-color: transparent;
  -webkit-text-stroke: 1px var(--color-gray-200);
  z-index: -1;
}

.error-page__icon {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 80px;
  height: 80px;
  background: var(--color-white);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  animation: float 3s ease-in-out infinite;
}

.error-page__icon svg {
  width: 40px;
  height: 40px;
  color: var(--color-primary);
}

@keyframes float {
  0%,
  100% {
    transform: translate(-50%, -50%) translateY(0);
  }
  50% {
    transform: translate(-50%, -50%) translateY(-10px);
  }
}

.error-page__title {
  font-family: var(--font-heading);
  font-size: var(--text-3xl);
  font-weight: 600;
  color: var(--color-gray-900);
  margin-bottom: var(--space-4);
}

.error-page__description {
  font-size: var(--text-lg);
  color: var(--color-gray-600);
  margin-bottom: var(--space-8);
  line-height: 1.7;
}

.error-page__actions {
  display: flex;
  gap: var(--space-4);
  justify-content: center;
  flex-wrap: wrap;
}

.error-page__suggestions {
  margin-top: var(--space-12);
  padding-top: var(--space-8);
  border-top: 1px solid var(--color-gray-200);
}

.error-page__suggestions-title {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--color-gray-500);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: var(--space-4);
}

.error-page__links {
  display: flex;
  gap: var(--space-6);
  justify-content: center;
  flex-wrap: wrap;
}

.error-page__link {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  color: var(--color-gray-700);
  font-size: var(--text-sm);
  font-weight: 500;
  transition: color var(--duration-fast);
  text-decoration: none;
}

.error-page__link:hover {
  color: var(--color-primary);
}

.error-page__link svg {
  width: 16px;
  height: 16px;
}

/* Simplified footer for error page */
.error-footer {
  padding: var(--space-6) 0;
  border-top: 1px solid var(--color-gray-200);
  background: var(--color-white);
}

.error-footer__inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-4);
  flex-wrap: wrap;
}

.error-footer__logo {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  text-decoration: none;
  color: inherit;
}

.error-footer__logo img {
  height: 32px;
  width: auto;
}

.error-footer__logo-text {
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: var(--text-lg);
  color: var(--color-gray-900);
}

.error-footer__copyright {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

/* 500 Page Styles (Dark Theme) */
.error-page--500 {
  background: linear-gradient(
    135deg,
    var(--color-gray-900) 0%,
    var(--color-gray-800) 100%
  );
}

.error-page--500 .error-page__number {
  background: linear-gradient(
    135deg,
    var(--color-accent) 0%,
    #e57373 100%
  );
}

.error-page--500 .error-page__number::after {
  -webkit-text-stroke: 1px rgba(255, 255, 255, 0.1);
}

.error-page--500 .error-page__icon {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  animation: pulse 2s ease-in-out infinite;
}

.error-page--500 .error-page__icon svg {
  color: var(--color-accent);
}

@keyframes pulse {
  0%,
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.05);
    opacity: 0.8;
  }
}

.error-page--500 .error-page__title {
  color: var(--color-white);
}

.error-page--500 .error-page__description {
  color: rgba(255, 255, 255, 0.7);
}

.error-page__status {
  margin-top: var(--space-12);
  padding: var(--space-6);
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-xl);
}

.error-page__status-title {
  font-size: var(--text-sm);
  font-weight: 600;
  color: rgba(255, 255, 255, 0.5);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: var(--space-3);
}

.error-page__status-text {
  font-size: var(--text-sm);
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: var(--space-4);
}

.error-page__status-text a {
  color: var(--color-primary-light);
  text-decoration: none;
}

.error-page__status-text a:hover {
  text-decoration: underline;
}

.error-page__status-indicator {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-success);
}

.error-page__status-indicator::before {
  content: "";
  width: 8px;
  height: 8px;
  background: var(--color-success);
  border-radius: 50%;
  animation: blink 1.5s ease-in-out infinite;
}

@keyframes blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.4;
  }
}

.error-page--500 .error-footer {
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  background: transparent;
}

.error-page--500 .error-footer__logo-text {
  color: var(--color-white);
}

.error-page--500 .error-footer__copyright {
  color: rgba(255, 255, 255, 0.5);
}

@media (max-width: 640px) {
  .error-page__actions {
    flex-direction: column;
  }

  .error-page__links {
    flex-direction: column;
    align-items: center;
  }

  .error-footer__inner {
    flex-direction: column;
    text-align: center;
  }
}

/* ============================================
   FONT SIZE ACCESSIBILITY WIDGET
   ============================================ */
.font-size-widget {
  position: fixed;
  bottom: var(--space-6);
  right: var(--space-8);
  z-index: 1000;
  background: var(--color-white);
  border-radius: var(--radius-lg);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  padding: var(--space-2) var(--space-2);
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  min-width: 48px;
  border: 1px solid var(--color-gray-200);
  transition: all var(--duration-base);
}

.font-size-widget:hover {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
}

.font-size-widget__label {
  font-size: 9px;
  font-weight: 600;
  color: var(--color-gray-500);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  text-align: center;
  padding: 0;
  margin-bottom: var(--space-1);
  line-height: 1.2;
}

.font-size-widget__buttons {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.font-size-widget__button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 36px;
  border-radius: var(--radius-md);
  border: 1px solid var(--color-gray-200);
  background: var(--color-white);
  color: var(--color-gray-700);
  font-size: var(--text-xs);
  font-weight: 700;
  cursor: pointer;
  transition: all var(--duration-base);
  position: relative;
  font-family: var(--font-primary);
  letter-spacing: 0;
}

.font-size-widget__button:hover {
  background: var(--color-gray-50);
  border-color: var(--color-gray-300);
}

.font-size-widget__button.active {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
  box-shadow: 0 1px 4px rgba(63, 147, 193, 0.3);
}

.font-size-widget__button.active:hover {
  background: var(--color-primary-dark);
  border-color: var(--color-primary-dark);
}

.font-size-widget__button--small {
  font-size: 11px;
  line-height: 1;
}

.font-size-widget__button--medium {
  font-size: 13px;
  line-height: 1;
}

.font-size-widget__button--large {
  font-size: 15px;
  line-height: 1;
}

@media (max-width: 768px) {
  .font-size-widget {
    bottom: var(--space-4);
    right: var(--space-4);
    min-width: 44px;
    padding: var(--space-2) var(--space-1);
  }

  .font-size-widget__button {
    width: 36px;
    height: 32px;
  }

  .font-size-widget__label {
    font-size: 8px;
  }

  .font-size-widget__button--small {
    font-size: 10px;
  }

  .font-size-widget__button--medium {
    font-size: 12px;
  }

  .font-size-widget__button--large {
    font-size: 14px;
  }
}
